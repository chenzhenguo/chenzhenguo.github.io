var IP=Object.defineProperty;var LP=(t,e,r)=>e in t?IP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ui=(t,e,r)=>(LP(t,typeof e!="symbol"?e+"":e,r),r);function BP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var _T={exports:{}},zc={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Fw=Object.getOwnPropertySymbols,FP=Object.prototype.hasOwnProperty,jP=Object.prototype.propertyIsEnumerable;function HP(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function UP(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var MT=UP()?Object.assign:function(t,e){for(var r,n=HP(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)FP.call(r,a)&&(n[a]=r[a]);if(Fw){i=Fw(r);for(var s=0;s<i.length;s++)jP.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n},AT={exports:{}},Ge={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=MT,fl=60103,DT=60106;Ge.Fragment=60107;Ge.StrictMode=60108;Ge.Profiler=60114;var RT=60109,PT=60110,NT=60112;Ge.Suspense=60113;var IT=60115,LT=60116;if(typeof Symbol=="function"&&Symbol.for){var yn=Symbol.for;fl=yn("react.element"),DT=yn("react.portal"),Ge.Fragment=yn("react.fragment"),Ge.StrictMode=yn("react.strict_mode"),Ge.Profiler=yn("react.profiler"),RT=yn("react.provider"),PT=yn("react.context"),NT=yn("react.forward_ref"),Ge.Suspense=yn("react.suspense"),IT=yn("react.memo"),LT=yn("react.lazy")}var jw=typeof Symbol=="function"&&Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=jw&&t[jw]||t["@@iterator"],typeof t=="function"?t:null)}function Fc(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zT={};function dl(t,e,r){this.props=t,this.context=e,this.refs=zT,this.updater=r||BT}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Fc(85));this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FT(){}FT.prototype=dl.prototype;function Fy(t,e,r){this.props=t,this.context=e,this.refs=zT,this.updater=r||BT}var jy=Fy.prototype=new FT;jy.constructor=Fy;zy(jy,dl.prototype);jy.isPureReactComponent=!0;var Hy={current:null},jT=Object.prototype.hasOwnProperty,HT={key:!0,ref:!0,__self:!0,__source:!0};function UT(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)jT.call(e,n)&&!HT.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:fl,type:t,key:o,ref:a,props:i,_owner:Hy.current}}function VP(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function WP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Hw=/\/+/g;function Cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WP(""+t.key):e.toString(36)}function sd(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fl:case DT:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Cg(a,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Hw,"$&/")+"/"),sd(i,e,r,"",function(u){return u})):i!=null&&(Uy(i)&&(i=VP(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Hw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Cg(o,s);a+=sd(o,e,r,l,i)}else if(l=$P(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Cg(o,s++),a+=sd(o,e,r,l,i);else if(o==="object")throw e=""+t,Error(Fc(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function mf(t,e,r){if(t==null)return t;var n=[],i=0;return sd(t,n,"","",function(o){return e.call(r,o,i++)}),n}function GP(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var $T={current:null};function Oi(){var t=$T.current;if(t===null)throw Error(Fc(321));return t}var qP={ReactCurrentDispatcher:$T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Hy,IsSomeRendererActing:{current:!1},assign:zy};Ge.Children={map:mf,forEach:function(t,e,r){mf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mf(t,function(){e++}),e},toArray:function(t){return mf(t,function(e){return e})||[]},only:function(t){if(!Uy(t))throw Error(Fc(143));return t}};Ge.Component=dl;Ge.PureComponent=Fy;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Ge.cloneElement=function(t,e,r){if(t==null)throw Error(Fc(267,t));var n=zy({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Hy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)jT.call(e,l)&&!HT.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:fl,type:t.type,key:i,ref:o,props:n,_owner:a}};Ge.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:PT,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:RT,_context:t},t.Consumer=t};Ge.createElement=UT;Ge.createFactory=function(t){var e=UT.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:NT,render:t}};Ge.isValidElement=Uy;Ge.lazy=function(t){return{$$typeof:LT,_payload:{_status:-1,_result:t},_init:GP}};Ge.memo=function(t,e){return{$$typeof:IT,type:t,compare:e===void 0?null:e}};Ge.useCallback=function(t,e){return Oi().useCallback(t,e)};Ge.useContext=function(t,e){return Oi().useContext(t,e)};Ge.useDebugValue=function(){};Ge.useEffect=function(t,e){return Oi().useEffect(t,e)};Ge.useImperativeHandle=function(t,e,r){return Oi().useImperativeHandle(t,e,r)};Ge.useLayoutEffect=function(t,e){return Oi().useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Oi().useMemo(t,e)};Ge.useReducer=function(t,e,r){return Oi().useReducer(t,e,r)};Ge.useRef=function(t){return Oi().useRef(t)};Ge.useState=function(t){return Oi().useState(t)};Ge.version="17.0.2";AT.exports=Ge;var U=AT.exports;const re=cl(U),KP=BP({__proto__:null,default:re},[U]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=U,VT=60103;zc.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Uw=Symbol.for;VT=Uw("react.element"),zc.Fragment=Uw("react.fragment")}var XP=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JP=Object.prototype.hasOwnProperty,QP={key:!0,ref:!0,__self:!0,__source:!0};function WT(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)JP.call(e,n)&&!QP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:VT,type:t,key:o,ref:a,props:i,_owner:XP.current}}zc.jsx=WT;zc.jsxs=WT;_T.exports=zc;var X=_T.exports,GT={exports:{}},hn={},qT={exports:{}},KT={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var D=t.unstable_now();l(!0,D),l=null}catch($){throw setTimeout(c,0),$}};e=function(D){l!==null?setTimeout(e,0,D):(l=D,setTimeout(c,0))},r=function(D,$){u=setTimeout(D,$)},n=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,g=null,m=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<D?Math.floor(1e3/D):5};var w=new MessageChannel,y=w.port2;w.port1.onmessage=function(){if(g!==null){var D=t.unstable_now();b=D+v;try{g(!0,D)?y.postMessage(null):(h=!1,g=null)}catch($){throw y.postMessage(null),$}}else h=!1},e=function(D){g=D,h||(h=!0,y.postMessage(null))},r=function(D,$){m=f(function(){D(t.unstable_now())},$)},n=function(){d(m),m=-1}}function x(D,$){var V=D.length;D.push($);e:for(;;){var W=V-1>>>1,q=D[W];if(q!==void 0&&0<E(q,$))D[W]=$,D[V]=q,V=W;else break e}}function S(D){return D=D[0],D===void 0?null:D}function C(D){var $=D[0];if($!==void 0){var V=D.pop();if(V!==$){D[0]=V;e:for(var W=0,q=D.length;W<q;){var Y=2*(W+1)-1,te=D[Y],ee=Y+1,he=D[ee];if(te!==void 0&&0>E(te,V))he!==void 0&&0>E(he,te)?(D[W]=he,D[ee]=V,W=ee):(D[W]=te,D[Y]=V,W=Y);else if(he!==void 0&&0>E(he,V))D[W]=he,D[ee]=V,W=ee;else break e}}return $}return null}function E(D,$){var V=D.sortIndex-$.sortIndex;return V!==0?V:D.id-$.id}var k=[],T=[],A=1,O=null,_=3,N=!1,M=!1,L=!1;function I(D){for(var $=S(T);$!==null;){if($.callback===null)C(T);else if($.startTime<=D)C(T),$.sortIndex=$.expirationTime,x(k,$);else break;$=S(T)}}function R(D){if(L=!1,I(D),!M)if(S(k)!==null)M=!0,e(z);else{var $=S(T);$!==null&&r(R,$.startTime-D)}}function z(D,$){M=!1,L&&(L=!1,n()),N=!0;var V=_;try{for(I($),O=S(k);O!==null&&(!(O.expirationTime>$)||D&&!t.unstable_shouldYield());){var W=O.callback;if(typeof W=="function"){O.callback=null,_=O.priorityLevel;var q=W(O.expirationTime<=$);$=t.unstable_now(),typeof q=="function"?O.callback=q:O===S(k)&&C(k),I($)}else C(k);O=S(k)}if(O!==null)var Y=!0;else{var te=S(T);te!==null&&r(R,te.startTime-$),Y=!1}return Y}finally{O=null,_=V,N=!1}}var j=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){M||N||(M=!0,e(z))},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(D){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var V=_;_=$;try{return D()}finally{_=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=_;_=D;try{return $()}finally{_=V}},t.unstable_scheduleCallback=function(D,$,V){var W=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,D={id:A++,callback:$,priorityLevel:D,startTime:V,expirationTime:q,sortIndex:-1},V>W?(D.sortIndex=V,x(T,D),S(k)===null&&D===S(T)&&(L?n():L=!0,r(R,V-W))):(D.sortIndex=q,x(k,D),M||N||(M=!0,e(z))),D},t.unstable_wrapCallback=function(D){var $=_;return function(){var V=_;_=$;try{return D.apply(this,arguments)}finally{_=V}}}})(KT);qT.exports=KT;var ZP=qT.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=U,ft=MT,Gt=ZP;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ph)throw Error(se(227));var YT=new Set,Qu={};function Ca(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(Qu[t]=e,t=0;t<e.length;t++)YT.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$w=Object.prototype.hasOwnProperty,Vw={},Ww={};function tN(t){return $w.call(Ww,t)?!0:$w.call(Vw,t)?!1:eN.test(t)?Ww[t]=!0:(Vw[t]=!0,!1)}function rN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nN(t,e,r,n){if(e===null||typeof e>"u"||rN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $y=/[\-:]([a-z])/g;function Vy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($y,Vy);rr[e]=new Tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($y,Vy);rr[e]=new Tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($y,Vy);rr[e]=new Tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Tr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wy(t,e,r,n){var i=rr.hasOwnProperty(e)?rr[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(nN(e,r,i,n)&&(r=null),n||i===null?tN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ka=ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=60103,Vo=60106,$i=60107,Gy=60108,yu=60114,qy=60109,Ky=60110,hh=60112,bu=60113,Dd=60120,gh=60115,Yy=60116,Xy=60121,Jy=60128,XT=60129,Qy=60130,cv=60131;if(typeof Symbol=="function"&&Symbol.for){var Ht=Symbol.for;ou=Ht("react.element"),Vo=Ht("react.portal"),$i=Ht("react.fragment"),Gy=Ht("react.strict_mode"),yu=Ht("react.profiler"),qy=Ht("react.provider"),Ky=Ht("react.context"),hh=Ht("react.forward_ref"),bu=Ht("react.suspense"),Dd=Ht("react.suspense_list"),gh=Ht("react.memo"),Yy=Ht("react.lazy"),Xy=Ht("react.block"),Ht("react.scope"),Jy=Ht("react.opaque.id"),XT=Ht("react.debug_trace_mode"),Qy=Ht("react.offscreen"),cv=Ht("react.legacy_hidden")}var Gw=typeof Symbol=="function"&&Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var kg;function au(t){if(kg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kg=e&&e[1]||""}return`
`+kg+t}var Tg=!1;function vf(t,e){if(!t||Tg)return"";Tg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{Tg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?au(t):""}function iN(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=vf(t.type,!1),t;case 11:return t=vf(t.type.render,!1),t;case 22:return t=vf(t.type._render,!1),t;case 1:return t=vf(t.type,!0),t;default:return""}}function gs(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case Vo:return"Portal";case yu:return"Profiler";case Gy:return"StrictMode";case bu:return"Suspense";case Dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ky:return(t.displayName||"Context")+".Consumer";case qy:return(t._context.displayName||"Context")+".Provider";case hh:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case gh:return gs(t.type);case Xy:return gs(t._render);case Yy:e=t._payload,t=t._init;try{return gs(t(e))}catch{}}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function JT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oN(t){var e=JT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yf(t){t._valueTracker||(t._valueTracker=oN(t))}function QT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=JT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fv(t,e){var r=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=mo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZT(t,e){e=e.checked,e!=null&&Wy(t,"checked",e,!1)}function dv(t,e){ZT(t,e);var r=mo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pv(t,e.type,r):e.hasOwnProperty("defaultValue")&&pv(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pv(t,e,r){(e!=="number"||Rd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function aN(t){var e="";return ph.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function hv(t,e){return t=ft({children:void 0},e),(e=aN(e.children))&&(t.children=e),t}function ms(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:mo(r)}}function eO(t,e){var r=mo(e.value),n=mo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var mv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function tO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bf,rO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==mv.svg||"innerHTML"in t)t.innerHTML=e;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sN=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){sN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function nO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function iO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=nO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lN=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yv(t,e){if(e){if(lN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wv=null,vs=null,ys=null;function Jw(t){if(t=Hc(t)){if(typeof wv!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Sh(e),wv(t.stateNode,t.type,e))}}function oO(t){vs?ys?ys.push(t):ys=[t]:vs=t}function aO(){if(vs){var t=vs,e=ys;if(ys=vs=null,Jw(t),e)for(t=0;t<e.length;t++)Jw(e[t])}}function e1(t,e){return t(e)}function sO(t,e,r,n,i){return t(e,r,n,i)}function t1(){}var lO=e1,Wo=!1,Og=!1;function r1(){(vs!==null||ys!==null)&&(t1(),aO())}function uN(t,e,r){if(Og)return t(e,r);Og=!0;try{return lO(t,e,r)}finally{Og=!1,r1()}}function ec(t,e){var r=t.stateNode;if(r===null)return null;var n=Sh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var Sv=!1;if(Ci)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Sv=!1}function cN(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Su=!1,Pd=null,Nd=!1,xv=null,fN={onError:function(t){Su=!0,Pd=t}};function dN(t,e,r,n,i,o,a,s,l){Su=!1,Pd=null,cN.apply(fN,arguments)}function pN(t,e,r,n,i,o,a,s,l){if(dN.apply(this,arguments),Su){if(Su){var u=Pd;Su=!1,Pd=null}else throw Error(se(198));Nd||(Nd=!0,xv=u)}}function Ta(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function uO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qw(t){if(Ta(t)!==t)throw Error(se(188))}function hN(t){var e=t.alternate;if(!e){if(e=Ta(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Qw(i),t;if(o===n)return Qw(i),e;o=o.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function cO(t){if(t=hN(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Zw(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var fO,n1,dO,pO,Ev=!1,jn=[],to=null,ro=null,no=null,tc=new Map,rc=new Map,Pl=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function tS(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function Nl(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=Cv(e,r,n,i,o),e!==null&&(e=Hc(e),e!==null&&n1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gN(t,e,r,n,i){switch(e){case"focusin":return to=Nl(to,t,e,r,n,i),!0;case"dragenter":return ro=Nl(ro,t,e,r,n,i),!0;case"mouseover":return no=Nl(no,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return tc.set(o,Nl(tc.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,rc.set(o,Nl(rc.get(o)||null,t,e,r,n,i)),!0}return!1}function mN(t){var e=Go(t.target);if(e!==null){var r=Ta(e);if(r!==null){if(e=r.tag,e===13){if(e=uO(r),e!==null){t.blockedOn=e,pO(t.lanePriority,function(){Gt.unstable_runWithPriority(t.priority,function(){dO(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=s1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Hc(r),e!==null&&n1(e),t.blockedOn=r,!1;e.shift()}return!0}function rS(t,e,r){ld(t)&&r.delete(e)}function vN(){for(Ev=!1;0<jn.length;){var t=jn[0];if(t.blockedOn!==null){t=Hc(t.blockedOn),t!==null&&fO(t);break}for(var e=t.targetContainers;0<e.length;){var r=s1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&jn.shift()}to!==null&&ld(to)&&(to=null),ro!==null&&ld(ro)&&(ro=null),no!==null&&ld(no)&&(no=null),tc.forEach(rS),rc.forEach(rS)}function Il(t,e){t.blockedOn===e&&(t.blockedOn=null,Ev||(Ev=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,vN)))}function hO(t){function e(i){return Il(i,t)}if(0<jn.length){Il(jn[0],t);for(var r=1;r<jn.length;r++){var n=jn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(to!==null&&Il(to,t),ro!==null&&Il(ro,t),no!==null&&Il(no,t),tc.forEach(e),rc.forEach(e),r=0;r<Pl.length;r++)n=Pl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pl.length&&(r=Pl[0],r.blockedOn===null);)mN(r),r.blockedOn===null&&Pl.shift()}function wf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xa={animationend:wf("Animation","AnimationEnd"),animationiteration:wf("Animation","AnimationIteration"),animationstart:wf("Animation","AnimationStart"),transitionend:wf("Transition","TransitionEnd")},_g={},gO={};Ci&&(gO=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function mh(t){if(_g[t])return _g[t];if(!Xa[t])return t;var e=Xa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gO)return _g[t]=e[r];return t}var mO=mh("animationend"),vO=mh("animationiteration"),yO=mh("animationstart"),bO=mh("transitionend"),wO=new Map,i1=new Map,yN=["abort","abort",mO,"animationEnd",vO,"animationIteration",yO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",bO,"transitionEnd","waiting","waiting"];function o1(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),i1.set(n,e),wO.set(n,i),Ca(i,[n])}}var bN=Gt.unstable_now;bN();var nt=8;function Ua(t){if(1&t)return nt=15,1;if(2&t)return nt=14,2;if(4&t)return nt=13,4;var e=24&t;return e!==0?(nt=12,e):t&32?(nt=11,32):(e=192&t,e!==0?(nt=10,e):t&256?(nt=9,256):(e=3584&t,e!==0?(nt=8,e):t&4096?(nt=7,4096):(e=4186112&t,e!==0?(nt=6,e):(e=62914560&t,e!==0?(nt=5,e):t&67108864?(nt=4,67108864):t&134217728?(nt=3,134217728):(e=805306368&t,e!==0?(nt=2,e):1073741824&t?(nt=1,1073741824):(nt=8,t))))))}function wN(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function SN(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(se(358,t))}}function nc(t,e){var r=t.pendingLanes;if(r===0)return nt=0;var n=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(o!==0)n=o,i=nt=15;else if(o=r&134217727,o!==0){var l=o&~a;l!==0?(n=Ua(l),i=nt):(s&=o,s!==0&&(n=Ua(s),i=nt))}else o=r&~a,o!==0?(n=Ua(o),i=nt):s!==0&&(n=Ua(s),i=nt);if(n===0)return 0;if(n=31-vo(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&a)){if(Ua(e),i<=nt)return e;nt=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vo(e),i=1<<r,n|=t[r],e&=~i;return n}function SO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Id(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=$a(24&~e),t===0?Id(10,e):t;case 10:return t=$a(192&~e),t===0?Id(8,e):t;case 8:return t=$a(3584&~e),t===0&&(t=$a(4186112&~e),t===0&&(t=512)),t;case 2:return e=$a(805306368&~e),e===0&&(e=268435456),e}throw Error(se(358,t))}function $a(t){return t&-t}function Mg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vh(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-vo(e),t[e]=r}var vo=Math.clz32?Math.clz32:CN,xN=Math.log,EN=Math.LN2;function CN(t){return t===0?32:31-(xN(t)/EN|0)|0}var kN=Gt.unstable_UserBlockingPriority,TN=Gt.unstable_runWithPriority,ud=!0;function ON(t,e,r,n){Wo||t1();var i=a1,o=Wo;Wo=!0;try{sO(i,t,e,r,n)}finally{(Wo=o)||r1()}}function _N(t,e,r,n){TN(kN,a1.bind(null,t,e,r,n))}function a1(t,e,r,n){if(ud){var i;if((i=(e&4)===0)&&0<jn.length&&-1<eS.indexOf(t))t=Cv(null,t,e,r,n),jn.push(t);else{var o=s1(t,e,r,n);if(o===null)i&&tS(t,n);else{if(i){if(-1<eS.indexOf(t)){t=Cv(o,t,e,r,n),jn.push(t);return}if(gN(o,t,e,r,n))return;tS(t,n)}NO(t,e,n,null,r)}}}}function s1(t,e,r,n){var i=Zy(n);if(i=Go(i),i!==null){var o=Ta(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=uO(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return NO(t,e,n,i,r),null}var Gi=null,l1=null,cd=null;function xO(){if(cd)return cd;var t,e=l1,r=e.length,n,i="value"in Gi?Gi.value:Gi.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return cd=i.slice(t,1<n?1-n:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sf(){return!0}function nS(){return!1}function Gr(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sf:nS,this.isPropagationStopped=nS,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=Gr(pl),jc=ft({},pl,{view:0,detail:0}),MN=Gr(jc),Ag,Dg,Ll,yh=ft({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(Ag=t.screenX-Ll.screenX,Dg=t.screenY-Ll.screenY):Dg=Ag=0,Ll=t),Ag)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),iS=Gr(yh),AN=ft({},yh,{dataTransfer:0}),DN=Gr(AN),RN=ft({},jc,{relatedTarget:0}),Rg=Gr(RN),PN=ft({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),NN=Gr(PN),IN=ft({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LN=Gr(IN),BN=ft({},pl,{data:0}),oS=Gr(BN),zN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jN[t])?!!e[t]:!1}function c1(){return HN}var UN=ft({},jc,{key:function(t){if(t.key){var e=zN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$N=Gr(UN),VN=ft({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Gr(VN),WN=ft({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),GN=Gr(WN),qN=ft({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=Gr(qN),YN=ft({},yh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XN=Gr(YN),JN=[9,13,27,32],f1=Ci&&"CompositionEvent"in window,xu=null;Ci&&"documentMode"in document&&(xu=document.documentMode);var QN=Ci&&"TextEvent"in window&&!xu,EO=Ci&&(!f1||xu&&8<xu&&11>=xu),sS=String.fromCharCode(32),lS=!1;function CO(t,e){switch(t){case"keyup":return JN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function ZN(t,e){switch(t){case"compositionend":return kO(e);case"keypress":return e.which!==32?null:(lS=!0,sS);case"textInput":return t=e.data,t===sS&&lS?null:t;default:return null}}function eI(t,e){if(Ja)return t==="compositionend"||!f1&&CO(t,e)?(t=xO(),cd=l1=Gi=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EO&&e.locale!=="ko"?null:e.data;default:return null}}var tI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tI[t.type]:e==="textarea"}function TO(t,e,r,n){oO(n),e=Ld(e,"onChange"),0<e.length&&(r=new u1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Eu=null,ic=null;function rI(t){DO(t,0)}function bh(t){var e=Za(t);if(QT(e))return t}function nI(t,e){if(t==="change")return e}var OO=!1;if(Ci){var Pg;if(Ci){var Ng="oninput"in document;if(!Ng){var cS=document.createElement("div");cS.setAttribute("oninput","return;"),Ng=typeof cS.oninput=="function"}Pg=Ng}else Pg=!1;OO=Pg&&(!document.documentMode||9<document.documentMode)}function fS(){Eu&&(Eu.detachEvent("onpropertychange",_O),ic=Eu=null)}function _O(t){if(t.propertyName==="value"&&bh(ic)){var e=[];if(TO(e,ic,t,Zy(t)),t=rI,Wo)t(e);else{Wo=!0;try{e1(t,e)}finally{Wo=!1,r1()}}}}function iI(t,e,r){t==="focusin"?(fS(),Eu=e,ic=r,Eu.attachEvent("onpropertychange",_O)):t==="focusout"&&fS()}function oI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(ic)}function aI(t,e){if(t==="click")return bh(e)}function sI(t,e){if(t==="input"||t==="change")return bh(e)}function lI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zr=typeof Object.is=="function"?Object.is:lI,uI=Object.prototype.hasOwnProperty;function oc(t,e){if(Zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!uI.call(e,r[n])||!Zr(t[r[n]],e[r[n]]))return!1;return!0}function dS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pS(t,e){var r=dS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dS(r)}}function MO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hS(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rd(t.document)}return e}function kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cI=Ci&&"documentMode"in document&&11>=document.documentMode,Qa=null,Tv=null,Cu=null,Ov=!1;function gS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ov||Qa==null||Qa!==Rd(n)||(n=Qa,"selectionStart"in n&&kv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cu&&oc(Cu,n)||(Cu=n,n=Ld(Tv,"onSelect"),0<n.length&&(e=new u1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qa)))}o1("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);o1("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);o1(yN,2);for(var mS="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ig=0;Ig<mS.length;Ig++)i1.set(mS[Ig],0);Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AO=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function vS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pN(n,e,void 0,t),t.currentTarget=null}function DO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;vS(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;vS(i,s,u),o=l}}}if(Nd)throw t=xv,Nd=!1,xv=null,t}function ot(t,e){var r=LO(e),n=t+"__bubble";r.has(n)||(PO(e,t,2,!1),r.add(n))}var yS="_reactListening"+Math.random().toString(36).slice(2);function RO(t){t[yS]||(t[yS]=!0,YT.forEach(function(e){AO.has(e)||bS(e,!1,t,null),bS(e,!0,t,null)}))}function bS(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&AO.has(t)){if(t!=="scroll")return;i|=2,o=n}var a=LO(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),PO(o,t,i,e),a.add(s))}function PO(t,e,r,n){var i=i1.get(e);switch(i===void 0?2:i){case 0:i=ON;break;case 1:i=_N;break;default:i=a1}r=i.bind(null,e,r,t),i=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function NO(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Go(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}uN(function(){var u=o,c=Zy(r),f=[];e:{var d=wO.get(t);if(d!==void 0){var p=u1,h=t;switch(t){case"keypress":if(fd(r)===0)break e;case"keydown":case"keyup":p=$N;break;case"focusin":h="focus",p=Rg;break;case"focusout":h="blur",p=Rg;break;case"beforeblur":case"afterblur":p=Rg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=GN;break;case mO:case vO:case yO:p=NN;break;case bO:p=KN;break;case"scroll":p=MN;break;case"wheel":p=XN;break;case"copy":case"cut":case"paste":p=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aS}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,w;b!==null;){w=b;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,v!==null&&(y=ec(b,v),y!=null&&g.push(ac(b,y,w)))),m)break;b=b.return}0<g.length&&(d=new p(d,h,null,r,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&!(e&16)&&(h=r.relatedTarget||r.fromElement)&&(Go(h)||h[hl]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?Go(h):null,h!==null&&(m=Ta(h),h!==m||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(g=iS,y="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=aS,y="onPointerLeave",v="onPointerEnter",b="pointer"),m=p==null?d:Za(p),w=h==null?d:Za(h),d=new g(y,b+"leave",p,r,c),d.target=m,d.relatedTarget=w,y=null,Go(c)===u&&(g=new g(v,b+"enter",h,r,c),g.target=w,g.relatedTarget=m,y=g),m=y,p&&h)t:{for(g=p,v=h,b=0,w=g;w;w=Na(w))b++;for(w=0,y=v;y;y=Na(y))w++;for(;0<b-w;)g=Na(g),b--;for(;0<w-b;)v=Na(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Na(g),v=Na(v)}g=null}else g=null;p!==null&&wS(f,d,p,g,!1),h!==null&&m!==null&&wS(f,m,h,g,!0)}}e:{if(d=u?Za(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=nI;else if(uS(d))if(OO)x=sI;else{x=oI;var S=iI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=aI);if(x&&(x=x(t,u))){TO(f,x,r,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&pv(d,"number",d.value)}switch(S=u?Za(u):window,t){case"focusin":(uS(S)||S.contentEditable==="true")&&(Qa=S,Tv=u,Cu=null);break;case"focusout":Cu=Tv=Qa=null;break;case"mousedown":Ov=!0;break;case"contextmenu":case"mouseup":case"dragend":Ov=!1,gS(f,r,c);break;case"selectionchange":if(cI)break;case"keydown":case"keyup":gS(f,r,c)}var C;if(f1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ja?CO(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(EO&&r.locale!=="ko"&&(Ja||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ja&&(C=xO()):(Gi=c,l1="value"in Gi?Gi.value:Gi.textContent,Ja=!0)),S=Ld(u,E),0<S.length&&(E=new oS(E,t,null,r,c),f.push({event:E,listeners:S}),C?E.data=C:(C=kO(r),C!==null&&(E.data=C)))),(C=QN?ZN(t,r):eI(t,r))&&(u=Ld(u,"onBeforeInput"),0<u.length&&(c=new oS("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=C))}DO(f,e)})}function ac(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ld(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ec(t,r),o!=null&&n.unshift(ac(t,o,i)),o=ec(t,e),o!=null&&n.push(ac(t,o,i))),t=t.return}return n}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wS(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=ec(r,o),l!=null&&a.unshift(ac(r,l,s))):i||(l=ec(r,o),l!=null&&a.push(ac(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}function Bd(){}var Lg=null,Bg=null;function IO(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function _v(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SS=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0;function d1(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function xS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zg=0;function dI(t){return{$$typeof:Jy,toString:t,valueOf:t}}var wh=Math.random().toString(36).slice(2),qi="__reactFiber$"+wh,zd="__reactProps$"+wh,hl="__reactContainer$"+wh,ES="__reactEvents$"+wh;function Go(t){var e=t[qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hl]||r[qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xS(t);t!==null;){if(r=t[qi])return r;t=xS(t)}return e}t=r,r=t.parentNode}return null}function Hc(t){return t=t[qi]||t[hl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Sh(t){return t[zd]||null}function LO(t){var e=t[ES];return e===void 0&&(e=t[ES]=new Set),e}var Mv=[],es=-1;function To(t){return{current:t}}function st(t){0>es||(t.current=Mv[es],Mv[es]=null,es--)}function St(t,e){es++,Mv[es]=t.current,t.current=e}var yo={},cr=To(yo),Pr=To(!1),ca=yo;function Ls(t,e){var r=t.type.contextTypes;if(!r)return yo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function Fd(){st(Pr),st(cr)}function CS(t,e,r){if(cr.current!==yo)throw Error(se(168));St(cr,e),St(Pr,r)}function BO(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(se(108,gs(e)||"Unknown",i));return ft({},r,n)}function dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,ca=cr.current,St(cr,t),St(Pr,Pr.current),!0}function kS(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=BO(t,e,ca),n.__reactInternalMemoizedMergedChildContext=t,st(Pr),st(cr),St(cr,t)):st(Pr),St(Pr,r)}var p1=null,ta=null,pI=Gt.unstable_runWithPriority,h1=Gt.unstable_scheduleCallback,Av=Gt.unstable_cancelCallback,hI=Gt.unstable_shouldYield,TS=Gt.unstable_requestPaint,Dv=Gt.unstable_now,gI=Gt.unstable_getCurrentPriorityLevel,xh=Gt.unstable_ImmediatePriority,zO=Gt.unstable_UserBlockingPriority,FO=Gt.unstable_NormalPriority,jO=Gt.unstable_LowPriority,HO=Gt.unstable_IdlePriority,Fg={},mI=TS!==void 0?TS:function(){},hi=null,pd=null,jg=!1,OS=Dv(),lr=1e4>OS?Dv:function(){return Dv()-OS};function Bs(){switch(gI()){case xh:return 99;case zO:return 98;case FO:return 97;case jO:return 96;case HO:return 95;default:throw Error(se(332))}}function UO(t){switch(t){case 99:return xh;case 98:return zO;case 97:return FO;case 96:return jO;case 95:return HO;default:throw Error(se(332))}}function fa(t,e){return t=UO(t),pI(t,e)}function sc(t,e,r){return t=UO(t),h1(t,e,r)}function ni(){if(pd!==null){var t=pd;pd=null,Av(t)}$O()}function $O(){if(!jg&&hi!==null){jg=!0;var t=0;try{var e=hi;fa(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),hi=null}catch(r){throw hi!==null&&(hi=hi.slice(t+1)),h1(xh,ni),r}finally{jg=!1}}}var vI=ka.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var jd=To(null),Hd=null,ts=null,Ud=null;function g1(){Ud=ts=Hd=null}function m1(t){var e=jd.current;st(jd),t.type._context._currentValue=e}function VO(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function ws(t,e){Hd=t,Ud=ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function sn(t,e){if(Ud!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ud=t,e=1073741823),e={context:t,observedBits:e,next:null},ts===null){if(Hd===null)throw Error(se(308));ts=e,Hd.dependencies={lanes:0,firstContext:e,responders:null}}else ts=ts.next=e;return t._currentValue}var zi=!1;function v1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function WO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function _S(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lc(t,e,r,n){var i=t.updateQueue;zi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(f===null?c.firstBaseUpdate=u:f.next=u,c.lastBaseUpdate=l)}}if(o!==null){f=i.baseState,a=0,c=u=l=null;do{s=o.lane;var d=o.eventTime;if((n&s)===s){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,h=o;switch(s=e,d=r,h.tag){case 1:if(p=h.payload,typeof p=="function"){f=p.call(d,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=h.payload,s=typeof p=="function"?p.call(d,f,s):p,s==null)break e;f=ft({},f,s);break e;case 2:zi=!0}}o.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,$c|=a,t.lanes=a,t.memoizedState=f}}function MS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var GO=new ph.Component().refs;function $d(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eh={isMounted:function(t){return(t=t._reactInternals)?Ta(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=ao(t),o=io(n,i);o.payload=e,r!=null&&(o.callback=r),oo(t,o),so(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=ao(t),o=io(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),oo(t,o),so(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=ao(t),i=io(r,n);i.tag=2,e!=null&&(i.callback=e),oo(t,i),so(t,n,r)}};function AS(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!oc(r,n)||!oc(i,o):!0}function qO(t,e,r){var n=!1,i=yo,o=e.contextType;return typeof o=="object"&&o!==null?o=sn(o):(i=Nr(e)?ca:cr.current,n=e.contextTypes,o=(n=n!=null)?Ls(t,i):yo),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function DS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Rv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=GO,v1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=sn(o):(o=Nr(e)?ca:cr.current,i.context=Ls(t,o)),lc(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&($d(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),lc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var xf=Array.isArray;function Bl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=n.refs;a===GO&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function Ef(t,e){if(t.type!=="textarea")throw Error(se(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function KO(t){function e(m,v){if(t){var b=m.lastEffect;b!==null?(b.nextEffect=v,m.lastEffect=v):m.firstEffect=m.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=wo(m,v),m.index=0,m.sibling=null,m}function o(m,v,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<v?(m.flags=2,v):b):(m.flags=2,v)):v}function a(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,v,b,w){return v===null||v.tag!==6?(v=Wg(b,m.mode,w),v.return=m,v):(v=i(v,b),v.return=m,v)}function l(m,v,b,w){return v!==null&&v.elementType===b.type?(w=i(v,b.props),w.ref=Bl(m,v,b),w.return=m,w):(w=vd(b.type,b.key,b.props,null,m.mode,w),w.ref=Bl(m,v,b),w.return=m,w)}function u(m,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Gg(b,m.mode,w),v.return=m,v):(v=i(v,b.children||[]),v.return=m,v)}function c(m,v,b,w,y){return v===null||v.tag!==7?(v=Cs(b,m.mode,w,y),v.return=m,v):(v=i(v,b),v.return=m,v)}function f(m,v,b){if(typeof v=="string"||typeof v=="number")return v=Wg(""+v,m.mode,b),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ou:return b=vd(v.type,v.key,v.props,null,m.mode,b),b.ref=Bl(m,null,v),b.return=m,b;case Vo:return v=Gg(v,m.mode,b),v.return=m,v}if(xf(v)||Dl(v))return v=Cs(v,m.mode,b,null),v.return=m,v;Ef(m,v)}return null}function d(m,v,b,w){var y=v!==null?v.key:null;if(typeof b=="string"||typeof b=="number")return y!==null?null:s(m,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ou:return b.key===y?b.type===$i?c(m,v,b.props.children,w,y):l(m,v,b,w):null;case Vo:return b.key===y?u(m,v,b,w):null}if(xf(b)||Dl(b))return y!==null?null:c(m,v,b,w,null);Ef(m,b)}return null}function p(m,v,b,w,y){if(typeof w=="string"||typeof w=="number")return m=m.get(b)||null,s(v,m,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:return m=m.get(w.key===null?b:w.key)||null,w.type===$i?c(v,m,w.props.children,y,w.key):l(v,m,w,y);case Vo:return m=m.get(w.key===null?b:w.key)||null,u(v,m,w,y)}if(xf(w)||Dl(w))return m=m.get(b)||null,c(v,m,w,y,null);Ef(v,w)}return null}function h(m,v,b,w){for(var y=null,x=null,S=v,C=v=0,E=null;S!==null&&C<b.length;C++){S.index>C?(E=S,S=null):E=S.sibling;var k=d(m,S,b[C],w);if(k===null){S===null&&(S=E);break}t&&S&&k.alternate===null&&e(m,S),v=o(k,v,C),x===null?y=k:x.sibling=k,x=k,S=E}if(C===b.length)return r(m,S),y;if(S===null){for(;C<b.length;C++)S=f(m,b[C],w),S!==null&&(v=o(S,v,C),x===null?y=S:x.sibling=S,x=S);return y}for(S=n(m,S);C<b.length;C++)E=p(S,m,C,b[C],w),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?C:E.key),v=o(E,v,C),x===null?y=E:x.sibling=E,x=E);return t&&S.forEach(function(T){return e(m,T)}),y}function g(m,v,b,w){var y=Dl(b);if(typeof y!="function")throw Error(se(150));if(b=y.call(b),b==null)throw Error(se(151));for(var x=y=null,S=v,C=v=0,E=null,k=b.next();S!==null&&!k.done;C++,k=b.next()){S.index>C?(E=S,S=null):E=S.sibling;var T=d(m,S,k.value,w);if(T===null){S===null&&(S=E);break}t&&S&&T.alternate===null&&e(m,S),v=o(T,v,C),x===null?y=T:x.sibling=T,x=T,S=E}if(k.done)return r(m,S),y;if(S===null){for(;!k.done;C++,k=b.next())k=f(m,k.value,w),k!==null&&(v=o(k,v,C),x===null?y=k:x.sibling=k,x=k);return y}for(S=n(m,S);!k.done;C++,k=b.next())k=p(S,m,C,k.value,w),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?C:k.key),v=o(k,v,C),x===null?y=k:x.sibling=k,x=k);return t&&S.forEach(function(A){return e(m,A)}),y}return function(m,v,b,w){var y=typeof b=="object"&&b!==null&&b.type===$i&&b.key===null;y&&(b=b.props.children);var x=typeof b=="object"&&b!==null;if(x)switch(b.$$typeof){case ou:e:{for(x=b.key,y=v;y!==null;){if(y.key===x){switch(y.tag){case 7:if(b.type===$i){r(m,y.sibling),v=i(y,b.props.children),v.return=m,m=v;break e}break;default:if(y.elementType===b.type){r(m,y.sibling),v=i(y,b.props),v.ref=Bl(m,y,b),v.return=m,m=v;break e}}r(m,y);break}else e(m,y);y=y.sibling}b.type===$i?(v=Cs(b.props.children,m.mode,w,b.key),v.return=m,m=v):(w=vd(b.type,b.key,b.props,null,m.mode,w),w.ref=Bl(m,v,b),w.return=m,m=w)}return a(m);case Vo:e:{for(y=b.key;v!==null;){if(v.key===y)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(m,v.sibling),v=i(v,b.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=Gg(b,m.mode,w),v.return=m,m=v}return a(m)}if(typeof b=="string"||typeof b=="number")return b=""+b,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,b),v.return=m,m=v):(r(m,v),v=Wg(b,m.mode,w),v.return=m,m=v),a(m);if(xf(b))return h(m,v,b,w);if(Dl(b))return g(m,v,b,w);if(x&&Ef(m,b),typeof b>"u"&&!y)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(se(152,gs(m.type)||"Component"))}return r(m,v)}}var Vd=KO(!0),YO=KO(!1),Uc={},Kn=To(Uc),uc=To(Uc),cc=To(Uc);function qo(t){if(t===Uc)throw Error(se(174));return t}function Pv(t,e){switch(St(cc,e),St(uc,t),St(Kn,Uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vv(e,t)}st(Kn),St(Kn,e)}function zs(){st(Kn),st(uc),st(cc)}function RS(t){qo(cc.current);var e=qo(Kn.current),r=vv(e,t.type);e!==r&&(St(uc,t),St(Kn,r))}function y1(t){uc.current===t&&(st(Kn),st(uc))}var yt=To(0);function Wd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mi=null,Ki=null,Yn=!1;function XO(t,e){var r=en(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function PS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Nv(t){if(Yn){var e=Ki;if(e){var r=e;if(!PS(t,e)){if(e=bs(r.nextSibling),!e||!PS(t,e)){t.flags=t.flags&-1025|2,Yn=!1,mi=t;return}XO(mi,r)}mi=t,Ki=bs(e.firstChild)}else t.flags=t.flags&-1025|2,Yn=!1,mi=t}}function NS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mi=t}function Cf(t){if(t!==mi)return!1;if(!Yn)return NS(t),Yn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!_v(e,t.memoizedProps))for(e=Ki;e;)XO(t,e),e=bs(e.nextSibling);if(NS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ki=bs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ki=null}}else Ki=mi?bs(t.stateNode.nextSibling):null;return!0}function Hg(){Ki=mi=null,Yn=!1}var Ss=[];function b1(){for(var t=0;t<Ss.length;t++)Ss[t]._workInProgressVersionPrimary=null;Ss.length=0}var ku=ka.ReactCurrentDispatcher,tn=ka.ReactCurrentBatchConfig,fc=0,xt=null,ar=null,Qt=null,Gd=!1,Tu=!1;function _r(){throw Error(se(321))}function w1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Zr(t[r],e[r]))return!1;return!0}function S1(t,e,r,n,i,o){if(fc=o,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?bI:wI,t=r(n,i),Tu){o=0;do{if(Tu=!1,!(25>o))throw Error(se(301));o+=1,Qt=ar=null,e.updateQueue=null,ku.current=SI,t=r(n,i)}while(Tu)}if(ku.current=Xd,e=ar!==null&&ar.next!==null,fc=0,Qt=ar=xt=null,Gd=!1,e)throw Error(se(300));return t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?xt.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Oa(){if(ar===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=Qt===null?xt.memoizedState:Qt.next;if(e!==null)Qt=e,ar=t;else{if(t===null)throw Error(se(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Qt===null?xt.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Hn(t,e){return typeof e=="function"?e(t):e}function zl(t){var e=Oa(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=ar,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=a=o=null,l=i;do{var u=l.lane;if((fc&u)===u)s!==null&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===t?l.eagerState:t(n,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=c,o=n):s=s.next=c,xt.lanes|=u,$c|=u}l=l.next}while(l!==null&&l!==i);s===null?o=n:s.next=a,Zr(n,e.memoizedState)||(kn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Fl(t){var e=Oa(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Zr(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function IS(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(fc&t)===t)&&(e._workInProgressVersionPrimary=n,Ss.push(e))),t)return r(e._source);throw Ss.push(e),Error(se(350))}function JO(t,e,r,n){var i=Sr;if(i===null)throw Error(se(349));var o=e._getVersion,a=o(e._source),s=ku.current,l=s.useState(function(){return IS(i,e,r)}),u=l[1],c=l[0];l=Qt;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,h=f.source;f=f.subscribe;var g=xt;return t.memoizedState={refs:d,source:e,subscribe:n},s.useEffect(function(){d.getSnapshot=r,d.setSnapshot=u;var m=o(e._source);if(!Zr(a,m)){m=r(e._source),Zr(c,m)||(u(m),m=ao(g),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var v=i.entanglements,b=m;0<b;){var w=31-vo(b),y=1<<w;v[w]|=m,b&=~y}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=d.getSnapshot,v=d.setSnapshot;try{v(m(e._source));var b=ao(g);i.mutableReadLanes|=b&i.pendingLanes}catch(w){v(function(){throw w})}})},[e,n]),Zr(p,r)&&Zr(h,e)&&Zr(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:c},t.dispatch=u=C1.bind(null,xt,t),l.queue=t,l.baseQueue=null,c=IS(i,e,r),l.memoizedState=l.baseState=c),c}function QO(t,e,r){var n=Oa();return JO(n,t,e,r)}function jl(t){var e=Ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},t=t.dispatch=C1.bind(null,xt,t),[e.memoizedState,t]}function qd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null},xt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function LS(t){var e=Ko();return t={current:t},e.memoizedState=t}function Kd(){return Oa().memoizedState}function Iv(t,e,r,n){var i=Ko();xt.flags|=t,i.memoizedState=qd(1|e,r,void 0,n===void 0?null:n)}function x1(t,e,r,n){var i=Oa();n=n===void 0?null:n;var o=void 0;if(ar!==null){var a=ar.memoizedState;if(o=a.destroy,n!==null&&w1(n,a.deps)){qd(e,r,o,n);return}}xt.flags|=t,i.memoizedState=qd(1|e,r,o,n)}function BS(t,e){return Iv(516,4,t,e)}function Yd(t,e){return x1(516,4,t,e)}function ZO(t,e){return x1(4,2,t,e)}function e_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t_(t,e,r){return r=r!=null?r.concat([t]):null,x1(4,2,e_.bind(null,e,t),r)}function E1(){}function r_(t,e){var r=Oa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&w1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function n_(t,e){var r=Oa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&w1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yI(t,e){var r=Bs();fa(98>r?98:r,function(){t(!0)}),fa(97<r?97:r,function(){var n=tn.transition;tn.transition=1;try{t(!1),e()}finally{tn.transition=n}})}function C1(t,e,r){var n=Ur(),i=ao(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===xt||a!==null&&a===xt)Tu=Gd=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,r);if(o.eagerReducer=a,o.eagerState=l,Zr(l,s))return}catch{}finally{}so(t,i,n)}}var Xd={readContext:sn,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useOpaqueIdentifier:_r,unstable_isNewReconciler:!1},bI={readContext:sn,useCallback:function(t,e){return Ko().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:BS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Iv(4,2,e_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Iv(4,2,t,e)},useMemo:function(t,e){var r=Ko();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ko();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=C1.bind(null,xt,t),[n.memoizedState,t]},useRef:LS,useState:jl,useDebugValue:E1,useDeferredValue:function(t){var e=jl(t),r=e[0],n=e[1];return BS(function(){var i=tn.transition;tn.transition=1;try{n(t)}finally{tn.transition=i}},[t]),r},useTransition:function(){var t=jl(!1),e=t[0];return t=yI.bind(null,t[1]),LS(t),[t,e]},useMutableSource:function(t,e,r){var n=Ko();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},JO(n,t,e,r)},useOpaqueIdentifier:function(){if(Yn){var t=!1,e=dI(function(){throw t||(t=!0,r("r:"+(zg++).toString(36))),Error(se(355))}),r=jl(e)[1];return!(xt.mode&2)&&(xt.flags|=516,qd(5,function(){r("r:"+(zg++).toString(36))},void 0,null)),e}return e="r:"+(zg++).toString(36),jl(e),e},unstable_isNewReconciler:!1},wI={readContext:sn,useCallback:r_,useContext:sn,useEffect:Yd,useImperativeHandle:t_,useLayoutEffect:ZO,useMemo:n_,useReducer:zl,useRef:Kd,useState:function(){return zl(Hn)},useDebugValue:E1,useDeferredValue:function(t){var e=zl(Hn),r=e[0],n=e[1];return Yd(function(){var i=tn.transition;tn.transition=1;try{n(t)}finally{tn.transition=i}},[t]),r},useTransition:function(){var t=zl(Hn)[0];return[Kd().current,t]},useMutableSource:QO,useOpaqueIdentifier:function(){return zl(Hn)[0]},unstable_isNewReconciler:!1},SI={readContext:sn,useCallback:r_,useContext:sn,useEffect:Yd,useImperativeHandle:t_,useLayoutEffect:ZO,useMemo:n_,useReducer:Fl,useRef:Kd,useState:function(){return Fl(Hn)},useDebugValue:E1,useDeferredValue:function(t){var e=Fl(Hn),r=e[0],n=e[1];return Yd(function(){var i=tn.transition;tn.transition=1;try{n(t)}finally{tn.transition=i}},[t]),r},useTransition:function(){var t=Fl(Hn)[0];return[Kd().current,t]},useMutableSource:QO,useOpaqueIdentifier:function(){return Fl(Hn)[0]},unstable_isNewReconciler:!1},xI=ka.ReactCurrentOwner,kn=!1;function Dr(t,e,r,n){e.child=t===null?YO(e,null,r,n):Vd(e,t.child,r,n)}function zS(t,e,r,n,i){r=r.render;var o=e.ref;return ws(e,i),n=S1(t,e,r,n,o,i),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vi(t,e,i)):(e.flags|=1,Dr(t,e,n,i),e.child)}function FS(t,e,r,n,i,o){if(t===null){var a=r.type;return typeof a=="function"&&!A1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,i_(t,e,a,n,i,o)):(t=vd(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(i&o)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:oc,r(i,n)&&t.ref===e.ref)?vi(t,e,o):(e.flags|=1,t=wo(a,n),t.ref=e.ref,t.return=e,e.child=t)}function i_(t,e,r,n,i,o){if(t!==null&&oc(t.memoizedProps,n)&&t.ref===e.ref)if(kn=!1,(o&i)!==0)t.flags&16384&&(kn=!0);else return e.lanes=t.lanes,vi(t,e,o);return Lv(t,e,r,n,o)}function Ug(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Tf(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Tf(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Tf(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Tf(e,n);return Dr(t,e,i,r),e.child}function o_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Lv(t,e,r,n,i){var o=Nr(r)?ca:cr.current;return o=Ls(e,o),ws(e,i),r=S1(t,e,r,n,o,i),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vi(t,e,i)):(e.flags|=1,Dr(t,e,r,i),e.child)}function jS(t,e,r,n,i){if(Nr(r)){var o=!0;dd(e)}else o=!1;if(ws(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),qO(e,r,n),Rv(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Nr(r)?ca:cr.current,u=Ls(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&DS(e,a,n,u),zi=!1;var d=e.memoizedState;a.state=d,lc(e,n,a,i),l=e.memoizedState,s!==n||d!==l||Pr.current||zi?(typeof c=="function"&&($d(e,r,c,n),l=e.memoizedState),(s=zi||AS(e,r,s,n,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{a=e.stateNode,WO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:wn(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Nr(r)?ca:cr.current,l=Ls(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&DS(e,a,n,l),zi=!1,d=e.memoizedState,a.state=d,lc(e,n,a,i);var h=e.memoizedState;s!==f||d!==h||Pr.current||zi?(typeof p=="function"&&($d(e,r,p,n),h=e.memoizedState),(u=zi||AS(e,r,u,n,d,h,l))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),n=!1)}return Bv(t,e,r,n,o,i)}function Bv(t,e,r,n,i,o){o_(t,e);var a=(e.flags&64)!==0;if(!n&&!a)return i&&kS(e,r,!1),vi(t,e,o);n=e.stateNode,xI.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Vd(e,t.child,null,o),e.child=Vd(e,null,s,o)):Dr(t,e,s,o),e.memoizedState=n.state,i&&kS(e,r,!0),e.child}function HS(t){var e=t.stateNode;e.pendingContext?CS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CS(t,e.context,!1),Pv(t,e.containerInfo)}var kf={dehydrated:null,retryLane:0};function US(t,e,r){var n=e.pendingProps,i=yt.current,o=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),St(yt,i&1),t===null?(n.fallback!==void 0&&Nv(e),t=n.children,i=n.fallback,o?(t=$S(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=kf,t):typeof n.unstable_expectedLoadTime=="number"?(t=$S(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=kf,e.lanes=33554432,t):(r=D1({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=WS(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=kf,n):(r=VS(t,e,n.children,r),e.memoizedState=null,r):o?(n=WS(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=kf,n):(r=VS(t,e,n.children,r),e.memoizedState=null,r)}function $S(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=e):o=D1(e,i,0,null),r=Cs(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function VS(t,e,r,n){var i=t.child;return t=i.sibling,r=wo(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function WS(t,e,r,n,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:r};return!(o&2)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,a!==null?(e.firstEffect=r.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):r=wo(a,s),t!==null?n=wo(t,n):(n=Cs(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function GS(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VO(t.return,e)}function $g(t,e,r,n,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function qS(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Dr(t,e,n.children,r),n=yt.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GS(t,r);else if(t.tag===19)GS(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(St(yt,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Wd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),$g(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}$g(e,!0,r,null,o,e.lastEffect);break;case"together":$g(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),$c|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=wo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=wo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var a_,zv,s_,l_;a_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zv=function(){};s_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qo(Kn.current);var o=null;switch(r){case"input":i=fv(t,i),n=fv(t,n),o=[];break;case"option":i=hv(t,i),n=hv(t,n),o=[];break;case"select":i=ft({},i,{value:void 0}),n=ft({},n,{value:void 0}),o=[];break;case"textarea":i=gv(t,i),n=gv(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Bd)}yv(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),o||s===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===Jy?l.toString():(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};l_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hl(t,e){if(!Yn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function EI(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Nr(e.type)&&Fd(),null;case 3:return zs(),st(Pr),st(cr),b1(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cf(e)?e.flags|=4:n.hydrate||(e.flags|=256)),zv(e),null;case 5:y1(e);var i=qo(cc.current);if(r=e.type,t!==null&&e.stateNode!=null)s_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(se(166));return null}if(t=qo(Kn.current),Cf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[qi]=e,n[zd]=o,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(t=0;t<su.length;t++)ot(su[t],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":qw(n,o),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ot("invalid",n);break;case"textarea":Yw(n,o),ot("invalid",n)}yv(r,o),t=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Qu.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ot("scroll",n));switch(r){case"input":yf(n),Kw(n,o,!0);break;case"textarea":yf(n),Xw(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Bd)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===mv.html&&(t=tO(r)),t===mv.html?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[qi]=e,t[zd]=n,a_(t,e,!1,!1),e.stateNode=t,a=bv(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<su.length;i++)ot(su[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":qw(t,n),i=fv(t,n),ot("invalid",t);break;case"option":i=hv(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ft({},n,{value:void 0}),ot("invalid",t);break;case"textarea":Yw(t,n),i=gv(t,n),ot("invalid",t);break;default:i=n}yv(r,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?iO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rO(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zu(t,l):typeof l=="number"&&Zu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ot("scroll",t):l!=null&&Wy(t,o,l,a))}switch(r){case"input":yf(t),Kw(t,n,!1);break;case"textarea":yf(t),Xw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+mo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?ms(t,!!n.multiple,o,!1):n.defaultValue!=null&&ms(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bd)}IO(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)l_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));r=qo(cc.current),qo(Kn.current),Cf(e)?(n=e.stateNode,r=e.memoizedProps,n[qi]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n)}return null;case 13:return st(yt),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Cf(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||yt.current&1?Zt===0&&(Zt=3):((Zt===0||Zt===3)&&(Zt=4),Sr===null||!($c&134217727)&&!(ml&134217727)||xs(Sr,ur))),(n||r)&&(e.flags|=4),null);case 4:return zs(),zv(e),t===null&&RO(e.stateNode.containerInfo),null;case 10:return m1(e),null;case 17:return Nr(e.type)&&Fd(),null;case 19:if(st(yt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,a=n.rendering,a===null)if(o)Hl(n,!1);else{if(Zt!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=Wd(t),a!==null){for(e.flags|=64,Hl(n,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return St(yt,yt.current&1|2),e.child}t=t.sibling}n.tail!==null&&lr()>Vv&&(e.flags|=64,o=!0,Hl(n,!1),e.lanes=33554432)}else{if(!o)if(t=Wd(a),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Yn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*lr()-n.renderingStartTime>Vv&&r!==1073741824&&(e.flags|=64,o=!0,Hl(n,!1),e.lanes=33554432);n.isBackwards?(a.sibling=e.child,e.child=a):(r=n.last,r!==null?r.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=lr(),r.sibling=null,e=yt.current,St(yt,o?e&1|2:e&1),r):null;case 23:case 24:return M1(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(se(156,e.tag))}function CI(t){switch(t.tag){case 1:Nr(t.type)&&Fd();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(zs(),st(Pr),st(cr),b1(),e=t.flags,e&64)throw Error(se(285));return t.flags=e&-4097|64,t;case 5:return y1(t),null;case 13:return st(yt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return st(yt),null;case 4:return zs(),null;case 10:return m1(t),null;case 23:case 24:return M1(),null;default:return null}}function k1(t,e){try{var r="",n=e;do r+=iN(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function Fv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var kI=typeof WeakMap=="function"?WeakMap:Map;function u_(t,e,r){r=io(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Qd||(Qd=!0,Wv=n),Fv(t,e)},r}function c_(t,e,r){r=io(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Fv(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Un===null?Un=new Set([this]):Un.add(this),Fv(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}var TI=typeof WeakSet=="function"?WeakSet:Set;function KS(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){lo(t,r)}else e.current=null}function OI(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:wn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&d1(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(se(163))}function _I(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(b_(r,t),LI(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:wn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&MS(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}MS(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&IO(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&hO(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(se(163))}function YS(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=nO("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function XS(t,e){if(ta&&typeof ta.onCommitFiberUnmount=="function")try{ta.onCommitFiberUnmount(p1,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)b_(e,r);else{n=e;try{i()}catch(o){lo(n,o)}}r=r.next}while(r!==t)}break;case 1:if(KS(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){lo(e,o)}break;case 5:KS(e);break;case 4:f_(t,e)}}function JS(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function QS(t){return t.tag===5||t.tag===3||t.tag===4}function ZS(t){e:{for(var e=t.return;e!==null;){if(QS(e))break e;e=e.return}throw Error(se(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(se(161))}r.flags&16&&(Zu(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||QS(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?jv(t,r,e):Hv(t,r,e)}function jv(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Bd));else if(n!==4&&(t=t.child,t!==null))for(jv(t,e,r),t=t.sibling;t!==null;)jv(t,e,r),t=t.sibling}function Hv(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hv(t,e,r),t=t.sibling;t!==null;)Hv(t,e,r),t=t.sibling}function f_(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(se(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=t,s=r,l=s;;)if(XS(a,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(a=i,s=r.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(XS(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Vg(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[zd]=n,t==="input"&&n.type==="radio"&&n.name!=null&&ZT(r,n),bv(t,i),e=bv(t,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?iO(r,s):a==="dangerouslySetInnerHTML"?rO(r,s):a==="children"?Zu(r,s):Wy(r,a,s,e)}switch(t){case"input":dv(r,n);break;case"textarea":eO(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?ms(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?ms(r,!!n.multiple,n.defaultValue,!0):ms(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(se(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,hO(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(_1=lr(),YS(e.child,!0)),ex(e);return;case 19:ex(e);return;case 17:return;case 23:case 24:YS(e,e.memoizedState!==null);return}throw Error(se(163))}function ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TI),e.forEach(function(n){var i=FI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function MI(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var AI=Math.ceil,Jd=ka.ReactCurrentDispatcher,T1=ka.ReactCurrentOwner,Pe=0,Sr=null,Nt=null,ur=0,da=0,Uv=To(0),Zt=0,Ch=null,gl=0,$c=0,ml=0,O1=0,$v=null,_1=0,Vv=1/0;function vl(){Vv=lr()+500}var we=null,Qd=!1,Wv=null,Un=null,bo=!1,Ou=null,lu=90,Gv=[],qv=[],bi=null,_u=0,Kv=null,hd=-1,gi=0,gd=0,Mu=null,md=!1;function Ur(){return Pe&48?lr():hd!==-1?hd:hd=lr()}function ao(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Bs()===99?1:2;if(gi===0&&(gi=gl),vI.transition!==0){gd!==0&&(gd=$v!==null?$v.pendingLanes:0),t=gi;var e=4186112&~gd;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Bs(),Pe&4&&t===98?t=Id(12,gi):(t=wN(t),t=Id(t,gi)),t}function so(t,e,r){if(50<_u)throw _u=0,Kv=null,Error(se(185));if(t=kh(t,e),t===null)return null;vh(t,e,r),t===Sr&&(ml|=e,Zt===4&&xs(t,ur));var n=Bs();e===1?Pe&8&&!(Pe&48)?Yv(t):(ln(t,r),Pe===0&&(vl(),ni())):(!(Pe&4)||n!==98&&n!==99||(bi===null?bi=new Set([t]):bi.add(t)),ln(t,r)),$v=t}function kh(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function ln(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-vo(a),l=1<<s,u=o[s];if(u===-1){if(!(l&n)||l&i){u=e,Ua(l);var c=nt;o[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);a&=~l}if(n=nc(t,t===Sr?ur:0),e=nt,n===0)r!==null&&(r!==Fg&&Av(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Fg&&Av(r)}e===15?(r=Yv.bind(null,t),hi===null?(hi=[r],pd=h1(xh,$O)):hi.push(r),r=Fg):e===14?r=sc(99,Yv.bind(null,t)):(r=SN(e),r=sc(r,d_.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function d_(t){if(hd=-1,gd=gi=0,Pe&48)throw Error(se(327));var e=t.callbackNode;if(Oo()&&t.callbackNode!==e)return null;var r=nc(t,t===Sr?ur:0);if(r===0)return null;var n=r,i=Pe;Pe|=16;var o=m_();(Sr!==t||ur!==n)&&(vl(),Es(t,n));do try{PI();break}catch(s){g_(t,s)}while(1);if(g1(),Jd.current=o,Pe=i,Nt!==null?n=0:(Sr=null,ur=0,n=Zt),gl&ml)Es(t,0);else if(n!==0){if(n===2&&(Pe|=64,t.hydrate&&(t.hydrate=!1,d1(t.containerInfo)),r=SO(t),r!==0&&(n=uu(t,r))),n===1)throw e=Ch,Es(t,0),xs(t,r),ln(t,lr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(se(345));case 2:Io(t);break;case 3:if(xs(t,r),(r&62914560)===r&&(n=_1+500-lr(),10<n)){if(nc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=SS(Io.bind(null,t),n);break}Io(t);break;case 4:if(xs(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var a=31-vo(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AI(r/1960))-r,10<r){t.timeoutHandle=SS(Io.bind(null,t),r);break}Io(t);break;case 5:Io(t);break;default:throw Error(se(329))}}return ln(t,lr()),t.callbackNode===e?d_.bind(null,t):null}function xs(t,e){for(e&=~O1,e&=~ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vo(e),n=1<<r;t[r]=-1,e&=~n}}function Yv(t){if(Pe&48)throw Error(se(327));if(Oo(),t===Sr&&t.expiredLanes&ur){var e=ur,r=uu(t,e);gl&ml&&(e=nc(t,e),r=uu(t,e))}else e=nc(t,0),r=uu(t,e);if(t.tag!==0&&r===2&&(Pe|=64,t.hydrate&&(t.hydrate=!1,d1(t.containerInfo)),e=SO(t),e!==0&&(r=uu(t,e))),r===1)throw r=Ch,Es(t,0),xs(t,e),ln(t,lr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t),ln(t,lr()),null}function DI(){if(bi!==null){var t=bi;bi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ln(e,lr())})}ni()}function p_(t,e){var r=Pe;Pe|=1;try{return t(e)}finally{Pe=r,Pe===0&&(vl(),ni())}}function h_(t,e){var r=Pe;Pe&=-2,Pe|=8;try{return t(e)}finally{Pe=r,Pe===0&&(vl(),ni())}}function Tf(t,e){St(Uv,da),da|=e,gl|=e}function M1(){da=Uv.current,st(Uv)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fI(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fd();break;case 3:zs(),st(Pr),st(cr),b1();break;case 5:y1(n);break;case 4:zs();break;case 13:st(yt);break;case 19:st(yt);break;case 10:m1(n);break;case 23:case 24:M1()}r=r.return}Sr=t,Nt=wo(t.current,null),ur=da=gl=e,Zt=0,Ch=null,O1=ml=$c=0}function g_(t,e){do{var r=Nt;try{if(g1(),ku.current=Xd,Gd){for(var n=xt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gd=!1}if(fc=0,Qt=ar=xt=null,Tu=!1,T1.current=null,r===null||r.return===null){Zt=1,Ch=e,Nt=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=ur,s.flags|=2048,s.firstEffect=s.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if(!(s.mode&2)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(yt.current&1)!==0,d=a;do{var p;if(p=d.tag===13){var h=d.memoizedState;if(h!==null)p=h.dehydrated!==null;else{var g=d.memoizedProps;p=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var m=d.updateQueue;if(m===null){var v=new Set;v.add(u),d.updateQueue=v}else m.add(u);if(!(d.mode&2)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var b=io(-1,1);b.tag=2,oo(s,b)}s.lanes|=1;break e}l=void 0,s=e;var w=o.pingCache;if(w===null?(w=o.pingCache=new kI,l=new Set,w.set(u,l)):(l=w.get(u),l===void 0&&(l=new Set,w.set(u,l))),!l.has(s)){l.add(s);var y=zI.bind(null,o,u,s);u.then(y,y)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);l=Error((gs(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Zt!==5&&(Zt=2),l=k1(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,e&=-e,d.lanes|=e;var x=u_(d,o,e);_S(d,x);break e;case 1:o=l;var S=d.type,C=d.stateNode;if(!(d.flags&64)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Un===null||!Un.has(C)))){d.flags|=4096,e&=-e,d.lanes|=e;var E=c_(d,o,e);_S(d,E);break e}}d=d.return}while(d!==null)}y_(r)}catch(k){e=k,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(1)}function m_(){var t=Jd.current;return Jd.current=Xd,t===null?Xd:t}function uu(t,e){var r=Pe;Pe|=16;var n=m_();Sr===t&&ur===e||Es(t,e);do try{RI();break}catch(i){g_(t,i)}while(1);if(g1(),Pe=r,Jd.current=n,Nt!==null)throw Error(se(261));return Sr=null,ur=0,Zt}function RI(){for(;Nt!==null;)v_(Nt)}function PI(){for(;Nt!==null&&!hI();)v_(Nt)}function v_(t){var e=w_(t.alternate,t,da);t.memoizedProps=t.pendingProps,e===null?y_(t):Nt=e,T1.current=null}function y_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=CI(e),r!==null){r.flags&=2047,Nt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=EI(r,e,da),r!==null){Nt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||da&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Zt===0&&(Zt=5)}function Io(t){var e=Bs();return fa(99,NI.bind(null,t,e)),null}function NI(t,e){do Oo();while(Ou!==null);if(Pe&48)throw Error(se(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,s=t.expirationTimes;0<o;){var l=31-vo(o),u=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~u}if(bi!==null&&!(n&24)&&bi.has(t)&&bi.delete(t),t===Sr&&(Nt=Sr=null,ur=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Pe,Pe|=32,T1.current=null,Lg=ud,a=hS(),kv(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(u=s.getSelection&&s.getSelection())&&u.rangeCount!==0){s=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var c=0,f=-1,d=-1,p=0,h=0,g=a,m=null;t:for(;;){for(var v;g!==s||o!==0&&g.nodeType!==3||(f=c+o),g!==l||u!==0&&g.nodeType!==3||(d=c+u),g.nodeType===3&&(c+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===a)break t;if(m===s&&++p===o&&(f=c),m===l&&++h===u&&(d=c),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}s=f===-1||d===-1?null:{start:f,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Bg={focusedElem:a,selectionRange:s},ud=!1,Mu=null,md=!1,we=n;do try{II()}catch(k){if(we===null)throw Error(se(330));lo(we,k),we=we.nextEffect}while(we!==null);Mu=null,we=n;do try{for(a=t;we!==null;){var b=we.flags;if(b&16&&Zu(we.stateNode,""),b&128){var w=we.alternate;if(w!==null){var y=w.ref;y!==null&&(typeof y=="function"?y(null):y.current=null)}}switch(b&1038){case 2:ZS(we),we.flags&=-3;break;case 6:ZS(we),we.flags&=-3,Vg(we.alternate,we);break;case 1024:we.flags&=-1025;break;case 1028:we.flags&=-1025,Vg(we.alternate,we);break;case 4:Vg(we.alternate,we);break;case 8:s=we,f_(a,s);var x=s.alternate;JS(s),x!==null&&JS(x)}we=we.nextEffect}}catch(k){if(we===null)throw Error(se(330));lo(we,k),we=we.nextEffect}while(we!==null);if(y=Bg,w=hS(),b=y.focusedElem,a=y.selectionRange,w!==b&&b&&b.ownerDocument&&MO(b.ownerDocument.documentElement,b)){for(a!==null&&kv(b)&&(w=a.start,y=a.end,y===void 0&&(y=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(y,b.value.length)):(y=(w=b.ownerDocument||document)&&w.defaultView||window,y.getSelection&&(y=y.getSelection(),s=b.textContent.length,x=Math.min(a.start,s),a=a.end===void 0?x:Math.min(a.end,s),!y.extend&&x>a&&(s=a,a=x,x=s),s=pS(b,x),o=pS(b,a),s&&o&&(y.rangeCount!==1||y.anchorNode!==s.node||y.anchorOffset!==s.offset||y.focusNode!==o.node||y.focusOffset!==o.offset)&&(w=w.createRange(),w.setStart(s.node,s.offset),y.removeAllRanges(),x>a?(y.addRange(w),y.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),y.addRange(w)))))),w=[],y=b;y=y.parentNode;)y.nodeType===1&&w.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<w.length;b++)y=w[b],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}ud=!!Lg,Bg=Lg=null,t.current=r,we=n;do try{for(b=t;we!==null;){var S=we.flags;if(S&36&&_I(b,we.alternate,we),S&128){w=void 0;var C=we.ref;if(C!==null){var E=we.stateNode;switch(we.tag){case 5:w=E;break;default:w=E}typeof C=="function"?C(w):C.current=w}}we=we.nextEffect}}catch(k){if(we===null)throw Error(se(330));lo(we,k),we=we.nextEffect}while(we!==null);we=null,mI(),Pe=i}else t.current=r;if(bo)bo=!1,Ou=t,lu=e;else for(we=n;we!==null;)e=we.nextEffect,we.nextEffect=null,we.flags&8&&(S=we,S.sibling=null,S.stateNode=null),we=e;if(n=t.pendingLanes,n===0&&(Un=null),n===1?t===Kv?_u++:(_u=0,Kv=t):_u=0,r=r.stateNode,ta&&typeof ta.onCommitFiberRoot=="function")try{ta.onCommitFiberRoot(p1,r,void 0,(r.current.flags&64)===64)}catch{}if(ln(t,lr()),Qd)throw Qd=!1,t=Wv,Wv=null,t;return Pe&8||ni(),null}function II(){for(;we!==null;){var t=we.alternate;md||Mu===null||(we.flags&8?Zw(we,Mu)&&(md=!0):we.tag===13&&MI(t,we)&&Zw(we,Mu)&&(md=!0));var e=we.flags;e&256&&OI(t,we),!(e&512)||bo||(bo=!0,sc(97,function(){return Oo(),null})),we=we.nextEffect}}function Oo(){if(lu!==90){var t=97<lu?97:lu;return lu=90,fa(t,BI)}return!1}function LI(t,e){Gv.push(e,t),bo||(bo=!0,sc(97,function(){return Oo(),null}))}function b_(t,e){qv.push(e,t),bo||(bo=!0,sc(97,function(){return Oo(),null}))}function BI(){if(Ou===null)return!1;var t=Ou;if(Ou=null,Pe&48)throw Error(se(331));var e=Pe;Pe|=32;var r=qv;qv=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(l){if(o===null)throw Error(se(330));lo(o,l)}}for(r=Gv,Gv=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var s=i.create;i.destroy=s()}catch(l){if(o===null)throw Error(se(330));lo(o,l)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return Pe=e,ni(),!0}function tx(t,e,r){e=k1(r,e),e=u_(t,e,1),oo(t,e),e=Ur(),t=kh(t,1),t!==null&&(vh(t,1,e),ln(t,e))}function lo(t,e){if(t.tag===3)tx(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){tx(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n))){t=k1(e,t);var i=c_(r,t,1);if(oo(r,i),i=Ur(),r=kh(r,1),r!==null)vh(r,1,i),ln(r,i);else if(typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function zI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,Sr===t&&(ur&r)===r&&(Zt===4||Zt===3&&(ur&62914560)===ur&&500>lr()-_1?Es(t,0):O1|=r),ln(t,e)}function FI(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(gi===0&&(gi=gl),e=$a(62914560&~gi),e===0&&(e=4194304)):e=Bs()===99?1:2:e=1),r=Ur(),t=kh(t,e),t!==null&&(vh(t,e,r),ln(t,r))}var w_;w_=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)kn=!0;else if(r&n)kn=!!(t.flags&16384);else{switch(kn=!1,e.tag){case 3:HS(e),Hg();break;case 5:RS(e);break;case 1:Nr(e.type)&&dd(e);break;case 4:Pv(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;St(jd,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?US(t,e,r):(St(yt,yt.current&1),e=vi(t,e,r),e!==null?e.sibling:null);St(yt,yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return qS(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(yt,yt.current),n)break;return null;case 23:case 24:return e.lanes=0,Ug(t,e,r)}return vi(t,e,r)}else kn=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ls(e,cr.current),ws(e,r),i=S1(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(n)){var o=!0;dd(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,v1(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&$d(e,n,a,t),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Rv(e,n,t,r),e=Bv(null,e,n,!0,o,r)}else e.tag=0,Dr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=HI(i),t=wn(i,t),o){case 0:e=Lv(null,e,i,t,r);break e;case 1:e=jS(null,e,i,t,r);break e;case 11:e=zS(null,e,i,t,r);break e;case 14:e=FS(null,e,i,wn(i.type,t),n,r);break e}throw Error(se(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),Lv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),jS(t,e,n,i,r);case 3:if(HS(e),n=e.updateQueue,t===null||n===null)throw Error(se(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,WO(t,e),lc(e,n,null,r),n=e.memoizedState.element,n===i)Hg(),e=vi(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(Ki=bs(e.stateNode.containerInfo.firstChild),mi=e,o=Yn=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],Ss.push(o);for(r=YO(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Dr(t,e,n,r),Hg();e=e.child}return e;case 5:return RS(e),t===null&&Nv(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,_v(n,i)?a=null:o!==null&&_v(n,o)&&(e.flags|=16),o_(t,e),Dr(t,e,a,r),e.child;case 6:return t===null&&Nv(e),null;case 13:return US(t,e,r);case 4:return Pv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Vd(e,null,n,r):Dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),zS(t,e,n,i,r);case 7:return Dr(t,e,e.pendingProps,r),e.child;case 8:return Dr(t,e,e.pendingProps.children,r),e.child;case 12:return Dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var s=e.type._context;if(St(jd,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Zr(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!Pr.current){e=vi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n&&u.observedBits&o){s.tag===1&&(u=io(-1,r&-r),u.tag=2,oo(s,u)),s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),VO(s.return,r),l.lanes|=r;break}u=u.next}}else a=s.tag===10&&s.type===e.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,ws(e,r),i=sn(i,o.unstable_observedBits),n=n(i),e.flags|=1,Dr(t,e,n,r),e.child;case 14:return i=e.type,o=wn(i,e.pendingProps),o=wn(i.type,o),FS(t,e,i,o,n,r);case 15:return i_(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Nr(n)?(t=!0,dd(e)):t=!1,ws(e,r),qO(e,n,i),Rv(e,n,i,r),Bv(null,e,n,!0,t,r);case 19:return qS(t,e,r);case 23:return Ug(t,e,r);case 24:return Ug(t,e,r)}throw Error(se(156,e.tag))};function jI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,r,n){return new jI(t,e,r,n)}function A1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HI(t){if(typeof t=="function")return A1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hh)return 11;if(t===gh)return 14}return 2}function wo(t,e){var r=t.alternate;return r===null?(r=en(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function vd(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")A1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $i:return Cs(r.children,i,o,e);case XT:a=8,i|=16;break;case Gy:a=8,i|=1;break;case yu:return t=en(12,r,e,i|8),t.elementType=yu,t.type=yu,t.lanes=o,t;case bu:return t=en(13,r,e,i),t.type=bu,t.elementType=bu,t.lanes=o,t;case Dd:return t=en(19,r,e,i),t.elementType=Dd,t.lanes=o,t;case Qy:return D1(r,i,o,e);case cv:return t=en(24,r,e,i),t.elementType=cv,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qy:a=10;break e;case Ky:a=9;break e;case hh:a=11;break e;case gh:a=14;break e;case Yy:a=16,n=null;break e;case Xy:a=22;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=en(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Cs(t,e,r,n){return t=en(7,t,n,e),t.lanes=r,t}function D1(t,e,r,n){return t=en(23,t,n,e),t.elementType=Qy,t.lanes=r,t}function Wg(t,e,r){return t=en(6,t,null,e),t.lanes=r,t}function Gg(t,e,r){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UI(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.mutableSourceEagerHydrationData=null}function $I(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Zd(t,e,r,n){var i=e.current,o=Ur(),a=ao(i);e:if(r){r=r._reactInternals;t:{if(Ta(r)!==r||r.tag!==1)throw Error(se(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Nr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(se(171))}if(r.tag===1){var l=r.type;if(Nr(l)){r=BO(r,l,s);break e}}r=s}else r=yo;return e.context===null?e.context=r:e.pendingContext=r,e=io(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),oo(i,e),so(i,a,o),a}function qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function R1(t,e){rx(t,e),(t=t.alternate)&&rx(t,e)}function VI(){return null}function P1(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new UI(t,e,r!=null&&r.hydrate===!0),e=en(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,v1(e),t[hl]=r.current,RO(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}P1.prototype.render=function(t){Zd(t,this._internalRoot,null,null)};P1.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zd(null,t,null,function(){e[hl]=null})};function Vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WI(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new P1(t,0,e?{hydrate:!0}:void 0)}function Th(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var u=qg(a);s.call(u)}}Zd(e,a,t,i)}else{if(o=r._reactRootContainer=WI(r,n),a=o._internalRoot,typeof i=="function"){var l=i;i=function(){var u=qg(a);l.call(u)}}h_(function(){Zd(e,a,t,i)})}return qg(a)}fO=function(t){if(t.tag===13){var e=Ur();so(t,4,e),R1(t,4)}};n1=function(t){if(t.tag===13){var e=Ur();so(t,67108864,e),R1(t,67108864)}};dO=function(t){if(t.tag===13){var e=Ur(),r=ao(t);so(t,r,e),R1(t,r)}};pO=function(t,e){return e()};wv=function(t,e,r){switch(e){case"input":if(dv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Sh(n);if(!i)throw Error(se(90));QT(n),dv(n,i)}}}break;case"textarea":eO(t,r);break;case"select":e=r.value,e!=null&&ms(t,!!r.multiple,e,!1)}};e1=p_;sO=function(t,e,r,n,i){var o=Pe;Pe|=4;try{return fa(98,t.bind(null,e,r,n,i))}finally{Pe=o,Pe===0&&(vl(),ni())}};t1=function(){!(Pe&49)&&(DI(),Oo())};lO=function(t,e){var r=Pe;Pe|=2;try{return t(e)}finally{Pe=r,Pe===0&&(vl(),ni())}};function S_(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(e))throw Error(se(200));return $I(t,e,null,r)}var GI={Events:[Hc,Za,Sh,oO,aO,Oo,{current:!1}]},Ul={findFiberByHostInstance:Go,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},qI={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||VI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{p1=Of.inject(qI),ta=Of}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GI;hn.createPortal=S_;hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):Error(se(268,Object.keys(t)));return t=cO(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t,e){var r=Pe;if(r&48)return t(e);Pe|=1;try{if(t)return fa(99,t.bind(null,e))}finally{Pe=r,ni()}};hn.hydrate=function(t,e,r){if(!Vc(e))throw Error(se(200));return Th(null,t,e,!0,r)};hn.render=function(t,e,r){if(!Vc(e))throw Error(se(200));return Th(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!Vc(t))throw Error(se(40));return t._reactRootContainer?(h_(function(){Th(null,null,t,!1,function(){t._reactRootContainer=null,t[hl]=null})}),!0):!1};hn.unstable_batchedUpdates=p_;hn.unstable_createPortal=function(t,e){return S_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vc(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return Th(t,e,r,!1,n)};hn.version="17.0.2";function x_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x_)}catch(t){console.error(t)}}x_(),GT.exports=hn;var E_=GT.exports;const N1=cl(E_);/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ct.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const nx="popstate";function KI(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:a,hash:s}=n.location;return dc("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wc(i)}return XI(e,r,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YI(){return Math.random().toString(36).substr(2,8)}function ix(t,e){return{usr:t.state,key:t.key,idx:e}}function dc(t,e,r,n){return r===void 0&&(r=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_i(e):e,{state:r,key:e&&e.key||n||YI()})}function Wc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function XI(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s=Tt.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(ct({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Tt.Pop;let m=c(),v=m==null?null:m-u;u=m,l&&l({action:s,location:g.location,delta:v})}function d(m,v){s=Tt.Push;let b=dc(g.location,m,v);r&&r(b,m),u=c()+1;let w=ix(b,u),y=g.createHref(b);try{a.pushState(w,"",y)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(y)}o&&l&&l({action:s,location:g.location,delta:1})}function p(m,v){s=Tt.Replace;let b=dc(g.location,m,v);r&&r(b,m),u=c();let w=ix(b,u),y=g.createHref(b);a.replaceState(w,"",y),o&&l&&l({action:s,location:g.location,delta:0})}function h(m){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof m=="string"?m:Wc(m);return Ve(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return s},get location(){return t(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nx,f),l=m,()=>{i.removeEventListener(nx,f),l=null}},createHref(m){return e(i,m)},createURL:h,encodeLocation(m){let v=h(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(m){return a.go(m)}};return g}var At;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(At||(At={}));const JI=new Set(["lazy","caseSensitive","path","id","index","children"]);function QI(t){return t.index===!0}function Xv(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,o)=>{let a=[...r,o],s=typeof i.id=="string"?i.id:a.join("-");if(Ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ve(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),QI(i)){let l=ct({},i,e(i),{id:s});return n[s]=l,l}else{let l=ct({},i,e(i),{id:s,children:void 0});return n[s]=l,i.children&&(l.children=Xv(i.children,e,a,n)),l}})}function rs(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?_i(e):e,i=Gc(n.pathname||"/",r);if(i==null)return null;let o=C_(t);ZI(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=lL(o[s],fL(i));return a}function C_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=uo([n,l.relativePath]),c=r.concat(l);o.children&&o.children.length>0&&(Ve(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),C_(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:aL(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of k_(o.path))i(o,a,l)}),e}function k_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=k_(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:sL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eL=/^:\w+$/,tL=3,rL=2,nL=1,iL=10,oL=-2,ox=t=>t==="*";function aL(t,e){let r=t.split("/"),n=r.length;return r.some(ox)&&(n+=oL),e&&(n+=rL),r.filter(i=>!ox(i)).reduce((i,o)=>i+(eL.test(o)?tL:o===""?nL:iL),n)}function sL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lL(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let a=0;a<r.length;++a){let s=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=uL({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let f=s.route;o.push({params:n,pathname:uo([i,c.pathname]),pathnameBase:gL(uo([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=uo([i,c.pathnameBase]))}return o}function uL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,f)=>{if(c==="*"){let d=s[f]||"";a=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=dL(s[f]||"",c),u},{}),pathname:o,pathnameBase:a,pattern:t}}function cL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(n.push(s),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function fL(t){try{return decodeURI(t)}catch(e){return Fs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dL(t,e){try{return decodeURIComponent(t)}catch(r){return Fs(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Gc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function pL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?_i(t):t;return{pathname:r?r.startsWith("/")?r:hL(r,e):e,search:mL(n),hash:vL(i)}}function hL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function T_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=_i(t):(i=ct({},t),Ve(!i.pathname||!i.pathname.includes("?"),Kg("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Kg("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Kg("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(n||a==null)s=r;else{let f=e.length-1;if(a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=pL(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),gL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class L1{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function O_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const __=["post","put","patch","delete"],yL=new Set(__),bL=["get",...__],wL=new Set(bL),SL=new Set([301,302,303,307,308]),xL=new Set([307,308]),Yg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},EL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$l={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CL=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function kL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let P=t.detectErrorBoundary;i=H=>({hasErrorBoundary:P(H)})}else i=CL;let o={},a=Xv(t.routes,i,void 0,o),s,l=t.basename||"/",u=ct({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,f=new Set,d=null,p=null,h=null,g=t.hydrationData!=null,m=rs(a,t.history.location,l),v=null;if(m==null){let P=Jr(404,{pathname:t.history.location.pathname}),{matches:H,route:G}=px(a);m=H,v={[G.id]:P}}let b=!m.some(P=>P.route.lazy)&&(!m.some(P=>P.route.loader)||t.hydrationData!=null),w,y={historyAction:t.history.action,location:t.history.location,matches:m,initialized:b,navigation:Yg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=Tt.Pop,S=!1,C,E=!1,k=!1,T=[],A=[],O=new Map,_=0,N=-1,M=new Map,L=new Set,I=new Map,R=new Map,z=new Map,j=!1;function D(){return c=t.history.listen(P=>{let{action:H,location:G,delta:ie}=P;if(j){j=!1;return}Fs(z.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=nr({currentLocation:y.location,nextLocation:G,historyAction:H});if(ce&&ie!=null){j=!0,t.history.go(ie*-1),jt(ce,{state:"blocked",location:G,proceed(){jt(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),t.history.go(ie)},reset(){let be=new Map(y.blockers);be.set(ce,$l),W({blockers:be})}});return}return ee(H,G)}),y.initialized||ee(Tt.Pop,y.location),w}function $(){c&&c(),f.clear(),C&&C.abort(),y.fetchers.forEach((P,H)=>Ee(H)),y.blockers.forEach((P,H)=>rt(H))}function V(P){return f.add(P),()=>f.delete(P)}function W(P){y=ct({},y,P),f.forEach(H=>H(y))}function q(P,H){var G,ie;let ce=y.actionData!=null&&y.navigation.formMethod!=null&&Sn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((G=P.state)==null?void 0:G._isRedirect)!==!0,be;H.actionData?Object.keys(H.actionData).length>0?be=H.actionData:be=null:ce?be=y.actionData:be=null;let le=H.loaderData?dx(y.loaderData,H.loaderData,H.matches||[],H.errors):y.loaderData,de=y.blockers;de.size>0&&(de=new Map(de),de.forEach((Fe,vt)=>de.set(vt,$l)));let Se=S===!0||y.navigation.formMethod!=null&&Sn(y.navigation.formMethod)&&((ie=P.state)==null?void 0:ie._isRedirect)!==!0;s&&(a=s,s=void 0),E||x===Tt.Pop||(x===Tt.Push?t.history.push(P,P.state):x===Tt.Replace&&t.history.replace(P,P.state)),W(ct({},H,{actionData:be,loaderData:le,historyAction:x,location:P,initialized:!0,navigation:Yg,revalidation:"idle",restoreScrollPosition:Di(P,H.matches||y.matches),preventScrollReset:Se,blockers:de})),x=Tt.Pop,S=!1,E=!1,k=!1,T=[],A=[]}async function Y(P,H){if(typeof P=="number"){t.history.go(P);return}let G=Jv(y.location,y.matches,l,u.v7_prependBasename,P,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ie,submission:ce,error:be}=ax(u.v7_normalizeFormMethod,!1,G,H),le=y.location,de=dc(y.location,ie,H&&H.state);de=ct({},de,t.history.encodeLocation(de));let Se=H&&H.replace!=null?H.replace:void 0,Fe=Tt.Push;Se===!0?Fe=Tt.Replace:Se===!1||ce!=null&&Sn(ce.formMethod)&&ce.formAction===y.location.pathname+y.location.search&&(Fe=Tt.Replace);let vt=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,je=nr({currentLocation:le,nextLocation:de,historyAction:Fe});if(je){jt(je,{state:"blocked",location:de,proceed(){jt(je,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Y(P,H)},reset(){let Xe=new Map(y.blockers);Xe.set(je,$l),W({blockers:Xe})}});return}return await ee(Fe,de,{submission:ce,pendingError:be,preventScrollReset:vt,replace:H&&H.replace})}function te(){if(Ce(),W({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){ee(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}ee(x||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function ee(P,H,G){C&&C.abort(),C=null,x=P,E=(G&&G.startUninterruptedRevalidation)===!0,Ai(y.location,y.matches),S=(G&&G.preventScrollReset)===!0;let ie=s||a,ce=G&&G.overrideNavigation,be=rs(ie,H,l);if(!be){let Xe=Jr(404,{pathname:H.pathname}),{matches:Ct,route:mn}=px(ie);gn(),q(H,{matches:Ct,loaderData:{},errors:{[mn.id]:Xe}});return}if(y.initialized&&!k&&AL(y.location,H)&&!(G&&G.submission&&Sn(G.submission.formMethod))){q(H,{matches:be});return}C=new AbortController;let le=Wl(t.history,H,C.signal,G&&G.submission),de,Se;if(G&&G.pendingError)Se={[ns(be).route.id]:G.pendingError};else if(G&&G.submission&&Sn(G.submission.formMethod)){let Xe=await he(le,H,G.submission,be,{replace:G.replace});if(Xe.shortCircuited)return;de=Xe.pendingActionData,Se=Xe.pendingActionError,ce=_f(H,G.submission),le=new Request(le.url,{signal:le.signal})}let{shortCircuited:Fe,loaderData:vt,errors:je}=await ve(le,H,be,ce,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,de,Se);Fe||(C=null,q(H,ct({matches:be},de?{actionData:de}:{},{loaderData:vt,errors:je})))}async function he(P,H,G,ie,ce){ce===void 0&&(ce={}),Ce();let be=IL(H,G);W({navigation:be});let le,de=Zv(ie,H);if(!de.route.action&&!de.route.lazy)le={type:At.error,error:Jr(405,{method:P.method,pathname:H.pathname,routeId:de.route.id})};else if(le=await Vl("action",P,de,ie,o,i,l),P.signal.aborted)return{shortCircuited:!0};if(ks(le)){let Se;return ce&&ce.replace!=null?Se=ce.replace:Se=le.location===y.location.pathname+y.location.search,await Z(y,le,{submission:G,replace:Se}),{shortCircuited:!0}}if(Au(le)){let Se=ns(ie,de.route.id);return(ce&&ce.replace)!==!0&&(x=Tt.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:le.error}}}if(Yo(le))throw Jr(400,{type:"defer-action"});return{pendingActionData:{[de.route.id]:le.data}}}async function ve(P,H,G,ie,ce,be,le,de,Se){let Fe=ie||_f(H,ce),vt=ce||be||mx(Fe),je=s||a,[Xe,Ct]=sx(t.history,y,G,vt,H,k,T,A,I,L,je,l,de,Se);if(gn(Je=>!(G&&G.some(vn=>vn.route.id===Je))||Xe&&Xe.some(vn=>vn.route.id===Je)),N=++_,Xe.length===0&&Ct.length===0){let Je=lt();return q(H,ct({matches:G,loaderData:{},errors:Se||null},de?{actionData:de}:{},Je?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!E){Ct.forEach(vn=>{let Ri=y.fetchers.get(vn.key),Eg=Gl(void 0,Ri?Ri.data:void 0);y.fetchers.set(vn.key,Eg)});let Je=de||y.actionData;W(ct({navigation:Fe},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},Ct.length>0?{fetchers:new Map(y.fetchers)}:{}))}Ct.forEach(Je=>{O.has(Je.key)&&_e(Je.key),Je.controller&&O.set(Je.key,Je.controller)});let mn=()=>Ct.forEach(Je=>_e(Je.key));C&&C.signal.addEventListener("abort",mn);let{results:Kr,loaderResults:Ml,fetcherResults:bg}=await fe(y.matches,G,Xe,Ct,P);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",mn),Ct.forEach(Je=>O.delete(Je.key));let si=hx(Kr);if(si){if(si.idx>=Xe.length){let Je=Ct[si.idx-Xe.length].key;L.add(Je)}return await Z(y,si.result,{replace:le}),{shortCircuited:!0}}let{loaderData:li,errors:gf}=fx(y,G,Xe,Ml,Se,Ct,bg,R);R.forEach((Je,vn)=>{Je.subscribe(Ri=>{(Ri||Je.done)&&R.delete(vn)})});let wg=lt(),Sg=tt(N),xg=wg||Sg||Ct.length>0;return ct({loaderData:li,errors:gf},xg?{fetchers:new Map(y.fetchers)}:{})}function J(P){return y.fetchers.get(P)||EL}function ue(P,H,G,ie){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(P)&&_e(P);let ce=s||a,be=Jv(y.location,y.matches,l,u.v7_prependBasename,G,H,ie==null?void 0:ie.relative),le=rs(ce,be,l);if(!le){Re(P,H,Jr(404,{pathname:be}));return}let{path:de,submission:Se,error:Fe}=ax(u.v7_normalizeFormMethod,!0,be,ie);if(Fe){Re(P,H,Fe);return}let vt=Zv(le,de);if(S=(ie&&ie.preventScrollReset)===!0,Se&&Sn(Se.formMethod)){Ae(P,H,de,vt,le,Se);return}I.set(P,{routeId:H,path:de}),ye(P,H,de,vt,le,Se)}async function Ae(P,H,G,ie,ce,be){if(Ce(),I.delete(P),!ie.route.action&&!ie.route.lazy){let Mt=Jr(405,{method:be.formMethod,pathname:G,routeId:H});Re(P,H,Mt);return}let le=y.fetchers.get(P),de=LL(be,le);y.fetchers.set(P,de),W({fetchers:new Map(y.fetchers)});let Se=new AbortController,Fe=Wl(t.history,G,Se.signal,be);O.set(P,Se);let vt=_,je=await Vl("action",Fe,ie,ce,o,i,l);if(Fe.signal.aborted){O.get(P)===Se&&O.delete(P);return}if(ks(je))if(O.delete(P),N>vt){let Mt=Va(void 0);y.fetchers.set(P,Mt),W({fetchers:new Map(y.fetchers)});return}else{L.add(P);let Mt=Gl(be);return y.fetchers.set(P,Mt),W({fetchers:new Map(y.fetchers)}),Z(y,je,{submission:be,isFetchActionRedirect:!0})}if(Au(je)){Re(P,H,je.error);return}if(Yo(je))throw Jr(400,{type:"defer-action"});let Xe=y.navigation.location||y.location,Ct=Wl(t.history,Xe,Se.signal),mn=s||a,Kr=y.navigation.state!=="idle"?rs(mn,y.navigation.location,l):y.matches;Ve(Kr,"Didn't find any matches after fetcher action");let Ml=++_;M.set(P,Ml);let bg=Gl(be,je.data);y.fetchers.set(P,bg);let[si,li]=sx(t.history,y,Kr,be,Xe,k,T,A,I,L,mn,l,{[ie.route.id]:je.data},void 0);li.filter(Mt=>Mt.key!==P).forEach(Mt=>{let Al=Mt.key,zw=y.fetchers.get(Al),NP=Gl(void 0,zw?zw.data:void 0);y.fetchers.set(Al,NP),O.has(Al)&&_e(Al),Mt.controller&&O.set(Al,Mt.controller)}),W({fetchers:new Map(y.fetchers)});let gf=()=>li.forEach(Mt=>_e(Mt.key));Se.signal.addEventListener("abort",gf);let{results:wg,loaderResults:Sg,fetcherResults:xg}=await fe(y.matches,Kr,si,li,Ct);if(Se.signal.aborted)return;Se.signal.removeEventListener("abort",gf),M.delete(P),O.delete(P),li.forEach(Mt=>O.delete(Mt.key));let Je=hx(wg);if(Je){if(Je.idx>=si.length){let Mt=li[Je.idx-si.length].key;L.add(Mt)}return Z(y,Je.result)}let{loaderData:vn,errors:Ri}=fx(y,y.matches,si,Sg,void 0,li,xg,R);if(y.fetchers.has(P)){let Mt=Va(je.data);y.fetchers.set(P,Mt)}let Eg=tt(Ml);y.navigation.state==="loading"&&Ml>N?(Ve(x,"Expected pending action"),C&&C.abort(),q(y.navigation.location,{matches:Kr,loaderData:vn,errors:Ri,fetchers:new Map(y.fetchers)})):(W(ct({errors:Ri,loaderData:dx(y.loaderData,vn,Kr,Ri)},Eg||li.length>0?{fetchers:new Map(y.fetchers)}:{})),k=!1)}async function ye(P,H,G,ie,ce,be){let le=y.fetchers.get(P),de=Gl(be,le?le.data:void 0);y.fetchers.set(P,de),W({fetchers:new Map(y.fetchers)});let Se=new AbortController,Fe=Wl(t.history,G,Se.signal);O.set(P,Se);let vt=_,je=await Vl("loader",Fe,ie,ce,o,i,l);if(Yo(je)&&(je=await R_(je,Fe.signal,!0)||je),O.get(P)===Se&&O.delete(P),Fe.signal.aborted)return;if(ks(je))if(N>vt){let Ct=Va(void 0);y.fetchers.set(P,Ct),W({fetchers:new Map(y.fetchers)});return}else{L.add(P),await Z(y,je);return}if(Au(je)){let Ct=ns(y.matches,H);y.fetchers.delete(P),W({fetchers:new Map(y.fetchers),errors:{[Ct.route.id]:je.error}});return}Ve(!Yo(je),"Unhandled fetcher deferred data");let Xe=Va(je.data);y.fetchers.set(P,Xe),W({fetchers:new Map(y.fetchers)})}async function Z(P,H,G){let{submission:ie,replace:ce,isFetchActionRedirect:be}=G===void 0?{}:G;H.revalidate&&(k=!0);let le=dc(P.location,H.location,ct({_isRedirect:!0},be?{_isFetchActionRedirect:!0}:{}));if(Ve(le,"Expected a location on the redirect navigation"),M_.test(H.location)&&r){let Fe=t.history.createURL(H.location),vt=Gc(Fe.pathname,l)==null;if(e.location.origin!==Fe.origin||vt){ce?e.location.replace(H.location):e.location.assign(H.location);return}}C=null;let de=ce===!0?Tt.Replace:Tt.Push,Se=ie||mx(P.navigation);if(xL.has(H.status)&&Se&&Sn(Se.formMethod))await ee(de,le,{submission:ct({},Se,{formAction:H.location}),preventScrollReset:S});else if(be)await ee(de,le,{overrideNavigation:_f(le),fetcherSubmission:Se,preventScrollReset:S});else{let Fe=_f(le,Se);await ee(de,le,{overrideNavigation:Fe,preventScrollReset:S})}}async function fe(P,H,G,ie,ce){let be=await Promise.all([...G.map(Se=>Vl("loader",ce,Se,H,o,i,l)),...ie.map(Se=>Se.matches&&Se.match&&Se.controller?Vl("loader",Wl(t.history,Se.path,Se.controller.signal),Se.match,Se.matches,o,i,l):{type:At.error,error:Jr(404,{pathname:Se.path})})]),le=be.slice(0,G.length),de=be.slice(G.length);return await Promise.all([gx(P,G,le,le.map(()=>ce.signal),!1,y.loaderData),gx(P,ie.map(Se=>Se.match),de,ie.map(Se=>Se.controller?Se.controller.signal:null),!0)]),{results:be,loaderResults:le,fetcherResults:de}}function Ce(){k=!0,T.push(...gn()),I.forEach((P,H)=>{O.has(H)&&(A.push(H),_e(H))})}function Re(P,H,G){let ie=ns(y.matches,H);Ee(P),W({errors:{[ie.route.id]:G},fetchers:new Map(y.fetchers)})}function Ee(P){let H=y.fetchers.get(P);O.has(P)&&!(H&&H.state==="loading"&&M.has(P))&&_e(P),I.delete(P),M.delete(P),L.delete(P),y.fetchers.delete(P)}function _e(P){let H=O.get(P);Ve(H,"Expected fetch controller: "+P),H.abort(),O.delete(P)}function Ke(P){for(let H of P){let G=J(H),ie=Va(G.data);y.fetchers.set(H,ie)}}function lt(){let P=[],H=!1;for(let G of L){let ie=y.fetchers.get(G);Ve(ie,"Expected fetcher: "+G),ie.state==="loading"&&(L.delete(G),P.push(G),H=!0)}return Ke(P),H}function tt(P){let H=[];for(let[G,ie]of M)if(ie<P){let ce=y.fetchers.get(G);Ve(ce,"Expected fetcher: "+G),ce.state==="loading"&&(_e(G),M.delete(G),H.push(G))}return Ke(H),H.length>0}function Ye(P,H){let G=y.blockers.get(P)||$l;return z.get(P)!==H&&z.set(P,H),G}function rt(P){y.blockers.delete(P),z.delete(P)}function jt(P,H){let G=y.blockers.get(P)||$l;Ve(G.state==="unblocked"&&H.state==="blocked"||G.state==="blocked"&&H.state==="blocked"||G.state==="blocked"&&H.state==="proceeding"||G.state==="blocked"&&H.state==="unblocked"||G.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+H.state);let ie=new Map(y.blockers);ie.set(P,H),W({blockers:ie})}function nr(P){let{currentLocation:H,nextLocation:G,historyAction:ie}=P;if(z.size===0)return;z.size>1&&Fs(!1,"A router only supports one blocker at a time");let ce=Array.from(z.entries()),[be,le]=ce[ce.length-1],de=y.blockers.get(be);if(!(de&&de.state==="proceeding")&&le({currentLocation:H,nextLocation:G,historyAction:ie}))return be}function gn(P){let H=[];return R.forEach((G,ie)=>{(!P||P(ie))&&(G.cancel(),H.push(ie),R.delete(ie))}),H}function Ra(P,H,G){if(d=P,h=H,p=G||null,!g&&y.navigation===Yg){g=!0;let ie=Di(y.location,y.matches);ie!=null&&W({restoreScrollPosition:ie})}return()=>{d=null,h=null,p=null}}function Pa(P,H){return p&&p(P,H.map(ie=>NL(ie,y.loaderData)))||P.key}function Ai(P,H){if(d&&h){let G=Pa(P,H);d[G]=h()}}function Di(P,H){if(d){let G=Pa(P,H),ie=d[G];if(typeof ie=="number")return ie}return null}function _l(P){o={},s=Xv(P,i,void 0,o)}return w={get basename(){return l},get state(){return y},get routes(){return a},initialize:D,subscribe:V,enableScrollRestoration:Ra,navigate:Y,fetch:ue,revalidate:te,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:J,deleteFetcher:Ee,dispose:$,getBlocker:Ye,deleteBlocker:rt,_internalFetchControllers:O,_internalActiveDeferreds:R,_internalSetRoutes:_l},w}function TL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Jv(t,e,r,n,i,o,a){let s,l;if(o!=null&&a!=="path"){s=[];for(let c of e)if(s.push(c),c.route.id===o){l=c;break}}else s=e,l=e[e.length-1];let u=T_(i||".",I1(s).map(c=>c.pathnameBase),Gc(t.pathname,r)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!B1(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:uo([r,u.pathname])),Wc(u)}function ax(t,e,r,n){if(!n||!TL(n))return{path:r};if(n.formMethod&&!PL(n.formMethod))return{path:r,error:Jr(405,{method:n.formMethod})};let i=()=>({path:r,error:Jr(400,{type:"invalid-body"})}),o=n.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),s=D_(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Sn(a))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,h)=>{let[g,m]=h;return""+p+g+"="+m+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Sn(a))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Qv(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Qv(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=cx(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=cx(l)}catch{return i()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Sn(c.formMethod))return{path:r,submission:c};let f=_i(r);return e&&f.search&&B1(f.search)&&l.append("index",""),f.search="?"+l,{path:Wc(f),submission:c}}function OL(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function sx(t,e,r,n,i,o,a,s,l,u,c,f,d,p){let h=p?Object.values(p)[0]:d?Object.values(d)[0]:void 0,g=t.createURL(e.location),m=t.createURL(i),v=p?Object.keys(p)[0]:void 0,w=OL(r,v).filter((x,S)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(_L(e.loaderData,e.matches[S],x)||a.some(k=>k===x.route.id))return!0;let C=e.matches[S],E=x;return lx(x,ct({currentUrl:g,currentParams:C.params,nextUrl:m,nextParams:E.params},n,{actionResult:h,defaultShouldRevalidate:o||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||A_(C,E)}))}),y=[];return l.forEach((x,S)=>{if(!r.some(A=>A.route.id===x.routeId))return;let C=rs(c,x.path,f);if(!C){y.push({key:S,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let E=e.fetchers.get(S),k=Zv(C,x.path),T=!1;u.has(S)?T=!1:s.includes(S)?T=!0:E&&E.state!=="idle"&&E.data===void 0?T=o:T=lx(k,ct({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:r[r.length-1].params},n,{actionResult:h,defaultShouldRevalidate:o})),T&&y.push({key:S,routeId:x.routeId,path:x.path,matches:C,match:k,controller:new AbortController})}),[w,y]}function _L(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function A_(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function lx(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function ux(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Ve(i,"No route found in manifest");let o={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Fs(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!JI.has(a)&&(o[a]=n[a])}Object.assign(i,o),Object.assign(i,ct({},e(i),{lazy:void 0}))}async function Vl(t,e,r,n,i,o,a,s){s===void 0&&(s={});let l,u,c,f=h=>{let g,m=new Promise((v,b)=>g=b);return c=()=>g(),e.signal.addEventListener("abort",c),Promise.race([h({request:e,params:r.params,context:s.requestContext}),m])};try{let h=r.route[t];if(r.route.lazy)if(h)u=(await Promise.all([f(h),ux(r.route,o,i)]))[0];else if(await ux(r.route,o,i),h=r.route[t],h)u=await f(h);else if(t==="action"){let g=new URL(e.url),m=g.pathname+g.search;throw Jr(405,{method:e.method,pathname:m,routeId:r.route.id})}else return{type:At.data,data:void 0};else if(h)u=await f(h);else{let g=new URL(e.url),m=g.pathname+g.search;throw Jr(404,{pathname:m})}Ve(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){l=At.error,u=h}finally{c&&e.signal.removeEventListener("abort",c)}if(RL(u)){let h=u.status;if(SL.has(h)){let v=u.headers.get("Location");if(Ve(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!M_.test(v))v=Jv(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,v);else if(!s.isStaticRequest){let b=new URL(e.url),w=v.startsWith("//")?new URL(b.protocol+v):new URL(v),y=Gc(w.pathname,a)!=null;w.origin===b.origin&&y&&(v=w.pathname+w.search+w.hash)}if(s.isStaticRequest)throw u.headers.set("Location",v),u;return{type:At.redirect,status:h,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(s.isRouteRequest)throw{type:l||At.data,response:u};let g,m=u.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await u.json():g=await u.text(),l===At.error?{type:l,error:new L1(h,u.statusText,g),headers:u.headers}:{type:At.data,data:g,statusCode:u.status,headers:u.headers}}if(l===At.error)return{type:l,error:u};if(DL(u)){var d,p;return{type:At.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:At.data,data:u}}function Wl(t,e,r,n){let i=t.createURL(D_(e)).toString(),o={signal:r};if(n&&Sn(n.formMethod)){let{formMethod:a,formEncType:s}=n;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(n.json)):s==="text/plain"?o.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?o.body=Qv(n.formData):o.body=n.formData}return new Request(i,o)}function Qv(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function cx(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function ML(t,e,r,n,i){let o={},a=null,s,l=!1,u={};return r.forEach((c,f)=>{let d=e[f].route.id;if(Ve(!ks(c),"Cannot handle redirect results in processLoaderData"),Au(c)){let p=ns(t,d),h=c.error;n&&(h=Object.values(n)[0],n=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=h),o[d]=void 0,l||(l=!0,s=O_(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Yo(c)?(i.set(d,c.deferredData),o[d]=c.deferredData.data):o[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[d]=c.headers)}),n&&(a=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function fx(t,e,r,n,i,o,a,s){let{loaderData:l,errors:u}=ML(e,r,n,i,s);for(let c=0;c<o.length;c++){let{key:f,match:d,controller:p}=o[c];Ve(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let h=a[c];if(!(p&&p.signal.aborted))if(Au(h)){let g=ns(t.matches,d==null?void 0:d.route.id);u&&u[g.route.id]||(u=ct({},u,{[g.route.id]:h.error})),t.fetchers.delete(f)}else if(ks(h))Ve(!1,"Unhandled fetcher revalidation redirect");else if(Yo(h))Ve(!1,"Unhandled fetcher deferred data");else{let g=Va(h.data);t.fetchers.set(f,g)}}return{loaderData:l,errors:u}}function dx(t,e,r,n){let i=ct({},e);for(let o of r){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&o.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function ns(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function px(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jr(t,e){let{pathname:r,routeId:n,method:i,type:o}=e===void 0?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?s="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):t===403?(a="Forbidden",s='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",s='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?s="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new L1(t||500,a,new Error(s),!0)}function hx(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(ks(r))return{result:r,idx:e}}}function D_(t){let e=typeof t=="string"?_i(t):t;return Wc(ct({},e,{hash:""}))}function AL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Yo(t){return t.type===At.deferred}function Au(t){return t.type===At.error}function ks(t){return(t&&t.type)===At.redirect}function DL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function PL(t){return wL.has(t.toLowerCase())}function Sn(t){return yL.has(t.toLowerCase())}async function gx(t,e,r,n,i,o){for(let a=0;a<r.length;a++){let s=r[a],l=e[a];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!A_(u,l)&&(o&&o[l.route.id])!==void 0;if(Yo(s)&&(i||c)){let f=n[a];Ve(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await R_(s,f,i).then(d=>{d&&(r[a]=d||r[a])})}}}async function R_(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:At.data,data:t.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:t.deferredData.data}}}function B1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function NL(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Zv(t,e){let r=typeof e=="string"?_i(e).search:e.search;if(t[t.length-1].route.index&&B1(r||""))return t[t.length-1];let n=I1(t);return n[n.length-1]}function mx(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:o,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function _f(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function LL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function Va(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ep.apply(this,arguments)}const Oh=U.createContext(null),P_=U.createContext(null),_h=U.createContext(null),Mh=U.createContext(null),_a=U.createContext({outlet:null,matches:[],isDataRoute:!1}),N_=U.createContext(null);function Ah(){return U.useContext(Mh)!=null}function I_(){return Ah()||Ve(!1),U.useContext(Mh).location}function L_(t){U.useContext(_h).static||U.useLayoutEffect(t)}function z1(){let{isDataRoute:t}=U.useContext(_a);return t?KL():BL()}function BL(){Ah()||Ve(!1);let t=U.useContext(Oh),{basename:e,navigator:r}=U.useContext(_h),{matches:n}=U.useContext(_a),{pathname:i}=I_(),o=JSON.stringify(I1(n).map(l=>l.pathnameBase)),a=U.useRef(!1);return L_(()=>{a.current=!0}),U.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=T_(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:uo([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,o,i,t])}function qc(){let{matches:t}=U.useContext(_a),e=t[t.length-1];return e?e.params:{}}function zL(t,e,r){Ah()||Ve(!1);let{navigator:n}=U.useContext(_h),{matches:i}=U.useContext(_a),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=I_(),u;if(e){var c;let g=typeof e=="string"?_i(e):e;s==="/"||(c=g.pathname)!=null&&c.startsWith(s)||Ve(!1),u=g}else u=l;let f=u.pathname||"/",d=s==="/"?f:f.slice(s.length)||"/",p=rs(t,{pathname:d}),h=$L(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:uo([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:uo([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&h?U.createElement(Mh.Provider,{value:{location:ep({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tt.Pop}},h):h}function FL(){let t=qL(),e=O_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:i},r):null,o)}const jL=U.createElement(FL,null);class HL extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?U.createElement(_a.Provider,{value:this.props.routeContext},U.createElement(N_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UL(t){let{routeContext:e,match:r,children:n}=t,i=U.useContext(Oh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(_a.Provider,{value:e},n)}function $L(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let o=t,a=(n=r)==null?void 0:n.errors;if(a!=null){let s=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));s>=0||Ve(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,u)=>{let c=l.route.id?a==null?void 0:a[l.route.id]:null,f=null;r&&(f=l.route.errorElement||jL);let d=e.concat(o.slice(0,u+1)),p=()=>{let h;return c?h=f:l.route.Component?h=U.createElement(l.route.Component,null):l.route.element?h=l.route.element:h=s,U.createElement(UL,{match:l,routeContext:{outlet:s,matches:d,isDataRoute:r!=null},children:h})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?U.createElement(HL,{location:r.location,revalidation:r.revalidation,component:f,error:c,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var e0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(e0||(e0={}));var pc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(pc||(pc={}));function VL(t){let e=U.useContext(Oh);return e||Ve(!1),e}function WL(t){let e=U.useContext(P_);return e||Ve(!1),e}function GL(t){let e=U.useContext(_a);return e||Ve(!1),e}function B_(t){let e=GL(),r=e.matches[e.matches.length-1];return r.route.id||Ve(!1),r.route.id}function qL(){var t;let e=U.useContext(N_),r=WL(pc.UseRouteError),n=B_(pc.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function KL(){let{router:t}=VL(e0.UseNavigateStable),e=B_(pc.UseNavigateStable),r=U.useRef(!1);return L_(()=>{r.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ep({fromRouteId:e},o)))},[t,e])}const YL="startTransition",vx=KP[YL];function XL(t){let{fallbackElement:e,router:r,future:n}=t,[i,o]=U.useState(r.state),{v7_startTransition:a}=n||{},s=U.useCallback(f=>{a&&vx?vx(()=>o(f)):o(f)},[o,a]);U.useLayoutEffect(()=>r.subscribe(s),[r,s]);let l=U.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:f=>r.navigate(f),push:(f,d,p)=>r.navigate(f,{state:d,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(f,d,p)=>r.navigate(f,{replace:!0,state:d,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[r]),u=r.basename||"/",c=U.useMemo(()=>({router:r,navigator:l,static:!1,basename:u}),[r,l,u]);return U.createElement(U.Fragment,null,U.createElement(Oh.Provider,{value:c},U.createElement(P_.Provider,{value:i},U.createElement(QL,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?U.createElement(JL,{routes:r.routes,state:i}):e))),null)}function JL(t){let{routes:e,state:r}=t;return zL(e,void 0,r)}function QL(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Tt.Pop,navigator:o,static:a=!1}=t;Ah()&&Ve(!1);let s=e.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof n=="string"&&(n=_i(n));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=n,h=U.useMemo(()=>{let g=Gc(u,s);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:p},navigationType:i}},[s,u,c,f,d,p,i]);return h==null?null:U.createElement(_h.Provider,{value:l},U.createElement(Mh.Provider,{children:r,value:h}))}var yx;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(yx||(yx={}));new Promise(()=>{});function ZL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tp.apply(this,arguments)}function e3(t,e){return kL({basename:e==null?void 0:e.basename,future:tp({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:KI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||t3(),routes:t,mapRouteProperties:ZL}).initialize()}function t3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=tp({},e,{errors:r3(e.errors)})),e}function r3(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new L1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}var bx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(bx||(bx={}));var wx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wx||(wx={}));function n3(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Sx={};function t0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&Sx[e[0]]||(typeof e[0]=="string"&&(Sx[e[0]]=new Date),n3(...e))}const z_=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}};function xx(t,e,r){t.loadNamespaces(e,z_(t,r))}function Ex(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,z_(t,n))}function i3(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=e.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,t)&&(!i||a(o,t)))}function o3(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(t0("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}):i3(t,e,r)}const a3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,s3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},l3=t=>s3[t],u3=t=>t.replace(a3,l3);let r0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:u3};function c3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r0={...r0,...t}}function f3(){return r0}let F_;function d3(t){F_=t}function p3(){return F_}const h3={type:"3rdParty",init(t){c3(t.options.react),d3(t)}},g3=U.createContext();class m3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const v3=(t,e)=>{const r=U.useRef();return U.useEffect(()=>{r.current=e?r.current:t},[t,e]),r.current};function yl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:i}=U.useContext(g3)||{},o=r||n||p3();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new m3),!o){t0("You will need to pass in an i18next instance by using initReactI18next");const w=(x,S)=>typeof S=="string"?S:S&&typeof S=="object"&&typeof S.defaultValue=="string"?S.defaultValue:Array.isArray(x)?x[x.length-1]:x,y=[w,{},!1];return y.t=w,y.i18n={},y.ready=!1,y}o.options.react&&o.options.react.wait!==void 0&&t0("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...f3(),...o.options.react,...e},{useSuspense:s,keyPrefix:l}=a;let u=t||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(w=>o3(w,o,a));function f(){return o.getFixedT(e.lng||null,a.nsMode==="fallback"?u:u[0],l)}const[d,p]=U.useState(f);let h=u.join();e.lng&&(h=`${e.lng}${h}`);const g=v3(h),m=U.useRef(!0);U.useEffect(()=>{const{bindI18n:w,bindI18nStore:y}=a;m.current=!0,!c&&!s&&(e.lng?Ex(o,e.lng,u,()=>{m.current&&p(f)}):xx(o,u,()=>{m.current&&p(f)})),c&&g&&g!==h&&m.current&&p(f);function x(){m.current&&p(f)}return w&&o&&o.on(w,x),y&&o&&o.store.on(y,x),()=>{m.current=!1,w&&o&&w.split(" ").forEach(S=>o.off(S,x)),y&&o&&y.split(" ").forEach(S=>o.store.off(S,x))}},[o,h]);const v=U.useRef(!0);U.useEffect(()=>{m.current&&!v.current&&p(f),v.current=!1},[o,l]);const b=[d,o,c];if(b.t=d,b.i18n=o,b.ready=c,c||!c&&!s)return b;throw new Promise(w=>{e.lng?Ex(o,e.lng,u,()=>w()):xx(o,u,()=>w())})}function Xt(t){this.content=t}Xt.prototype={constructor:Xt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return i==-1?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new Xt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Xt(r)},addToStart:function(t,e){return new Xt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Xt(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(o==-1?i.length:o,0,e,r),new Xt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Xt.from(t),t.size?new Xt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Xt.from(t),t.size?new Xt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Xt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Xt.from=function(t){if(t instanceof Xt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Xt(e)};function j_(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=j_(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function H_(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let u=H_(a.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class ne{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&n(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let o="",a=!0;return this.nodesBetween(e,r,(s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,r-l),a=!n):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ne(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>r)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new ne(n,i)}cutByIndex(e,r){return e==r?ne.empty:e==0&&r==this.content.length?this:new ne(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new ne(i,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return j_(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return H_(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Mf(0,e);if(e==this.size)return Mf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let o=this.child(n),a=i+o.nodeSize;if(a>=e)return a==e||r>0?Mf(n+1,a):Mf(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ne.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let r,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(r||(r=e.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new ne(r||e,n)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Xg={index:0,offset:0};function Mf(t,e){return Xg.index=t,Xg.offset=e,Xg}function rp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!rp(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!rp(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ze=class n0{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&rp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);return n.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return n0.none;if(e instanceof n0)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Ze.none=[];class np extends Error{}class ge{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=$_(this.content,e+this.openStart,r);return n&&new ge(n,this.openStart,this.openEnd)}removeBetween(e,r){return new ge(U_(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return ge.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ge(ne.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new ge(e,n,i)}}ge.empty=new ge(ne.empty,0,0);function U_(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:a,offset:s}=t.findIndex(r);if(i==e||o.isText){if(s!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(U_(o.content,e-i-1,r-i-1)))}function $_(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=$_(a.content,e-o-1,r);return s&&t.replaceChild(i,a.copy(s))}function y3(t,e,r){if(r.openStart>t.depth)throw new np("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new np("Inconsistent open depths");return V_(t,e,r,0)}function V_(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let a=V_(t,e,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,s=a.content;return na(a,s.cut(0,t.parentOffset).append(r.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=b3(r,t);return na(o,G_(t,a,s,e,n))}else return na(o,ip(t,e,n))}function W_(t,e){if(!e.type.compatibleContent(t.type))throw new np("Cannot join "+e.type.name+" onto "+t.type.name)}function i0(t,e,r){let n=t.node(r);return W_(n,e.node(r)),n}function ra(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Du(t,e,r,n){let i=(e||t).node(r),o=0,a=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(ra(t.nodeAfter,n),o++));for(let s=o;s<a;s++)ra(i.child(s),n);e&&e.depth==r&&e.textOffset&&ra(e.nodeBefore,n)}function na(t,e){return t.type.checkContent(e),t.copy(e)}function G_(t,e,r,n,i){let o=t.depth>i&&i0(t,e,i+1),a=n.depth>i&&i0(r,n,i+1),s=[];return Du(null,t,i,s),o&&a&&e.index(i)==r.index(i)?(W_(o,a),ra(na(o,G_(t,e,r,n,i+1)),s)):(o&&ra(na(o,ip(t,e,i+1)),s),Du(e,r,i,s),a&&ra(na(a,ip(r,n,i+1)),s)),Du(n,null,i,s),new ne(s)}function ip(t,e,r){let n=[];if(Du(null,t,r,n),t.depth>r){let i=i0(t,e,r+1);ra(na(i,ip(t,e,r+1)),n)}return Du(e,null,r,n),new ne(n)}function b3(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=e.node(o).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class hc{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ze.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new op(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(n.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new hc(r,n,o)}static resolveCached(e,r){for(let i=0;i<Jg.length;i++){let o=Jg[i];if(o.pos==r&&o.doc==e)return o}let n=Jg[Qg]=hc.resolve(e,r);return Qg=(Qg+1)%w3,n}}let Jg=[],Qg=0,w3=12;class op{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const S3=Object.create(null);let ia=class o0{constructor(e,r,n,i=Ze.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||ne.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&rp(this.attrs,r||e.defaultAttrs||S3)&&Ze.sameSet(this.marks,n||Ze.none)}copy(e=null){return e==this.content?this:new o0(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new o0(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return ge.empty;let i=this.resolve(e),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new ge(u,i.depth-a,o.depth-a)}replace(e,r,n){return y3(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return hc.resolveCached(this,e)}resolveNoCache(e){return hc.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),q_(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=ne.empty,i=0,o=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ze.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Ze.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=ne.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,i,n)}};ia.prototype.text=void 0;class ap extends ia{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ap(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ap(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function q_(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class pa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new x3(e,r);if(n.next==null)return pa.empty;let i=K_(n);n.next&&n.err("Unexpected trailing text");let o=M3(_3(i));return A3(o,n),o}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return ne.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:f}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return o}).join(`
`)}}pa.empty=new pa(!0);class x3{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function K_(t){let e=[];do e.push(E3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function E3(t){let e=[];do e.push(C3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function C3(t){let e=O3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=k3(t,e);else break;return e}function Cx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function k3(t,e){let r=Cx(t),n=r;return t.eat(",")&&(t.next!="}"?n=Cx(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function T3(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function O3(t){if(t.eat("(")){let e=K_(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=T3(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function _3(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=r();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=r();n(l,c),i(o(a.expr,l),c),l=c}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Y_(t,e){return e-t}function kx(t,e){let r=[];return n(e),r.sort(Y_);function n(i){let o=t[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function M3(t){let e=Object.create(null);return r(kx(t,0));function r(n){let i=[];n.forEach(a=>{t[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);kx(t,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[n.join(",")]=new pa(n.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(Y_);o.next.push({type:i[a][0],next:e[s.join(",")]||r(s)})}return o}}function A3(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(u)==-1&&n.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function X_(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function J_(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let o=t[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function Q_(t){let e=Object.create(null);if(t)for(let r in t)e[r]=new D3(t[r]);return e}let Tx=class Z_{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Q_(n.attrs),this.defaultAttrs=X_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:J_(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ia(this,this.computeAttrs(e),ne.from(r),Ze.setFrom(n))}createChecked(e=null,r,n){return r=ne.from(r),this.checkContent(r),new ia(this,this.computeAttrs(e),r,Ze.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=ne.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(ne.empty,!0);return o?new ia(this,e,r.append(o),Ze.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ze.none:e}static compile(e,r){let n=Object.create(null);e.forEach((o,a)=>n[o]=new Z_(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};class D3{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Dh{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=Q_(i.attrs),this.excluded=null;let o=X_(this.attrs);this.instance=o?new Ze(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ze(this,J_(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((o,a)=>n[o]=new Dh(o,i++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}}class R3{constructor(e){this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Xt.from(e.nodes),r.marks=Xt.from(e.marks||{}),this.nodes=Tx.compile(this.spec.nodes,this),this.marks=Dh.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=pa.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?Ox(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:Ox(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new ap(n,n.defaultAttrs,e,Ze.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return ia.fromJSON(this,e)}markFromJSON(e){return Ze.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Ox(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t.marks[i],a=o;if(o)r.push(o);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}let F1=class a0{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new Mx(this,r,!1);return n.addAll(e,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Mx(this,r,!0);return n.addAll(e,r.from,r.to),ge.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(I3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=Ax(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=Ax(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new a0(e,a0.schemaRules(e)))}};const eM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},P3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tM={ol:!0,ul:!0},sp=1,lp=2,Ru=4;function _x(t,e,r){return e!=null?(e?sp:0)|(e==="full"?lp:0):t&&t.whitespace=="pre"?sp|lp:r&~Ru}class Af{constructor(e,r,n,i,o,a,s){this.type=e,this.attrs=r,this.marks=n,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Ze.none,this.stashMarks=[],this.match=a||(s&Ru?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ne.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&sp)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=ne.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,n=this.pendingMarks;r<n.length;r++){let i=n[r];(this.type?this.type.allowsMarkType(i.type):B3(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Mx{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let i=r.topNode,o,a=_x(null,r.preserveWhitespace,0)|(n?Ru:0);i?o=new Af(i.type,i.attrs,Ze.none,Ze.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Af(null,null,Ze.none,Ze.none,!0,null,a):o=new Af(e.schema.topNodeType,null,Ze.none,Ze.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,r){let n=e.getAttribute("style");if(!n)return r();let i=this.readStyles(L3(n));if(!i)return;let[o,a]=i,s=this.top;for(let l=0;l<a.length;l++)this.removePendingMark(a[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);r();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<a.length;l++)this.addPendingMark(a[l])}addTextNode(e){let r=e.nodeValue,n=this.top;if(n.options&lp||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(n.options&sp)n.options&lp?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let n=e.nodeName.toLowerCase(),i;tM.hasOwnProperty(n)&&this.parser.normalizeLists&&N3(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(o?o.ignore:P3.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,s=this.top,l=this.needsBlock;if(eM.hasOwnProperty(n))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),a&&this.sync(s),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=Ze.none,n=Ze.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let a=this.parser.matchStyle(e[i],e[i+1],this,o);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(s=>{a.clearMark(s)&&(n=s.addToSet(n))}):r=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(r),a.consuming===!1)o=a;else break}return[r,n]}addElementByRule(e,r,n){let i,o,a;r.node?(o=this.parser.schema.nodes[r.node],o.isLeaf?this.insertNode(o.create(r.attrs))||this.leafFallback(e):i=this.enter(o,r.attrs||null,r.preserveWhitespace)):(a=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(a));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,a&&this.removePendingMark(a,s)}addAll(e,r,n){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=n==null?null:e.childNodes[n];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let r,n;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,n=o,!a.length)||o.solid)break}if(!r)return!1;this.sync(n);for(let i=0;i<r.length;i++)this.enterInner(r[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let n=r.activeMarks;for(let i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return r.content.push(e.mark(n)),!0}return!1}enter(e,r,n){let i=this.findPlace(e.create(r));return i&&this.enterInner(e,r,!0,n),i}enterInner(e,r=null,n=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let a=_x(e,i,o.options);o.options&Ru&&o.content.length==0&&(a|=Ru),this.nodes.push(new Af(e,r,o.activeMarks,o.pendingMarks,n,null,a)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=r[s];if(u==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let r=z3(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==r)break}}}function N3(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&tM.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function I3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function L3(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,n=[];for(;r=e.exec(t);)n.push(r[1],r[2].trim());return n}function Ax(t){let e={};for(let r in t)e[r]=t[r];return e}function B3(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}function z3(t,e){for(let r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}class $n{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Zg(r).createDocumentFragment());let i=n,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,r);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=$n.renderSpec(Zg(r),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&$n.renderSpec(Zg(n),i(e,r))}static renderSpec(e,r,n=null){if(typeof r=="string")return{dom:e.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;let i=r[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,s=n?e.createElementNS(n,i):e.createElement(i),l=r[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<r.length;c++){let f=r[c];if(f===0){if(c<r.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:p}=$n.renderSpec(e,f,n);if(s.appendChild(d),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:s,contentDOM:a}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new $n(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=Dx(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return Dx(e.marks)}}function Dx(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Zg(t){return t.document||window.document}const rM=65535,nM=Math.pow(2,16);function F3(t,e){return t+e*nM}function Rx(t){return t&rM}function j3(t){return(t-(t&rM))/nM}const iM=1,oM=2,yd=4,aM=8;class s0{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&aM)>0}get deletedBefore(){return(this.delInfo&(iM|yd))>0}get deletedAfter(){return(this.delInfo&(oM|yd))>0}get deletedAcross(){return(this.delInfo&yd)>0}}class Hr{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Hr.empty)return Hr.empty}recover(e){let r=0,n=Rx(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+j3(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:r:r,p=l+i+(d<0?0:c);if(n)return p;let h=e==(r<0?l:f)?null:F3(s/3,e-l),g=e==l?oM:e==f?iM:yd;return(r<0?e!=l:e!=f)&&(g|=aM),new s0(p,g,h)}i+=c-u}return n?e+i:new s0(e+i,0,null)}touches(e,r){let n=0,i=Rx(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+a]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+r],c=this.ranges[i+n];e(s,s+u,l,l+c),o+=c-u}}invert(){return new Hr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hr.empty:new Hr(e<0?[0,-e,0]:[0,0,e])}}Hr.empty=new Hr([]);class Ts{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Ts(this.maps,this.mirror,e,r)}copy(){return new Ts(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Ts;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(e,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new s0(e,i,null)}}const em=Object.create(null);class pr{getMap(){return Hr.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=em[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in em)throw new RangeError("Duplicate use of step JSON ID "+e);return em[e]=r,r.prototype.jsonID=e,r}}class _t{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new _t(e,null)}static fail(e){return new _t(null,e)}static fromReplace(e,r,n,i){try{return _t.ok(e.replace(r,n,i))}catch(o){if(o instanceof np)return _t.fail(o.message);throw o}}}function j1(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(j1(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return ne.fromArray(n)}class Yi extends pr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new ge(j1(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return _t.fromReplace(e,this.from,this.to,o)}invert(){return new Vn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Yi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Yi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Yi(r.from,r.to,e.markFromJSON(r.mark))}}pr.jsonID("addMark",Yi);class Vn extends pr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new ge(j1(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return _t.fromReplace(e,this.from,this.to,n)}invert(){return new Yi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Vn(r.pos,n.pos,this.mark)}merge(e){return e instanceof Vn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vn(r.from,r.to,e.markFromJSON(r.mark))}}pr.jsonID("removeMark",Vn);class Xi extends pr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return _t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return _t.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Xi(this.pos,r.marks[i]);return new Xi(this.pos,this.mark)}}return new js(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Xi(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xi(r.pos,e.markFromJSON(r.mark))}}pr.jsonID("addNodeMark",Xi);class js extends pr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return _t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return _t.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Xi(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new js(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new js(r.pos,e.markFromJSON(r.mark))}}pr.jsonID("removeNodeMark",js);class er extends pr{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&l0(e,this.from,this.to)?_t.fail("Structure replace would overwrite content"):_t.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hr([this.from,this.to-this.from,this.slice.size])}invert(e){return new er(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new er(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof er)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?ge.empty:new ge(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new er(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?ge.empty:new ge(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new er(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new er(r.from,r.to,ge.fromJSON(e,r.slice),!!r.structure)}}pr.jsonID("replace",er);class Vt extends pr{constructor(e,r,n,i,o,a,s=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(l0(e,this.from,this.gapFrom)||l0(e,this.gapTo,this.to)))return _t.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return _t.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?_t.fromReplace(e,this.from,this.to,n):_t.fail("Content does not fit in gap")}getMap(){return new Hr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Vt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new Vt(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vt(r.from,r.to,r.gapFrom,r.gapTo,ge.fromJSON(e,r.slice),r.insert,!!r.structure)}}pr.jsonID("replaceAround",Vt);function l0(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function H3(t,e,r,n){let i=[],o=[],a,s;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),p=Math.min(u+l.nodeSize,r),h=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(h)||(a&&a.to==d&&a.mark.eq(f[g])?a.to=p:i.push(a=new Vn(d,p,f[g])));s&&s.to==d?s.to=p:o.push(s=new Yi(d,p,n))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function U3(t,e,r,n){let i=[],o=0;t.doc.nodesBetween(e,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof Dh){let u=a.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,r);for(let c=0;c<l.length;c++){let f=l[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>t.step(new Vn(a.from,a.to,a.style)))}function $3(t,e,r,n=r.contentMatch){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=a+l.nodeSize,c=n.matchType(l.type);if(!c)o.push(new er(a,u,ge.empty));else{n=c;for(let f=0;f<l.marks.length;f++)r.allowsMarkType(l.marks[f].type)||t.step(new Vn(a,u,l.marks[f]));if(l.isText&&!r.spec.code){let f,d=/\r?\n|\r/g,p;for(;f=d.exec(l.text);)p||(p=new ge(ne.from(r.schema.text(" ",r.allowedMarks(l.marks))),0,0)),o.push(new er(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!n.validEnd){let s=n.fillBefore(ne.empty,!0);t.replace(a,a,new ge(s,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function V3(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function bl(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),o=t.$from.index(n),a=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!V3(i,o,a))break}return null}function W3(t,e,r){let{$from:n,$to:i,depth:o}=e,a=n.before(o+1),s=i.after(o+1),l=a,u=s,c=ne.empty,f=0;for(let h=o,g=!1;h>r;h--)g||n.index(h)>0?(g=!0,c=ne.from(n.node(h).copy(c)),f++):l--;let d=ne.empty,p=0;for(let h=o,g=!1;h>r;h--)g||i.after(h+1)<i.end(h)?(g=!0,d=ne.from(i.node(h).copy(d)),p++):u++;t.step(new Vt(l,u,a,s,new ge(c.append(d),f,p),c.size-f,!0))}function H1(t,e,r=null,n=t){let i=G3(t,e),o=i&&q3(n,e);return o?i.map(Px).concat({type:e,attrs:r}).concat(o.map(Px)):null}function Px(t){return{type:t,attrs:null}}function G3(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return r.canReplaceWith(n,i,a)?o:null}function q3(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.child(n),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function K3(t,e,r){let n=ne.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ne.from(r[a].type.create(r[a].attrs,n))}let i=e.start,o=e.end;t.step(new Vt(i,o,i,o,new ge(n,0,0),r.length,!0))}function Y3(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,r,(a,s)=>{if(a.isTextblock&&!a.hasMarkup(n,i)&&X3(t.doc,t.mapping.slice(o).map(s),n)){t.clearIncompatible(t.mapping.slice(o).map(s,1),n);let l=t.mapping.slice(o),u=l.map(s,1),c=l.map(s+a.nodeSize,1);return t.step(new Vt(u,c,u+1,c-1,new ge(ne.from(n.create(i,null,a.marks)),0,0),1,!0)),!1}})}function X3(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function J3(t,e,r,n,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Vt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ge(ne.from(a),0,0),1,!0))}function Os(t,e,r=1,n){let i=t.resolve(e),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=n&&n[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=n&&n[c]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(p))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function Q3(t,e,r=1,n){let i=t.doc.resolve(e),o=ne.empty,a=ne.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){o=ne.from(i.node(s).copy(o));let c=n&&n[u];a=ne.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}t.step(new er(e,e,new ge(o.append(a),r,r),!0))}function _o(t,e){let r=t.resolve(e),n=r.index();return sM(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function sM(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Rh(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let o,a,s=n.index(i);if(i==n.depth?(o=n.nodeBefore,a=n.nodeAfter):r>0?(o=n.node(i+1),s++,a=n.node(i).maybeChild(s)):(o=n.node(i).maybeChild(s-1),a=n.node(i+1)),o&&!o.isTextblock&&sM(o,a)&&n.node(i).canReplace(s,s+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function Z3(t,e,r){let n=new er(e-r,e+r,ge.empty,!0);t.step(n)}function eB(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function lM(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),u=n.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function U1(t,e,r=e,n=ge.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),o=t.resolve(r);return uM(i,o,n)?new er(e,r,n):new tB(i,o,n).fit()}function uM(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class tB{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new ge(o,a,s);return e>-1?new Vt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new er(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let o=r.firstChild;if(r.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){e=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=tm(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,f=null;if(r==1&&(a?u.matchType(a.type)||(f=u.fillBefore(ne.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(r==2&&a&&(c=u.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=tm(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ge(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=tm(e,r);if(i.childCount<=1&&r>0){let o=e.size-r<=r+i.size;this.unplaced=new ge(cu(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new ge(cu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));f=f.matchFragment(i)}let p=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let g=s.child(u),m=f.matchType(g.type);if(!m)break;u++,(u>1||l==0||g.content.size)&&(f=m,c.push(cM(g.mark(d.allowedMarks(g.marks)),u==1?l:0,u==s.childCount?p:-1)))}let h=u==s.childCount;h||(p=-1),this.placed=fu(this.placed,r,ne.from(c)),this.frontier[r].match=f,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=s;g<p;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=h?e==0?ge.empty:new ge(cu(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new ge(cu(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!rm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=rm(e,r,i,n,o);if(a){for(let s=r-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=rm(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:a,move:o?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=fu(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=fu(this.placed,this.depth,ne.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ne.empty,!0);r.childCount&&(this.placed=fu(this.placed,this.frontier.length,r))}}function cu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(cu(t.firstChild.content,e-1,r)))}function fu(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(fu(t.lastChild.content,e-1,r)))}function tm(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function cM(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,cM(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(ne.empty,!0)))),t.copy(n)}function rm(t,e,r,n,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!rB(r,o.content,a)?s:null}function rB(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function nB(t){return t.spec.defining||t.spec.definingForContent}function iB(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),o=t.doc.resolve(r);if(uM(i,o,n))return t.step(new er(e,r,n));let a=dM(i,t.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==p&&a.splice(1,0,-d)}let l=a.indexOf(s),u=[],c=n.openStart;for(let d=n.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==n.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d],h=nB(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(s)-1)))c=d;else if(h||!p.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let p=(d+c+1)%(n.openStart+1),h=u[p];if(h)for(let g=0;g<a.length;g++){let m=a[(g+l)%a.length],v=!0;m<0&&(v=!1,m=-m);let b=i.node(m-1),w=i.index(m-1);if(b.canReplaceWith(w,w,h.type,h.marks))return t.replace(i.before(m),v?o.after(m):r,new ge(fM(n.content,0,n.openStart,p),p,n.openEnd))}}let f=t.steps.length;for(let d=a.length-1;d>=0&&(t.replace(e,r,n),!(t.steps.length>f));d--){let p=a[d];p<0||(e=i.before(p),r=o.after(p))}}function fM(t,e,r,n,i){if(e<r){let o=t.firstChild;t=t.replaceChild(0,o.copy(fM(o.content,e+1,r,n,o)))}if(e>n){let o=i.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(ne.empty,!0))}return t}function oB(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=eB(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new ge(ne.from(n),0,0))}function aB(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),o=dM(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return t.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return t.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a)return t.delete(n.before(a),r);t.delete(e,r)}function dM(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&r.push(i)}return r}class _s extends pr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return _t.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return _t.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(i),0,r.isLeaf?0:1))}getMap(){return Hr.empty}invert(e){return new _s(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new _s(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _s(r.pos,r.attr,r.value)}}pr.jsonID("attr",_s);class gc extends pr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return _t.ok(n)}getMap(){return Hr.empty}invert(e){return new gc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new gc(r.attr,r.value)}}pr.jsonID("docAttr",gc);let Hs=class extends Error{};Hs=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Hs.prototype=Object.create(Error.prototype);Hs.prototype.constructor=Hs;Hs.prototype.name="TransformError";class pM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ts}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Hs(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=ge.empty){let i=U1(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new ge(ne.from(n),0,0))}delete(e,r){return this.replace(e,r,ge.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return iB(this,e,r,n),this}replaceRangeWith(e,r,n){return oB(this,e,r,n),this}deleteRange(e,r){return aB(this,e,r),this}lift(e,r){return W3(this,e,r),this}join(e,r=1){return Z3(this,e,r),this}wrap(e,r){return K3(this,e,r),this}setBlockType(e,r=e,n,i=null){return Y3(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return J3(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new _s(e,r,n)),this}setDocAttribute(e,r){return this.step(new gc(e,r)),this}addNodeMark(e,r){return this.step(new Xi(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Ze)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new js(e,r)),this}split(e,r=1,n){return Q3(this,e,r,n),this}addMark(e,r,n){return H3(this,e,r,n),this}removeMark(e,r,n){return U3(this,e,r,n),this}clearIncompatible(e,r,n){return $3(this,e,r,n),this}}const nm=Object.create(null);class ze{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new sB(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=ge.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?ge.empty:r),s==0&&Lx(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(n),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),Lx(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Le(e):Wa(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=r<0?Wa(e.node(0),e.node(o),e.before(o+1),e.index(o),r,n):Wa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new On(e.node(0))}static atStart(e){return Wa(e,e,0,0,1)||new On(e)}static atEnd(e){return Wa(e,e,e.content.size,e.childCount,-1)||new On(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=nm[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in nm)throw new RangeError("Duplicate use of selection JSON ID "+e);return nm[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}}ze.prototype.visible=!0;class sB{constructor(e,r){this.$from=e,this.$to=r}}let Nx=!1;function Ix(t){!Nx&&!t.parent.inlineContent&&(Nx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Le extends ze{constructor(e,r=e){Ix(e),Ix(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ze.near(n);let i=e.resolve(r.map(this.anchor));return new Le(i.parent.inlineContent?i:n,n)}replace(e,r=ge.empty){if(super.replace(e,r),r==ge.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ph(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Le(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=ze.findFrom(r,n,!0)||ze.findFrom(r,-n,!0);if(o)r=o.$head;else return ze.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(ze.findFrom(e,-n,!0)||ze.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Le(e,r)}}ze.jsonID("text",Le);class Ph{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Ph(e.map(this.anchor),e.map(this.head))}resolve(e){return Le.between(e.resolve(this.anchor),e.resolve(this.head))}}class Me extends ze{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=e.resolve(i);return n?ze.near(o):new Me(o)}content(){return new ge(ne.from(this.node),0,0)}eq(e){return e instanceof Me&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $1(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Me(e.resolve(r.anchor))}static create(e,r){return new Me(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Me.prototype.visible=!1;ze.jsonID("node",Me);class $1{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Ph(n,n):new $1(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Me.isSelectable(n)?new Me(r):ze.near(r)}}class On extends ze{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=ge.empty){if(r==ge.empty){e.delete(0,e.doc.content.size);let n=ze.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new On(e)}map(e){return new On(e)}eq(e){return e instanceof On}getBookmark(){return lB}}ze.jsonID("all",On);const lB={map(){return this},resolve(t){return new On(t)}};function Wa(t,e,r,n,i,o=!1){if(e.inlineContent)return Le.create(t,r);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&Me.isSelectable(s))return Me.create(t,r-(i<0?s.nodeSize:0))}else{let l=Wa(t,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function Lx(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof er||i instanceof Vt))return;let o=t.mapping.maps[n],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),t.setSelection(ze.near(t.doc.resolve(a),r))}const Bx=1,Df=2,zx=4;class uB extends pM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bx)&~Df,this.storedMarks=null,this}get selectionSet(){return(this.updated&Bx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Df,this}ensureMarks(e){return Ze.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Df)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Df,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ze.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,o)),this.selection.empty||this.setSelection(ze.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=zx,this}get scrolledIntoView(){return(this.updated&zx)>0}}function Fx(t,e){return!e||!t?t:t.bind(e)}class du{constructor(e,r,n){this.name=e,this.init=Fx(r.init,n),this.apply=Fx(r.apply,n)}}const cB=[new du("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new du("selection",{init(t,e){return t.selection||ze.atStart(e.doc)},apply(t){return t.selection}}),new du("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new du("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class im{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cB.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new du(n.key,n.spec.state,n))})}}class is{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new is(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(e,this[o.name],this,r)}return r}get tr(){return new uB(this)}static create(e){let r=new im(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new is(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new im(this.schema,e.plugins),n=r.fields,i=new is(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new im(e.schema,e.plugins),o=new is(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=ia.fromJSON(e.schema,r.doc);else if(a.name=="selection")o.selection=ze.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=u.fromJSON.call(l,e,r[s],o);return}}o[a.name]=a.init(e,o)}}),o}}function hM(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=hM(i,e,{})),r[n]=i}return r}class Bt{constructor(e){this.spec=e,this.props={},e.props&&hM(e.props,this,this.props),this.key=e.key?e.key.key:gM("plugin")}getState(e){return e[this.key]}}const om=Object.create(null);function gM(t){return t in om?t+"$"+ ++om[t]:(om[t]=0,t+"$")}class Or{constructor(e="key"){this.key=gM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const yr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},mc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let jx=null;const di=function(t,e,r){let n=jx||(jx=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},ha=function(t,e,r,n){return r&&(Hx(t,e,r,n,-1)||Hx(t,e,r,n,1))},fB=/^(img|br|input|textarea|hr)$/i;function Hx(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Fn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||V1(t)||fB.test(t.nodeName)||t.contentEditable=="false")return!1;e=yr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Fn(t):0}else return!1}}function Fn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function dB(t,e,r){for(let n=e==0,i=e==Fn(t);n||i;){if(t==r)return!0;let o=yr(t);if(t=t.parentNode,!t)return!1;n=n&&o==0,i=i&&o==Fn(t)}}function V1(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Nh=function(t){return t.focusNode&&ha(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Bo(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function pB(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hB(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:n.offset}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:n.startOffset}}}const Qn=typeof navigator<"u"?navigator:null,Ux=typeof document<"u"?document:null,Mo=Qn&&Qn.userAgent||"",u0=/Edge\/(\d+)/.exec(Mo),mM=/MSIE \d/.exec(Mo),c0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mo),Ir=!!(mM||c0||u0),co=mM?document.documentMode:c0?+c0[1]:u0?+u0[1]:0,Mn=!Ir&&/gecko\/(\d+)/i.test(Mo);Mn&&+(/Firefox\/(\d+)/.exec(Mo)||[0,0])[1];const f0=!Ir&&/Chrome\/(\d+)/.exec(Mo),sr=!!f0,gB=f0?+f0[1]:0,xr=!Ir&&!!Qn&&/Apple Computer/.test(Qn.vendor),Us=xr&&(/Mobile\/\w+/.test(Mo)||!!Qn&&Qn.maxTouchPoints>2),Qr=Us||(Qn?/Mac/.test(Qn.platform):!1),mB=Qn?/Win/.test(Qn.platform):!1,En=/Android \d/.test(Mo),Kc=!!Ux&&"webkitFontSmoothing"in Ux.documentElement.style,vB=Kc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function yB(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ci(t,e){return typeof t=="number"?t:t[e]}function bB(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function $x(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=r||t.dom;a;a=mc(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?yB(o):bB(s),c=0,f=0;if(e.top<u.top+ci(n,"top")?f=-(u.top-e.top+ci(i,"top")):e.bottom>u.bottom-ci(n,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+ci(i,"top")-u.top:e.bottom-u.bottom+ci(i,"bottom")),e.left<u.left+ci(n,"left")?c=-(u.left-e.left+ci(i,"left")):e.right>u.right-ci(n,"right")&&(c=e.right-u.right+ci(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let h=s.scrollLeft-d,g=s.scrollTop-p;e={left:e.left-h,top:e.top-g,right:e.right-h,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function wB(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let o=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=t.root.elementFromPoint(o,a);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:vM(t.dom)}}function vM(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=mc(n));return e}function SB({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;yM(r,n==0?0:n-e)}function yM(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:o}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}let Ia=null;function xB(t){if(t.setActive)return t.setActive();if(Ia)return t.focus(Ia);let e=vM(t);t.focus(Ia==null?{get preventScroll(){return Ia={preventScroll:!0},!0}}:void 0),Ia||(Ia=!1,yM(e,0))}function bM(t,e){let r,n=2e8,i,o=0,a=e.top,s=e.top,l,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=di(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<n){r=c,n=g,i=g&&r.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&g&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!r&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?EB(r,i):!r||n&&r.nodeType==1?{node:t,offset:o}:bM(r,i)}function EB(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let o=Bi(n,1);if(o.top!=o.bottom&&W1(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function W1(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function CB(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function kB(t,e,r){let{node:n,offset:i}=bM(e,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,i,o)}function TB(t,e,r,n){let i=-1;for(let o=e,a=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent&&!a||!s.contentDOM)){let l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!a&&(a=!0,l.left>n.left||l.top>n.top?i=s.posBefore:(l.right<n.left||l.bottom<n.top)&&(i=s.posAfter)),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function wM(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(W1(e,u))return wM(a,e,u)}}if((o=(o+1)%n)==i)break}return t}function OB(t,e){let r=t.dom.ownerDocument,n,i=0,o=hB(r,e.left,e.top);o&&({node:n,offset:i}=o);let a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),s;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!W1(e,u)||(a=wM(t.dom,e,u),!a))return null}if(xr)for(let u=a;n&&u;u=mc(u))u.draggable&&(n=void 0);if(a=CB(a,e),n){if(Mn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Kc&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=TB(t,n,i,e))}s==null&&(s=kB(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Vx(t){return t.top<t.bottom||t.left<t.right}function Bi(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Vx(n))return n}return Array.prototype.find.call(r,Vx)||t.getBoundingClientRect()}const _B=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SM(t,e,r){let{node:n,offset:i,atom:o}=t.docView.domFromPos(e,r<0?-1:1),a=Kc||Mn;if(n.nodeType==3)if(a&&(_B.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Bi(di(n,i,i),r);if(Mn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Bi(di(n,i-1,i-1),-1);if(u.top==l.top){let c=Bi(di(n,i,i+1),-1);if(c.top!=l.top)return ql(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,ql(Bi(di(n,l,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==Fn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return am(l.getBoundingClientRect(),!1)}if(o==null&&i<Fn(n)){let l=n.childNodes[i];if(l.nodeType==1)return am(l.getBoundingClientRect(),!0)}return am(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==Fn(n))){let l=n.childNodes[i-1],u=l.nodeType==3?di(l,Fn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return ql(Bi(u,1),!1)}if(o==null&&i<Fn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?di(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return ql(Bi(u,-1),!0)}return ql(Bi(n.nodeType==3?di(n):n,-r),r>=0)}function ql(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function am(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function xM(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function MB(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return xM(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=SM(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=di(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const AB=/[\u0590-\u08ac]/;function DB(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=t.domSelection();return!AB.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:xM(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:h,focusOffset:g}=t.domSelectionRange(),m=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&u==g;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),m})}let Wx=null,Gx=null,qx=!1;function RB(t,e,r){return Wx==e&&Gx==r?qx:(Wx=e,Gx=r,qx=r=="up"||r=="down"?MB(t,e,r):DB(t,e,r))}const rn=0,Kx=1,Xo=2,Zn=3;class Yc{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=rn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,a;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>yr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return o}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>e||a instanceof CM){i=e-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof EM&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?yr(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?yr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=yr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>r||s==this.children.length-1)){r=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=yr(f.dom);break}r+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let o=Math.min(e,r),a=Math.max(e,r);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],g=p+h.size;if(o>p&&a<g)return h.setSelection(e-p-h.border,r-p-h.border,n,i);p=g}let s=this.domFromPos(e,e?-1:1),l=r==e?s:this.domFromPos(r,r?-1:1),u=n.getSelection(),c=!1;if((Mn||xr)&&e==r){let{node:d,offset:p}=s;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,g;h;h=h.parentNode){if(g=h.nextSibling){g.nodeName=="BR"&&(s=l={node:g.parentNode,offset:yr(g)+1});break}let m=h.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(Mn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&xr)&&ha(s.node,s.offset,u.anchorNode,u.anchorOffset)&&ha(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==r)&&!c){u.collapse(s.node,s.offset);try{e!=r&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>r){let p=s;s=l,l=p}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let s=n+o.border,l=a-o.border;if(e>=s&&r<=l){this.dirty=e==n||r==a?Xo:Kx,e==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Zn:o.markDirty(e-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Xo:Zn}n=a}this.dirty=Xo}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Xo:Kx;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class EM extends Yc{constructor(e,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=r,this.widget=r,o=this}matchesWidget(e){return this.dirty==rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class PB extends Yc{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ga extends Yc{constructor(e,r,n,i){super(e,[],n,i),this.mark=r}static create(e,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=$n.renderSpec(document,r.type.spec.toDOM(r,n))),new ga(e,r,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&Zn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Zn&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=rn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=rn}}slice(e,r,n){let i=ga.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=h0(o,r,a,n)),e>0&&(o=h0(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}class fo extends Yc{constructor(e,r,n,i,o,a,s,l,u){super(e,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,u=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=$n.renderSpec(document,r.type.spec.toDOM(r)));!f&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let d=c;return c=OM(c,n,r),u?l=new NB(e,r,n,i,c,f||null,d,u,o,a+1):r.isText?new Ih(e,r,n,i,c,d,o):new fo(e,r,n,i,c,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,r,n){return this.dirty==rn&&e.eq(this.node)&&p0(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,o=e.composing?this.localCompositionInfo(e,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new LB(this,a&&a.node,e);FB(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?Ze.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let p;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,p,e)||l.updateNextNode(u,c,f,e,d,i)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Xo)&&(a&&this.protectLocalComposition(e,a),kM(this.contentDOM,this.children,e),Us&&jB(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Le)||n<r||i>r+this.node.content.size)return null;let o=e.domSelectionRange(),a=HB(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,l=UB(this.node.content,s,n-r,i-r);return l<0?null:{node:a,pos:l,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new PB(this,o,r,i);e.input.compositionNodes.push(a),this.children=h0(this.children,n,n+i.length,e,a)}update(e,r,n,i){return this.dirty==Zn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=rn}updateOuterDeco(e){if(p0(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=TM(this.dom,this.nodeDOM,d0(this.outerDeco,this.node,r),d0(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Yx(t,e,r,n,i){OM(n,e,t);let o=new fo(void 0,t,e,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Ih extends fo{constructor(e,r,n,i,o,a,s){super(e,r,n,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Zn||this.dirty!=rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=rn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),o=document.createTextNode(i.text);return new Ih(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Zn)}get domAtom(){return!1}}class CM extends Yc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class NB extends fo{constructor(e,r,n,i,o,a,s,l,u,c){super(e,r,n,i,o,a,s,u,c),this.spec=l}update(e,r,n,i){if(this.dirty==Zn)return!1;if(this.spec.update){let o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kM(t,e,r){let n=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=n;)n=Xx(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(s,n);if(a instanceof ga){let l=n?n.previousSibling:t.lastChild;kM(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=Xx(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const Pu=function(t){t&&(this.nodeName=t)};Pu.prototype=Object.create(null);const Jo=[new Pu];function d0(t,e,r){if(t.length==0)return Jo;let n=r?Jo[0]:new Pu,i=[n];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(n=new Pu(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new Pu(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function TM(t,e,r,n){if(r==Jo&&n==Jo)return e;let i=e;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Jo[0]),i=l}IB(i,s||Jo[0],a)}return i}function IB(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&t.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function OM(t,e,r){return TM(t,t,Jo,d0(e,r,t.nodeType!=1))}function p0(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function Xx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class LB{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=BB(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=rn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=ga.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,r,n,i,o){let a=this.top.children[i];return a.dirty==Zn&&a.dom==a.contentDOM&&(a.dirty=Xo),a.update(e,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof fo){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,f,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Zn&&p0(r,l.outerDeco));if(!d&&l.update(e,r,n,i))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,r,n,i,a)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Xo,f.updateChildren(i,a+1),f.dirty=rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,o,a){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content))return null;let s=fo.create(this.top,r,n,i,o,a);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,r,n,i,o){let a=fo.create(this.top,e,r,n,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new EM(this.top,e,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof ga;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Ih)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xr||sr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new CM(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function BB(t,e){let r=e,n=r.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof ga)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function zB(t,e){return t.type.side-e.type.side}function FB(t,e,r,n){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,f;for(;a<i.length&&i[a].to==o;){let m=i[a++];m.widget&&(c?(f||(f=[c])).push(m):c=m)}if(c)if(f){f.sort(zB);for(let m=0;m<f.length;m++)r(f[m],u,!!l)}else r(c,u,!!l);let d,p;if(l)p=-1,d=l,l=null;else if(u<t.childCount)p=u,d=t.child(u++);else break;for(let m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let h=o+d.nodeSize;if(d.isText){let m=h;a<i.length&&i[a].from<m&&(m=i[a].from);for(let v=0;v<s.length;v++)s[v].to<m&&(m=s[v].to);m<h&&(l=d.cut(m-o),d=d.cut(0,m-o),h=m,p=-1)}let g=d.isInline&&!d.isLeaf?s.filter(m=>!m.inline):s.slice();n(d,g,e.forChild(o,d),p),o=h}}function jB(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function HB(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Fn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function UB(t,e,r,n){for(let i=0,o=0;i<t.childCount&&o<=n;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=r){if(o>=n&&l.slice(n-e.length-s,n-s)==e)return n-e.length;let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=r)return s+u;if(r==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function h0(t,e,r,n,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],u=s,c=s+=l.size;u>=r||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,n)),i&&(o.push(i),i=void 0),c>r&&o.push(l.slice(r-u,l.size,n)))}return o}function G1(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,u;if(Nh(r)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&Me.isSelectable(c)&&i.parent&&!(c.isInline&&dB(r.focusNode,r.focusOffset,i.dom))){let f=i.posBefore;u=new Me(a==f?s:n.resolve(f))}}else{let c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null;l=n.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;u=q1(t,l,s,c)}return u}function _M(t){return t.editable?t.hasFocus():AM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wi(t,e=!1){let r=t.state.selection;if(MM(t,r),!!_M(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&ha(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)VB(t);else{let{anchor:n,head:i}=r,o,a;Jx&&!(r instanceof Le)&&(r.$from.parent.inlineContent||(o=Qx(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=Qx(t,r.to))),t.docView.setSelection(n,i,t.root,e),Jx&&(o&&Zx(o),a&&Zx(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$B(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Jx=xr||sr&&gB<63;function Qx(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(xr&&i&&i.contentEditable=="false")return sm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return sm(i);if(o)return sm(o)}}function sm(t){return t.contentEditable="true",xr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Zx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $B(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!_M(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function VB(t){let e=t.domSelection(),r=document.createRange(),n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setEnd(n.parentNode,yr(n)+1):r.setEnd(n,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Ir&&co<=11&&(n.disabled=!0,n.disabled=!1)}function MM(t,e){if(e instanceof Me){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(eE(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else eE(t)}function eE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function q1(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||Le.between(e,r,n)}function tE(t){return t.editable&&!t.hasFocus()?!1:AM(t)}function AM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function WB(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return ha(e.node,e.offset,r.anchorNode,r.anchorOffset)}function g0(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ze.findFrom(o,e)}function Fi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rE(t,e,r){let n=t.state.selection;if(n instanceof Le)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Fi(t,new Le(n.$anchor,a))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=g0(t.state,e);return i&&i instanceof Me?Fi(t,i):!1}else if(!(Qr&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(s))&&!a.contentDOM?Me.isSelectable(o)?Fi(t,new Me(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Kc?Fi(t,new Le(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Me&&n.node.isInline)return Fi(t,new Le(e>0?n.$to:n.$from));{let i=g0(t.state,e);return i?Fi(t,i):!1}}}function up(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Nu(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function La(t,e){return e<0?GB(t):qB(t)}function GB(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,a=!1;for(Mn&&r.nodeType==1&&n<up(r)&&Nu(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Nu(s,-1))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(DM(r))break;{let s=r.previousSibling;for(;s&&Nu(s,-1);)i=r.parentNode,o=yr(s),s=s.previousSibling;if(s)r=s,n=up(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?m0(t,r,n):i&&m0(t,i,o)}function qB(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=up(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Nu(s,1))o=r,a=++n;else break}else{if(DM(r))break;{let s=r.nextSibling;for(;s&&Nu(s,1);)o=s.parentNode,a=yr(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=up(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}o&&m0(t,o,a)}function DM(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function KB(t,e){for(;t&&e==t.childNodes.length&&!V1(t);)e=yr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function YB(t,e){for(;t&&!e&&!V1(t);)e=yr(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function m0(t,e,r){if(e.nodeType!=3){let o,a;(a=KB(e,r))?(e=a,r=0):(o=YB(e,r))&&(e=o,r=o.nodeValue.length)}let n=t.domSelection();if(Nh(n)){let o=document.createRange();o.setEnd(e,r),o.setStart(e,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&wi(t)},50)}function nE(t,e){let r=t.state.doc.resolve(e);if(!(sr||mB)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<r.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function iE(t,e,r){let n=t.state.selection;if(n instanceof Le&&!n.empty||r.indexOf("s")>-1||Qr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=g0(t.state,e);if(a&&a instanceof Me)return Fi(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=n instanceof On?ze.near(a,e):ze.findFrom(a,e);return s?Fi(t,s):!1}return!1}function oE(t,e){if(!(t.state.selection instanceof Le))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),t.dispatch(a),!0}return!1}function aE(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function XB(t){if(!xr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;aE(t,n,"true"),setTimeout(()=>aE(t,n,"false"),20)}return!1}function JB(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function QB(t,e){let r=e.keyCode,n=JB(e);if(r==8||Qr&&r==72&&n=="c")return oE(t,-1)||La(t,-1);if(r==46&&!e.shiftKey||Qr&&r==68&&n=="c")return oE(t,1)||La(t,1);if(r==13||r==27)return!0;if(r==37||Qr&&r==66&&n=="c"){let i=r==37?nE(t,t.state.selection.from)=="ltr"?-1:1:-1;return rE(t,i,n)||La(t,i)}else if(r==39||Qr&&r==70&&n=="c"){let i=r==39?nE(t,t.state.selection.from)=="ltr"?1:-1:1;return rE(t,i,n)||La(t,i)}else{if(r==38||Qr&&r==80&&n=="c")return iE(t,-1,n)||La(t,-1);if(r==40||Qr&&r==78&&n=="c")return XB(t)||iE(t,1,n)||La(t,1);if(n==(Qr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function RM(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let a=t.someProp("clipboardSerializer")||$n.fromSchema(t.state.schema),s=zM(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=BM[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=s.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function PM(t,e,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!e)return null;let l=e&&(n||o||!r);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||n,t)}),o)return e?new ge(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ge.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,n,t));if(f)s=f;else{let d=i.marks(),{schema:p}=t.state,h=$n.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(h.serializeNode(p.text(g,d)))})}}else t.someProp("transformPastedHTML",f=>{r=f(r,t)}),a=t4(r),Kc&&r4(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||F1.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!ZB.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=n4(sE(s,+c[1],+c[2]),c[4]);else if(s=ge.maxOpen(e4(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let p=s.content.firstChild;f<s.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=s.content.lastChild;d<s.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);s=sE(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s,t)}),s}const ZB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function e4(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),o,a=[];if(t.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&IM(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=LM(a[a.length-1],o.length));let c=NM(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return ne.from(a)}return t}function NM(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,ne.from(t));return t}function IM(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=IM(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(ne.from(NM(r,t,i+1))))}}function LM(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,LM(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(r.append(n))}function v0(t,e,r,n,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return t.childCount>1&&(o=0),i<n-1&&(s=v0(s,e,r,n,i+1,o)),i>=r&&(s=e<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function sE(t,e,r){return e<t.openStart&&(t=new ge(v0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new ge(v0(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const BM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let lE=null;function zM(){return lE||(lE=document.implementation.createHTMLDocument("title"))}function t4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=zM().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&BM[n[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=t,i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function r4(t){let e=t.querySelectorAll(sr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function n4(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=ne.from(l.create(n[s+1],i)),o++,a++}return new ge(i,o,a)}const Er={},Cr={},i4={touchstart:!0,touchmove:!0};class o4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function a4(t){for(let e in Er){let r=Er[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{l4(t,n)&&!K1(t,n)&&(t.editable||!(n.type in Cr))&&r(t,n)},i4[e]?{passive:!0}:void 0)}xr&&t.dom.addEventListener("input",()=>null),y0(t)}function Ji(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function s4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function y0(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>K1(t,n))})}function K1(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function l4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function u4(t,e){!K1(t,e)&&Er[e.type]&&(t.editable||!(e.type in Cr))&&Er[e.type](t,e)}Cr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!jM(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(En&&sr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Us&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Bo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||QB(t,r)?r.preventDefault():Ji(t,"key")};Cr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Cr.keypress=(t,e)=>{let r=e;if(jM(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Qr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Le)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function Lh(t){return{left:t.clientX,top:t.clientY}}function c4(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Y1(t,e,r,n,i){if(n==-1)return!1;let o=t.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,s=>a>o.depth?s(t,r,o.nodeAfter,o.before(a),i,!0):s(t,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function Ms(t,e,r){t.focused||t.focus();let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function f4(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Me.isSelectable(n)?(Ms(t,new Me(r),"pointer"),!0):!1}function d4(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Me&&(n=r.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Me.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Ms(t,Me.create(t.state.doc,i),"pointer"),!0):!1}function p4(t,e,r,n,i){return Y1(t,"handleClickOn",e,r,n)||t.someProp("handleClick",o=>o(t,e,n))||(i?d4(t,r):f4(t,r))}function h4(t,e,r,n){return Y1(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function g4(t,e,r,n){return Y1(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||m4(t,r,n)}function m4(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ms(t,Le.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ms(t,Le.create(n,s+1,s+1+a.content.size),"pointer");else if(Me.isSelectable(a))Ms(t,Me.create(n,s),"pointer");else continue;return!0}}function X1(t){return cp(t)}const FM=Qr?"metaKey":"ctrlKey";Er.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=X1(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&c4(r,t.input.lastClick)&&!r[FM]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let a=t.posAtCoords(Lh(r));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new v4(t,a,r,!!n)):(o=="doubleClick"?h4:g4)(t,a.pos,a.inside,r)?r.preventDefault():Ji(t,"pointer"))};class v4{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[FM],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=e.state.doc.nodeAt(r.inside),a=r.inside;else{let c=e.state.doc.resolve(r.pos);o=c.parent,a=c.depth?c.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Me&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ji(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Lh(e))),this.updateAllowDefault(e),this.allowDefault||!r?Ji(this.view,"pointer"):p4(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xr&&this.mightDrag&&!this.mightDrag.node.isAtom||sr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ms(this.view,ze.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):Ji(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ji(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Er.touchstart=t=>{t.input.lastTouch=Date.now(),X1(t),Ji(t,"pointer")};Er.touchmove=t=>{t.input.lastTouch=Date.now(),Ji(t,"pointer")};Er.contextmenu=t=>X1(t);function jM(t,e){return t.composing?!0:xr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const y4=En?5e3:-1;Cr.compositionstart=Cr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),cp(t,!0),t.markCursor=null;else if(cp(t),Mn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){t.domSelection().collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}HM(t,y4)};Cr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,HM(t,20))};function HM(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>cp(t),e))}function UM(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=b4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function b4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function cp(t,e=!1){if(!(En&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),UM(t),e||t.docView&&t.docView.dirty){let r=G1(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}function w4(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const vc=Ir&&co<15||Us&&vB<604;Er.copy=Cr.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let o=vc?null:r.clipboardData,a=n.content(),{dom:s,text:l}=RM(t,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):w4(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function S4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function x4(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?yc(t,n.value,null,i,e):yc(t,n.textContent,n.innerHTML,i,e)},50)}function yc(t,e,r,n,i){let o=PM(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||ge.empty)))return!0;if(!o)return!1;let a=S4(o),s=a?t.state.tr.replaceSelectionWith(a,n):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $M(t){let e=t.getData("text/html")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Cr.paste=(t,e)=>{let r=e;if(t.composing&&!En)return;let n=vc?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&yc(t,$M(n),n.getData("text/html"),i,r)?r.preventDefault():x4(t,r)};class E4{constructor(e,r){this.slice=e,this.move=r}}const VM=Qr?"altKey":"ctrlKey";Er.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Lh(r));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Me?i.to-1:i.to))){if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Me.create(t.state.doc,n.mightDrag.pos)));else if(r.target&&r.target.nodeType==1){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Me.create(t.state.doc,u.posBefore)))}}let a=t.state.selection.content(),{dom:s,text:l}=RM(t,a);r.dataTransfer.clearData(),r.dataTransfer.setData(vc?"Text":"text/html",s.innerHTML),r.dataTransfer.effectAllowed="copyMove",vc||r.dataTransfer.setData("text/plain",l),t.dragging=new E4(a,!r[VM])};Er.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Cr.dragover=Cr.dragenter=(t,e)=>e.preventDefault();Cr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Lh(r));if(!i)return;let o=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",h=>{a=h(a,t)}):a=PM(t,$M(r.dataTransfer),vc?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&!r[VM]);if(t.someProp("handleDrop",h=>h(t,r,a||ge.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?lM(t.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=t.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&Me.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Me(p));else{let h=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,m,v,b)=>h=b),u.setSelection(q1(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Er.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wi(t)},20))};Er.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Er.beforeinput=(t,e)=>{if(sr&&En&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Bo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Cr)Er[t]=Cr[t];function bc(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class fp{constructor(e,r){this.toDOM=e,this.spec=r||oa,this.side=this.spec.side||0}map(e,r,n,i){let{pos:o,deleted:a}=e.mapResult(r.from+i,this.side<0?-1:1);return a?null:new br(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof fp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&bc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class po{constructor(e,r){this.attrs=e,this.spec=r||oa}map(e,r,n,i){let o=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new br(o,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof po&&bc(this.attrs,e.attrs)&&bc(this.spec,e.spec)}static is(e){return e.type instanceof po}destroy(){}}class J1{constructor(e,r){this.attrs=e,this.spec=r||oa}map(e,r,n,i){let o=e.mapResult(r.from+i,1);if(o.deleted)return null;let a=e.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new br(o.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),o;return i==r.from&&!(o=e.child(n)).isText&&i+o.nodeSize==r.to}eq(e){return this==e||e instanceof J1&&bc(this.attrs,e.attrs)&&bc(this.spec,e.spec)}destroy(){}}class br{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new br(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new br(e,e,new fp(r,n))}static inline(e,r,n,i){return new br(e,r,new po(n,i))}static node(e,r,n,i){return new br(e,r,new J1(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof po}get widget(){return this.type instanceof fp}}const Ga=[],oa={};class bt{constructor(e,r){this.local=e.length?e:Ga,this.children=r.length?r:Ga}static create(e,r){return r.length?dp(r,e,0,oa):or}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,r-s,n,i+s,o)}}map(e,r,n){return this==or||e.maps.length==0?this:this.mapInner(e,r,0,0,n||oa)}mapInner(e,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?C4(this.children,a||[],e,r,n,i,o):a?new bt(a.sort(aa),Ga):or}add(e,r){return r.length?this==or?bt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,o=0;e.forEach((s,l)=>{let u=l+n,c;if(c=GM(r,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,dp(c,s,u+1,oa)),o+=3}});let a=WM(o?qM(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new bt(a.length?this.local.concat(a).sort(aa):this.local,i||this.children)}remove(e){return e.length==0||this==or?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[o+2].removeInner(a,s+1);u!=or?n[o+2]=u:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new bt(i,n):or}forChild(e,r){if(this==or)return this;if(r.isLeaf)return bt.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof po){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new bt(i.sort(aa),Ga);return n?new Vi([s,n]):s}return n||or}eq(e){if(this==e)return!0;if(!(e instanceof bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Q1(this.localsInner(e))}localsInner(e){if(this==or)return Ga;if(e.inlineContent||!this.local.some(po.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof po||r.push(this.local[n]);return r}}bt.empty=new bt([],[]);bt.removeOverlap=Q1;const or=bt.empty;class Vi{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,oa));return Vi.from(n)}forChild(e,r){if(r.isLeaf)return bt.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,r);o!=or&&(o instanceof Vi?n=n.concat(o.members):n.push(o))}return Vi.from(n)}eq(e){if(!(e instanceof Vi)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?Q1(n?r:r.sort(aa)):Ga}static from(e){switch(e.length){case 0:return or;case 1:return e[0];default:return new Vi(e.every(r=>r instanceof bt)?e:e.reduce((r,n)=>r.concat(n instanceof bt?n:n.members),[]))}}}function C4(t,e,r,n,i,o,a){let s=t.slice();for(let u=0,c=o;u<r.maps.length;u++){let f=0;r.maps[u].forEach((d,p,h,g)=>{let m=g-h-(p-d);for(let v=0;v<s.length;v+=3){let b=s[v+1];if(b<0||d>b+c-f)continue;let w=s[v]+c-f;p>=w?s[v+1]=d<=w?-2:-1:h>=i&&m&&(s[v]+=m,s[v+1]+=m)}f+=m}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=r.map(t[u]+o),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(t[u+1]+o,-1),p=d-i,{index:h,offset:g}=n.content.findIndex(f),m=n.maybeChild(h);if(m&&g==f&&g+m.nodeSize==p){let v=s[u+2].mapInner(r,m,c+1,t[u]+o+1,a);v!=or?(s[u]=f,s[u+1]=p,s[u+2]=v):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=k4(s,t,e,r,i,o,a),c=dp(u,n,0,a);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<s.length&&s[d]<p;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new bt(e.sort(aa),s)}function WM(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new br(i.from+e,i.to+e,i.type))}return r}function k4(t,e,r,n,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?r.push(f):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+o+1);return r}function GM(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[o]=null);return i}function qM(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function dp(t,e,r,n){let i=[],o=!1;e.forEach((s,l)=>{let u=GM(t,s,l+r);if(u){o=!0;let c=dp(u,s,r+l+1,n);c!=or&&i.push(l,l+s.nodeSize,c)}});let a=WM(o?qM(t):t,-r).sort(aa);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new bt(a,i):or}function aa(t,e){return t.from-e.from||t.to-e.to}function Q1(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let o=e[i];if(o.from==n.from){o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),uE(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),uE(e,i,n.copy(o.from,n.to)));break}}}return e}function uE(t,e,r){for(;e<t.length&&aa(r,t[e])>0;)e++;t.splice(e,0,r)}function lm(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=or&&e.push(n)}),t.cursorWrapper&&e.push(bt.create(t.state.doc,[t.cursorWrapper.deco])),Vi.from(e)}const T4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},O4=Ir&&co<=11;class _4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class M4{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ir&&co<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),O4&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,T4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(tE(this.view)){if(this.suppressingSelectionUpdates)return wi(this.view);if(Ir&&co<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ha(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let o=e.focusNode;o;o=mc(o))r.add(o);for(let o=e.anchorNode;o;o=mc(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&tE(e)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let c=0;c<r.length;c++){let f=this.registerMutation(r[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(Mn&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Nh(n)&&(u=G1(e))&&u.eq(ze.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wi(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),A4(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||wi(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)r.push(e.addedNodes[c]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ir&&co<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==e.target?yr(i)+1:0,s=n.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?yr(o):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let cE=new WeakMap,fE=!1;function A4(t){if(!cE.has(t)&&(cE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mn,fE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),fE=!0}}function D4(t){let e;function r(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0);let n=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ha(s.node,s.offset,o,a)&&([n,i,o,a]=[o,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:a}}function R4(t,e,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Nh(l)||u.push({node:l.focusNode,offset:l.focusOffset})),sr&&t.input.lastKeyCode===8)for(let m=o;m>i;m--){let v=n.childNodes[m-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let f=t.state.doc,d=t.someProp("domParser")||F1.fromSchema(t.state.schema),p=f.resolve(a),h=null,g=d.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:P4,context:p});if(u&&u[0].pos!=null){let m=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=m),h={anchor:m+a,head:v+a}}return{doc:g,sel:h,from:a,to:s}}function P4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||xr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const N4=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function I4(t,e,r,n,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let k=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=G1(t,k);if(T&&!t.state.selection.eq(T)){if(sr&&En&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",O=>O(t,Bo(13,"Enter"))))return;let A=t.state.tr.setSelection(T);k=="pointer"?A.setMeta("pointer",!0):k=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),t.dispatch(A)}return}let a=t.state.doc.resolve(e),s=a.sharedDepth(r);e=a.before(s+1),r=t.state.doc.resolve(r).after(s+1);let l=t.state.selection,u=R4(t,e,r),c=t.state.doc,f=c.slice(u.from,u.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=z4(f.content,u.doc.content,u.from,d,p);if((Us&&t.input.lastIOSEnter>Date.now()-225||En)&&i.some(k=>k.nodeType==1&&!N4.test(k.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",k=>k(t,Bo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(n&&l instanceof Le&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let k=dE(t,t.state.doc,u.sel);if(k&&!k.eq(t.state.selection)){let T=t.state.tr.setSelection(k);o&&T.setMeta("composition",o),t.dispatch(T)}}return}if(sr&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let k=h.endB-h.start;u.sel={anchor:u.sel.anchor+k,head:u.sel.anchor+k}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof Le&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Ir&&co<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let g=u.doc.resolveNoCache(h.start-u.from),m=u.doc.resolveNoCache(h.endB-u.from),v=c.resolve(h.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=h.endA,w;if((Us&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!b&&g.pos<u.doc.content.size&&!g.sameParent(m)&&(w=ze.findFrom(u.doc.resolve(g.pos+1),1,!0))&&w.head==m.pos)&&t.someProp("handleKeyDown",k=>k(t,Bo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&B4(c,h.start,h.endA,g,m)&&t.someProp("handleKeyDown",k=>k(t,Bo(8,"Backspace")))){En&&sr&&t.domObserver.suppressSelectionUpdates();return}sr&&En&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),En&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,m=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(k){return k(t,Bo(13,"Enter"))})},20));let y=h.start,x=h.endA,S,C,E;if(b){if(g.pos==m.pos)Ir&&co<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wi(t),20)),S=t.state.tr.delete(y,x),C=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(E=L4(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,h.endA-v.start()))))S=t.state.tr,E.type=="add"?S.addMark(y,x,E.mark):S.removeMark(y,x,E.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let k=g.parent.textBetween(g.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",T=>T(t,y,x,k)))return;S=t.state.tr.insertText(k,y,x)}}if(S||(S=t.state.tr.replace(y,x,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let k=dE(t,S.doc,u.sel);k&&!(sr&&En&&t.composing&&k.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(k.head==y||k.head==S.mapping.map(x)-1)||Ir&&k.empty&&k.head==y)&&S.setSelection(k)}C&&S.ensureMarks(C),o&&S.setMeta("composition",o),t.dispatch(S.scrollIntoView())}function dE(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:q1(t,e.resolve(r.anchor),e.resolve(r.head))}function L4(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,o=n,a,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(ne.from(u).eq(t))return{mark:s,type:a}}function B4(t,e,r,n,i){if(!n.parent.isTextblock||r-e<=i.pos-n.pos||um(n,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(um(o,!0,!0));return!a.parent.isTextblock||a.pos>r||um(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function um(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let o=t.node(n).maybeChild(t.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function z4(t,e,r,n,i){let o=t.findDiffStart(e,r);if(o==null)return null;let{a,b:s}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&t.size<e.size){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}class F4{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new o4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(vE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gE(this),hE(this),this.nodeViews=mE(this),this.docView=Yx(this.state.doc,pE(this),lm(this),this.dom,this),this.domObserver=new M4(this,(n,i,o,a)=>I4(this,n,i,o,a)),this.domObserver.start(),a4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&y0(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vE),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){let n=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(UM(this),o=!0),this.state=e;let a=n.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let d=mE(this);H4(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&y0(this),this.editable=gE(this),hE(this);let s=lm(this),l=pE(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(n.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&wB(this);if(o){this.domObserver.stop();let d=c&&(Ir||sr)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&j4(n.selection,e.selection);if(c){let p=sr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Yx(e.doc,l,s,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WB(this))?wi(this,d):(MM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&SB(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Me){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&$x(this,r.getBoundingClientRect(),e)}else $x(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xB(this.dom),wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return OB(this,e)}coordsAtPos(e,r=1){return SM(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return RB(this,r||this.state,e)}pasteHTML(e,r){return yc(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return yc(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(s4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],lm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return u4(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return xr&&this.root.nodeType===11&&pB(this.dom.ownerDocument)==this.dom?D4(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function pE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[br.node(0,t.state.doc.content.size,e)]}function hE(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:br.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function j4(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function mE(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function H4(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function vE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var So={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},U4=typeof navigator<"u"&&/Mac/.test(navigator.platform),$4=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tr=0;tr<10;tr++)So[48+tr]=So[96+tr]=String(tr);for(var tr=1;tr<=24;tr++)So[tr+111]="F"+tr;for(var tr=65;tr<=90;tr++)So[tr]=String.fromCharCode(tr+32),pp[tr]=String.fromCharCode(tr);for(var cm in So)pp.hasOwnProperty(cm)||(pp[cm]=So[cm]);function V4(t){var e=U4&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$4&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?pp:So)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const W4=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function G4(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))W4?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function q4(t){let e=Object.create(null);for(let r in t)e[G4(r)]=t[r];return e}function fm(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function K4(t){return new Bt({props:{handleKeyDown:KM(t)}})}function KM(t){let e=q4(t);return function(r,n){let i=V4(n),o,a=e[fm(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=e[fm(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=So[n.keyCode])&&o!=i){let s=e[fm(o,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}const Y4=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function X4(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const J4=(t,e,r)=>{let n=X4(t,r);if(!n)return!1;let i=YM(n);if(!i){let a=n.blockRange(),s=a&&bl(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&QM(t,i,e))return!0;if(n.parent.content.size==0&&($s(o,"end")||Me.isSelectable(o))){let a=U1(t.doc,n.before(),n.after(),ge.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection($s(o,"end")?ze.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):Me.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function $s(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const Q4=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=YM(n)}let a=o&&o.nodeBefore;return!a||!Me.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function YM(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Z4(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const ez=(t,e,r)=>{let n=Z4(t,r);if(!n)return!1;let i=XM(n);if(!i)return!1;let o=i.nodeAfter;if(QM(t,i,e))return!0;if(n.parent.content.size==0&&($s(o,"start")||Me.isSelectable(o))){let a=U1(t.doc,n.before(),n.after(),ge.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection($s(o,"start")?ze.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Me.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},tz=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=XM(n)}let a=o&&o.nodeAfter;return!a||!Me.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,o.pos)).scrollIntoView()),!0)};function XM(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const rz=(t,e)=>{let r=t.selection,n=r instanceof Me,i;if(n){if(r.node.isTextblock||!_o(t.doc,r.from))return!1;i=r.from}else if(i=Rh(t.doc,r.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);n&&o.setSelection(Me.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},nz=(t,e)=>{let r=t.selection,n;if(r instanceof Me){if(r.node.isTextblock||!_o(t.doc,r.to))return!1;n=r.to}else if(n=Rh(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},iz=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),o=i&&bl(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},oz=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function JM(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const az=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=JM(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,a.createAndFill());l.setSelection(ze.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},sz=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof On||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=JM(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(a,o.createAndFill());s.setSelection(Le.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},lz=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(Os(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&bl(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},uz=(t,e)=>{let{$from:r,to:n}=t.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),e&&e(t.tr.setSelection(Me.create(t.doc,i))),!0)};function cz(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||_o(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function QM(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o,a;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(cz(t,e,r))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){let f=e.pos+i.nodeSize,d=ne.empty;for(let g=o.length-1;g>=0;g--)d=ne.from(o[g].create(null,d));d=ne.from(n.copy(d));let p=t.tr.step(new Vt(e.pos-1,f,e.pos,f,new ge(d,1,0),o.length,!0)),h=f+2*o.length;_o(p.doc,h)&&p.join(h),r(p.scrollIntoView())}return!0}let l=ze.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&bl(u);if(c!=null&&c>=e.depth)return r&&r(t.tr.lift(u,c).scrollIntoView()),!0;if(s&&$s(i,"start",!0)&&$s(n,"end")){let f=n,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(r){let g=ne.empty;for(let v=d.length-1;v>=0;v--)g=ne.from(d[v].copy(g));let m=t.tr.step(new Vt(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new ge(g,d.length,0),0,!0));r(m.scrollIntoView())}return!0}}return!1}function ZM(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(e.tr.setSelection(Le.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const fz=ZM(-1),dz=ZM(1);function pz(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&H1(a,t,e);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function yE(t,e=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=r.selection.ranges[o];r.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=r.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(n){let o=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[a];o.setBlockType(s,l,t,e)}n(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hz(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=!1,l=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;let c=r.doc.resolve(a.start-2);l=new op(c,c,a.depth),a.endIndex<a.parent.childCount&&(a=new op(i,r.doc.resolve(o.end(a.depth)),a.depth)),s=!0}let u=H1(l,t,e,a);return u?(n&&n(gz(r.tr,a,u,s,t).scrollIntoView()),!0):!1}}function gz(t,e,r,n,i){let o=ne.empty;for(let c=r.length-1;c>=0;c--)o=ne.from(r[c].type.create(r[c].attrs,o));t.step(new Vt(e.start-(n?2:0),e.end,e.start,e.end,new ge(o,0,0),r.length,!0));let a=0;for(let c=0;c<r.length;c++)r[c].type==i&&(a=c+1);let s=r.length-a,l=e.start+r.length-(n?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&Os(t.doc,l,s)&&(t.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return t}function mz(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return o?r?n.node(o.depth-1).type==t?vz(e,r,t,o):yz(e,r,o):!0:!1}}function vz(t,e,r,n){let i=t.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new Vt(o-1,a,o,a,new ge(ne.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new op(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));const s=bl(n);if(s==null)return!1;i.lift(n,s);let l=i.mapping.map(o,-1)-1;return _o(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function yz(t,e,r){let n=t.tr,i=r.parent;for(let p=r.end,h=r.endIndex-1,g=r.startIndex;h>g;h--)p-=i.child(h).nodeSize,n.delete(p-1,p+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?ne.empty:ne.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return n.step(new Vt(f-(s?1:0),d+(l?1:0),f+1,d-1,new ge((s?ne.empty:ne.from(i.copy(ne.empty))).append(l?ne.empty:ne.from(i.copy(ne.empty))),s?0:1,l?0:1),s?0:1)),e(n.scrollIntoView()),!0}function bz(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==s.type,c=ne.from(u?t.create():null),f=new ge(ne.from(t.create(null,ne.from(s.type.create(null,c)))),u?3:1,0),d=o.start,p=o.end;r(e.tr.step(new Vt(d-(u?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function Bh(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}class zh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:o}=n,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([s,l])=>[s,(...c)=>{const f=l(...c)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i,s=[],l=!!e,u=e||o.tr,c=()=>(!l&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),s.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...g)=>{const m=this.buildProps(u,r),v=p(...g)(m);return s.push(v),f}])),run:c};return f}createCan(e){const{rawCommands:r,state:n}=this,i=!1,o=e||n.tr,a=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)({...a,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,r=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i,s={tr:e,editor:i,view:a,state:Bh({state:o,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(s)]))}};return s}}let wz=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function xe(t,e,r){return t.config[e]===void 0&&t.parent?xe(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?xe(t.parent,e,r):null}):t.config[e]}function Fh(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function eA(t){const e=[],{nodeExtensions:r,markExtensions:n}=Fh(t),i=[...r,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=xe(a,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:{...o,...p}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=xe(a,"addAttributes",s);if(!l)return;const u=l();Object.entries(u).forEach(([c,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:a.name,name:c,attribute:d})})}),e}function qt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function dt(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}if(i==="class"){const s=o?o.split(" "):[],l=n[i]?n[i].split(" "):[],u=s.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else i==="style"?n[i]=[n[i],o].join("; "):n[i]=o}),n},{})}function b0(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>dt(r,n),{})}function tA(t){return typeof t=="function"}function Be(t,e=void 0,...r){return tA(t)?e?t.bind(e)(...r):t(...r):t}function Sz(t={}){return Object.keys(t).length===0&&t.constructor===Object}function xz(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function bE(t,e){return t.style?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(r):xz(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function wE(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Sz(r)?!1:r!=null))}function Ez(t,e){var r;const n=eA(t),{nodeExtensions:i,markExtensions:o}=Fh(t),a=(r=i.find(u=>xe(u,"topNode")))===null||r===void 0?void 0:r.name,s=Object.fromEntries(i.map(u=>{const c=n.filter(v=>v.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((v,b)=>{const w=xe(b,"extendNodeSchema",f);return{...v,...w?w(u):{}}},{}),p=wE({...d,content:Be(xe(u,"content",f)),marks:Be(xe(u,"marks",f)),group:Be(xe(u,"group",f)),inline:Be(xe(u,"inline",f)),atom:Be(xe(u,"atom",f)),selectable:Be(xe(u,"selectable",f)),draggable:Be(xe(u,"draggable",f)),code:Be(xe(u,"code",f)),defining:Be(xe(u,"defining",f)),isolating:Be(xe(u,"isolating",f)),attrs:Object.fromEntries(c.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),h=Be(xe(u,"parseHTML",f));h&&(p.parseDOM=h.map(v=>bE(v,c)));const g=xe(u,"renderHTML",f);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:b0(v,c)}));const m=xe(u,"renderText",f);return m&&(p.toText=m),[u.name,p]})),l=Object.fromEntries(o.map(u=>{const c=n.filter(m=>m.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((m,v)=>{const b=xe(v,"extendMarkSchema",f);return{...m,...b?b(u):{}}},{}),p=wE({...d,inclusive:Be(xe(u,"inclusive",f)),excludes:Be(xe(u,"excludes",f)),group:Be(xe(u,"group",f)),spanning:Be(xe(u,"spanning",f)),code:Be(xe(u,"code",f)),attrs:Object.fromEntries(c.map(m=>{var v;return[m.name,{default:(v=m==null?void 0:m.attribute)===null||v===void 0?void 0:v.default}]}))}),h=Be(xe(u,"parseHTML",f));h&&(p.parseDOM=h.map(m=>bE(m,c)));const g=xe(u,"renderHTML",f);return g&&(p.toDOM=m=>g({mark:m,HTMLAttributes:b0(m,c)})),[u.name,p]}));return new R3({topNode:a,nodes:s,marks:l})}function dm(t,e){return e.nodes[t]||e.marks[t]||null}function SE(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const Cz=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,o,a,s)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";r+=c.slice(0,Math.max(0,n-o))}),r};function Z1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class jh{constructor(e){this.find=e.find,this.handler=e.handler}}const kz=(t,e)=>{if(Z1(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function pm(t){var e;const{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=t,{view:l}=r;if(l.composing)return!1;const u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=Cz(u)+o;return a.forEach(d=>{if(c)return;const p=kz(f,d.find);if(!p)return;const h=l.state.tr,g=Bh({state:l.state,transaction:h}),m={from:n-(p[0].length-o.length),to:i},{commands:v,chain:b,can:w}=new zh({editor:r,state:g});d.handler({state:g,range:m,match:p,commands:v,chain:b,can:w})===null||!h.steps.length||(h.setMeta(s,{transform:h,from:n,to:i,text:o}),l.dispatch(h),c=!0)}),c}function Tz(t){const{editor:e,rules:r}=t,n=new Bt({state:{init(){return null},apply(i,o){const a=i.getMeta(n);return a||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,a,s){return pm({editor:e,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&pm({editor:e,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?pm({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Oz(t){return typeof t=="number"}class _z{constructor(e){this.find=e.find,this.handler=e.handler}}const Mz=(t,e)=>{if(Z1(e))return[...t.matchAll(e)];const r=e(t);return r?r.map(n=>{const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(n.replaceWith)),i}):[]};function Az(t){const{editor:e,state:r,from:n,to:i,rule:o,pasteEvent:a,dropEvent:s}=t,{commands:l,chain:u,can:c}=new zh({editor:e,state:r}),f=[];return r.doc.nodesBetween(n,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(n,h),m=Math.min(i,h+p.content.size),v=p.textBetween(g-h,m-h,void 0,"￼");Mz(v,o.find).forEach(w=>{if(w.index===void 0)return;const y=g+w.index+1,x=y+w[0].length,S={from:r.tr.mapping.map(y),to:r.tr.mapping.map(x)},C=o.handler({state:r,range:S,match:w,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:s});f.push(C)})}),f.every(p=>p!==null)}function Dz(t){const{editor:e,rules:r}=t;let n=null,i=!1,o=!1,a=new ClipboardEvent("paste"),s=new DragEvent("drop");return r.map(u=>new Bt({view(c){const f=d=>{var p;n=!((p=c.dom.parentElement)===null||p===void 0)&&p.contains(d.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(c,f)=>(o=n===c.dom.parentElement,s=f,!1),paste:(c,f)=>{var d;const p=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return a=f,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(c,f,d)=>{const p=c[0],h=p.getMeta("uiEvent")==="paste"&&!i,g=p.getMeta("uiEvent")==="drop"&&!o;if(!h&&!g)return;const m=f.doc.content.findDiffStart(d.doc.content),v=f.doc.content.findDiffEnd(d.doc.content);if(!Oz(m)||!v||m===v.b)return;const b=d.tr,w=Bh({state:d,transaction:b});if(!(!Az({editor:e,state:w,from:Math.max(m-1,0),to:v.b-1,rule:u,pasteEvent:a,dropEvent:s})||!b.steps.length))return s=new DragEvent("drop"),a=new ClipboardEvent("paste"),b}}))}function Rz(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return[...new Set(e)]}class as{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=as.resolve(e),this.schema=Ez(this.extensions,r),this.extensions.forEach(n=>{var i;this.editor.extensionStorage[n.name]=n.storage;const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:dm(n.name,this.schema)};n.type==="mark"&&(!((i=Be(xe(n,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(n.name);const a=xe(n,"onBeforeCreate",o);a&&this.editor.on("beforeCreate",a);const s=xe(n,"onCreate",o);s&&this.editor.on("create",s);const l=xe(n,"onUpdate",o);l&&this.editor.on("update",l);const u=xe(n,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=xe(n,"onTransaction",o);c&&this.editor.on("transaction",c);const f=xe(n,"onFocus",o);f&&this.editor.on("focus",f);const d=xe(n,"onBlur",o);d&&this.editor.on("blur",d);const p=xe(n,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){const r=as.sort(as.flatten(e)),n=Rz(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=xe(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{const o=xe(n,"priority")||100,a=xe(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:dm(r.name,this.schema)},i=xe(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,r=as.sort([...this.extensions].reverse()),n=[],i=[],o=r.map(a=>{const s={name:a.name,options:a.options,storage:a.storage,editor:e,type:dm(a.name,this.schema)},l=[],u=xe(a,"addKeyboardShortcuts",s);let c={};if(a.type==="mark"&&a.config.exitable&&(c.ArrowRight=()=>un.handleExit({editor:e,mark:a})),u){const g=Object.fromEntries(Object.entries(u()).map(([m,v])=>[m,()=>v({editor:e})]));c={...c,...g}}const f=K4(c);l.push(f);const d=xe(a,"addInputRules",s);SE(a,e.options.enableInputRules)&&d&&n.push(...d());const p=xe(a,"addPasteRules",s);SE(a,e.options.enablePasteRules)&&p&&i.push(...p());const h=xe(a,"addProseMirrorPlugins",s);if(h){const g=h();l.push(...g)}return l}).flat();return[Tz({editor:e,rules:n}),...Dz({editor:e,rules:i}),...o]}get attributes(){return eA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=Fh(this.extensions);return Object.fromEntries(r.filter(n=>!!xe(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:e,type:qt(n.name,this.schema)},a=xe(n,"addNodeView",o);if(!a)return[];const s=(l,u,c,f)=>{const d=b0(l,i);return a()({editor:e,node:l,getPos:c,decorations:f,HTMLAttributes:d,extension:n})};return[n.name,s]}))}}function Pz(t){return Object.prototype.toString.call(t).slice(8,-1)}function hm(t){return Pz(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Hh(t,e){const r={...t};return hm(t)&&hm(e)&&Object.keys(e).forEach(n=>{hm(e[n])?n in t?r[n]=Hh(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}class fr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(xe(this,"addOptions",{name:this.name}))),this.storage=Be(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fr(e)}configure(e={}){const r=this.extend();return r.options=Hh(this.options,e),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new fr(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(xe(r,"addOptions",{name:r.name})),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}}function rA(t,e,r){const{from:n,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=r||{};let s="",l=!0;return t.nodesBetween(n,i,(u,c,f,d)=>{var p;const h=a==null?void 0:a[u.type.name];h?(u.isBlock&&!l&&(s+=o,l=!0),f&&(s+=h({node:u,pos:c,parent:f,index:d,range:e}))):u.isText?(s+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(n,c)-c,i-c),l=!1):u.isBlock&&!l&&(s+=o,l=!0)}),s}function nA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const Nz=fr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Bt({key:new Or("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(c=>c.$from.pos)),s=Math.max(...o.map(c=>c.$to.pos)),l=nA(r);return rA(n,{from:a,to:s},{textSerializers:l})}}})]}}),Iz=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),Lz=(t=!1)=>({commands:e})=>e.setContent("",t),Bz=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+s.nodeSize)),p=f.blockRange(d);if(!p)return;const h=bl(p);if(s.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,g)}(h||h===0)&&e.lift(p,h)})}),!0},zz=t=>e=>t(e),Fz=()=>({state:t,dispatch:e})=>sz(t,e),jz=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,o=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const a=n.mapping.map(e);return n.insert(a,o.content),n.setSelection(new Le(n.doc.resolve(a-1))),!0},Hz=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===n.type){if(e){const s=i.before(o),l=i.after(o);t.delete(s,l).scrollIntoView()}return!0}return!1},Uz=t=>({tr:e,state:r,dispatch:n})=>{const i=qt(t,r.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const l=o.before(a),u=o.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},$z=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},Vz=()=>({state:t,dispatch:e})=>Y4(t,e),Wz=()=>({commands:t})=>t.keyboardShortcut("Enter"),Gz=()=>({state:t,dispatch:e})=>az(t,e);function hp(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Z1(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function w0(t,e,r={}){return t.find(n=>n.type===e&&hp(n.attrs,r))}function qz(t,e,r={}){return!!w0(t,e,r)}function eb(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;const i=w0([...n.node.marks],e,r);if(!i)return;let o=n.index,a=t.start()+n.offset,s=o+1,l=a+n.node.nodeSize;for(w0([...n.node.marks],e,r);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,a-=t.parent.child(o).nodeSize;for(;s<t.parent.childCount&&qz([...t.parent.child(s).marks],e,r);)l+=t.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function Ao(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Kz=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const o=Ao(t,n.schema),{doc:a,selection:s}=r,{$from:l,from:u,to:c}=s;if(i){const f=eb(l,o,e);if(f&&f.from<=u&&f.to>=c){const d=Le.create(a,f.from,f.to);r.setSelection(d)}}return!0},Yz=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function tb(t){return t instanceof Le}function yi(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function iA(t,e=null){if(!e)return null;const r=ze.atStart(t),n=ze.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,o=n.to;return e==="all"?Le.create(t,yi(0,i,o),yi(t.content.size,i,o)):Le.create(t,yi(e,i,o),yi(e,i,o))}function rb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Xz=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{rb()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!tb(r.state.selection))return a(),!0;const s=iA(i.doc,t)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},Jz=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),Qz=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e);function xE(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function gp(t,e,r){if(r={slice:!0,parseOptions:{},...r},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?ne.fromArray(t.map(n=>e.nodeFromJSON(n))):e.nodeFromJSON(t)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",n),gp("",e,r)}if(typeof t=="string"){const n=F1.fromSchema(e);return r.slice?n.parseSlice(xE(t),r.parseOptions).content:n.parse(xE(t),r.parseOptions)}return gp("",e,r)}function Zz(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof er||i instanceof Vt))return;const o=t.mapping.maps[n];let a=0;o.forEach((s,l,u,c)=>{a===0&&(a=c)}),t.setSelection(ze.near(t.doc.resolve(a),r))}const eF=t=>t.toString().startsWith("<"),tF=(t,e,r)=>({tr:n,dispatch:i,editor:o})=>{if(i){r={parseOptions:{},updateSelection:!0,...r};const a=gp(e,o.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions}});if(a.toString()==="<>")return!0;let{from:s,to:l}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,c=!0;if((eF(a)?a:[a]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),s===l&&c){const{parent:d}=n.doc.resolve(s);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(s-=1,l+=1)}u?Array.isArray(e)?n.insertText(e.map(d=>d.text||"").join(""),s,l):typeof e=="object"&&e&&e.text?n.insertText(e.text,s,l):n.insertText(e,s,l):n.replaceWith(s,l,a),r.updateSelection&&Zz(n,n.steps.length-1,-1)}return!0},rF=()=>({state:t,dispatch:e})=>rz(t,e),nF=()=>({state:t,dispatch:e})=>nz(t,e),iF=()=>({state:t,dispatch:e})=>J4(t,e),oF=()=>({state:t,dispatch:e})=>ez(t,e),aF=()=>({tr:t,state:e,dispatch:r})=>{try{const n=Rh(e.doc,e.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),r&&r(t),!0)}catch{return!1}},sF=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Rh(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}};function nb(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function lF(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<e.length-1;s+=1){const l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))rb()||nb()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}const uF=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const o=lF(t).split(/-(?!$)/),a=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,s))});return l==null||l.steps.forEach(u=>{const c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function wc(t,e,r={}){const{from:n,to:i,empty:o}=t.selection,a=e?qt(e,t.schema):null,s=[];t.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;const p=Math.max(n,d),h=Math.min(i,d+f.nodeSize);s.push({node:f,from:p,to:h})});const l=i-n,u=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>hp(f.node.attrs,r,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}const cF=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return wc(r,i,e)?iz(r,n):!1},fF=()=>({state:t,dispatch:e})=>lz(t,e),dF=t=>({state:e,dispatch:r})=>{const n=qt(t,e.schema);return mz(n)(e,r)},pF=()=>({state:t,dispatch:e})=>oz(t,e);function Uh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function EE(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}const hF=(t,e)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Uh(typeof t=="string"?t:t.name,n.schema);return s?(s==="node"&&(o=qt(t,n.schema)),s==="mark"&&(a=Ao(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&r.setNodeMarkup(c,void 0,EE(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&r.addMark(c,c+u.nodeSize,a.create(EE(f.attrs,e)))})})}),!0):!1},gF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),mF=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),vF=()=>({state:t,dispatch:e})=>Q4(t,e),yF=()=>({state:t,dispatch:e})=>tz(t,e),bF=()=>({state:t,dispatch:e})=>uz(t,e),wF=()=>({state:t,dispatch:e})=>dz(t,e),SF=()=>({state:t,dispatch:e})=>fz(t,e);function oA(t,e,r={}){return gp(t,e,{slice:!1,parseOptions:r})}const xF=(t,e=!1,r={})=>({tr:n,editor:i,dispatch:o})=>{const{doc:a}=n,s=oA(t,i.schema,r);return o&&n.replaceWith(0,a.content.size,s).setMeta("preventUpdate",!e),!0};function Xc(t,e){const r=Ao(e,t.schema),{from:n,to:i,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function EF(t,e){const r=new pM(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function CF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function kF(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(i,o)=>{r(i)&&n.push({node:i,pos:o})}),n}function TF(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function ib(t){return e=>TF(e.$from,t)}function OF(t,e){const r=$n.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function _F(t,e){const r={from:0,to:t.content.size};return rA(t,r,e)}function MF(t,e){const r=qt(e,t.schema),{from:n,to:i}=t.selection,o=[];t.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function aA(t,e){const r=Uh(typeof e=="string"?e:e.name,t.schema);return r==="node"?MF(t,e):r==="mark"?Xc(t,e):{}}function AF(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function DF(t){const e=AF(t);return e.length===1?e:e.filter((r,n)=>!e.filter((o,a)=>a!==n).some(o=>r.oldRange.from>=o.oldRange.from&&r.oldRange.to<=o.oldRange.to&&r.newRange.from>=o.newRange.from&&r.newRange.to<=o.newRange.to))}function RF(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=r[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const u=e.slice(o).map(s,-1),c=e.slice(o).map(l),f=e.invert().map(u,-1),d=e.invert().map(c);n.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),DF(n)}function ob(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const o=r.resolve(t-1),a=eb(o,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(t,e,(i,o)=>{n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}function bd(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(o=>o.type===e&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}function S0(t,e,r={}){const{empty:n,ranges:i}=t.selection,o=e?Ao(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>hp(f.attrs,r,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:f,$to:d})=>{const p=f.pos,h=d.pos;t.doc.nodesBetween(p,h,(g,m)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,m),b=Math.min(h,m+g.nodeSize),w=b-v;a+=w,s.push(...g.marks.map(y=>({mark:y,from:v,to:b})))})}),a===0)return!1;const l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>hp(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=a}function PF(t,e,r={}){if(!e)return wc(t,null,r)||S0(t,null,r);const n=Uh(e,t.schema);return n==="node"?wc(t,e,r):n==="mark"?S0(t,e,r):!1}function CE(t,e){const{nodeExtensions:r}=Fh(e),n=r.find(a=>a.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=Be(xe(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function NF(t){var e;const r=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),n=t.toJSON();return JSON.stringify(r)===JSON.stringify(n)}function sA(t){return t instanceof Me}function IF(t,e,r){const i=t.state.doc.content.size,o=yi(e,0,i),a=yi(r,0,i),s=t.coordsAtPos(o),l=t.coordsAtPos(a,-1),u=Math.min(s.top,l.top),c=Math.max(s.bottom,l.bottom),f=Math.min(s.left,l.left),d=Math.max(s.right,l.right),p=d-f,h=c-u,v={top:u,bottom:c,left:f,right:d,width:p,height:h,x:f,y:u};return{...v,toJSON:()=>v}}function LF(t,e,r){var n;const{selection:i}=e;let o=null;if(tb(i)&&(o=i.$cursor),o){const s=(n=t.storedMarks)!==null&&n!==void 0?n:o.marks();return!!r.isInSet(s)||!s.some(l=>l.type.excludes(r))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let u=s.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(s.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const p=!d||d.type.allowsMarkType(r),h=!!r.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(r));u=p&&h}return!u}),u})}const BF=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:o}=r,{empty:a,ranges:s}=o,l=Ao(t,n.schema);if(i)if(a){const u=Xc(n,l);r.addStoredMark(l.create({...u,...e}))}else s.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(c,f,(d,p)=>{const h=Math.max(p,c),g=Math.min(p+d.nodeSize,f);d.marks.find(v=>v.type===l)?d.marks.forEach(v=>{l===v.type&&r.addMark(h,g,l.create({...v.attrs,...e}))}):r.addMark(h,g,l.create(e))})});return LF(n,r,l)},zF=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),FF=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const o=qt(t,r.schema);return o.isTextblock?i().command(({commands:a})=>yE(o,e)(r)?!0:a.clearNodes()).command(({state:a})=>yE(o,e)(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},jF=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=yi(t,0,n.content.size),o=Me.create(n,i);e.setSelection(o)}return!0},HF=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,a=Le.atStart(n).from,s=Le.atEnd(n).to,l=yi(i,a,s),u=yi(o,a,s),c=Le.create(n,l,u);e.setSelection(c)}return!0},UF=t=>({state:e,dispatch:r})=>{const n=qt(t,e.schema);return bz(n)(e,r)};function kE(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}const $F=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:o,doc:a}=e,{$from:s,$to:l}=o,u=i.extensionManager.attributes,c=bd(u,s.node().type.name,s.node().attrs);if(o instanceof Me&&o.node.isBlock)return!s.parentOffset||!Os(a,s.pos)?!1:(n&&(t&&kE(r,i.extensionManager.splittableMarks),e.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(n){const f=l.parentOffset===l.parent.content.size;o instanceof Le&&e.deleteSelection();const d=s.depth===0?void 0:CF(s.node(-1).contentMatchAt(s.indexAfter(-1)));let p=f&&d?[{type:d,attrs:c}]:void 0,h=Os(e.doc,e.mapping.map(s.pos),1,p);if(!p&&!h&&Os(e.doc,e.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(h=!0,p=d?[{type:d,attrs:c}]:void 0),h&&(e.split(e.mapping.map(s.pos),1,p),d&&!f&&!s.parentOffset&&s.parent.type!==d)){const g=e.mapping.map(s.before()),m=e.doc.resolve(g);s.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&e.setNodeMarkup(e.mapping.map(s.before()),d)}t&&kE(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},VF=t=>({tr:e,state:r,dispatch:n,editor:i})=>{var o;const a=qt(t,r.schema),{$from:s,$to:l}=r.selection,u=r.selection.node;if(u&&u.isBlock||s.depth<2||!s.sameParent(l))return!1;const c=s.node(-1);if(c.type!==a)return!1;const f=i.extensionManager.attributes;if(s.parent.content.size===0&&s.node(-1).childCount===s.indexAfter(-1)){if(s.depth===2||s.node(-3).type!==a||s.index(-2)!==s.node(-2).childCount-1)return!1;if(n){let m=ne.empty;const v=s.index(-1)?1:s.index(-2)?2:3;for(let C=s.depth-v;C>=s.depth-3;C-=1)m=ne.from(s.node(C).copy(m));const b=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,w=bd(f,s.node().type.name,s.node().attrs),y=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;m=m.append(ne.from(a.createAndFill(null,y)||void 0));const x=s.before(s.depth-(v-1));e.replace(x,s.after(-b),new ge(m,4-v,0));let S=-1;e.doc.nodesBetween(x,e.doc.content.size,(C,E)=>{if(S>-1)return!1;C.isTextblock&&C.content.size===0&&(S=E+1)}),S>-1&&e.setSelection(Le.near(e.doc.resolve(S))),e.scrollIntoView()}return!0}const d=l.pos===s.end()?c.contentMatchAt(0).defaultType:null,p=bd(f,c.type.name,c.attrs),h=bd(f,s.node().type.name,s.node().attrs);e.delete(s.pos,l.pos);const g=d?[{type:a,attrs:p},{type:d,attrs:h}]:[{type:a,attrs:p}];if(!Os(e.doc,s.pos,2))return!1;if(n){const{selection:m,storedMarks:v}=r,{splittableMarks:b}=i.extensionManager,w=v||m.$to.parentOffset&&m.$from.marks();if(e.split(s.pos,2,g).scrollIntoView(),!w||!n)return!0;const y=w.filter(x=>b.includes(x.type.name));e.ensureMarks(y)}return!0},gm=(t,e)=>{const r=ib(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&_o(t.doc,r.pos)&&t.join(r.pos),!0},mm=(t,e)=>{const r=ib(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&_o(t.doc,n)&&t.join(n),!0},WF=(t,e,r,n={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,p=qt(t,a.schema),h=qt(e,a.schema),{selection:g,storedMarks:m}=a,{$from:v,$to:b}=g,w=v.blockRange(b),y=m||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const x=ib(S=>CE(S.type.name,f))(g);if(w.depth>=1&&x&&w.depth-x.depth<=1){if(x.node.type===p)return u.liftListItem(h);if(CE(x.node.type.name,f)&&p.validContent(x.node.content)&&s)return l().command(()=>(o.setNodeMarkup(x.pos,p),!0)).command(()=>gm(o,p)).command(()=>mm(o,p)).run()}return!r||!y||!s?l().command(()=>c().wrapInList(p,n)?!0:u.clearNodes()).wrapInList(p,n).command(()=>gm(o,p)).command(()=>mm(o,p)).run():l().command(()=>{const S=c().wrapInList(p,n),C=y.filter(E=>d.includes(E.type.name));return o.ensureMarks(C),S?!0:u.clearNodes()}).wrapInList(p,n).command(()=>gm(o,p)).command(()=>mm(o,p)).run()},GF=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=r,a=Ao(t,n.schema);return S0(n,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)},qF=(t,e,r={})=>({state:n,commands:i})=>{const o=qt(t,n.schema),a=qt(e,n.schema);return wc(n,o,r)?i.setNode(a):i.setNode(o,r)},KF=(t,e={})=>({state:r,commands:n})=>{const i=qt(t,r.schema);return wc(r,i,e)?n.lift(i):n.wrapIn(i,e)},YF=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const a=t.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},XF=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},JF=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:s}=r,l=Ao(t,n.schema),{$from:u,empty:c,ranges:f}=s;if(!i)return!0;if(c&&a){let{from:d,to:p}=s;const h=(o=u.marks().find(m=>m.type===l))===null||o===void 0?void 0:o.attrs,g=eb(u,l,h);g&&(d=g.from,p=g.to),r.removeMark(d,p,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},QF=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Uh(typeof t=="string"?t:t.name,n.schema);return s?(s==="node"&&(o=qt(t,n.schema)),s==="mark"&&(a=Ao(t,n.schema)),i&&r.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;n.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&r.setNodeMarkup(d,void 0,{...f.attrs,...e}),a&&f.marks.length&&f.marks.forEach(p=>{if(a===p.type){const h=Math.max(d,u),g=Math.min(d+f.nodeSize,c);r.addMark(h,g,a.create({...p.attrs,...e}))}})})}),!0):!1},ZF=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return pz(i,e)(r,n)},e5=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return hz(i,e)(r,n)};var t5=Object.freeze({__proto__:null,blur:Iz,clearContent:Lz,clearNodes:Bz,command:zz,createParagraphNear:Fz,cut:jz,deleteCurrentNode:Hz,deleteNode:Uz,deleteRange:$z,deleteSelection:Vz,enter:Wz,exitCode:Gz,extendMarkRange:Kz,first:Yz,focus:Xz,forEach:Jz,insertContent:Qz,insertContentAt:tF,joinUp:rF,joinDown:nF,joinBackward:iF,joinForward:oF,joinItemBackward:aF,joinItemForward:sF,keyboardShortcut:uF,lift:cF,liftEmptyBlock:fF,liftListItem:dF,newlineInCode:pF,resetAttributes:hF,scrollIntoView:gF,selectAll:mF,selectNodeBackward:vF,selectNodeForward:yF,selectParentNode:bF,selectTextblockEnd:wF,selectTextblockStart:SF,setContent:xF,setMark:BF,setMeta:zF,setNode:FF,setNodeSelection:jF,setTextSelection:HF,sinkListItem:UF,splitBlock:$F,splitListItem:VF,toggleList:WF,toggleMark:GF,toggleNode:qF,toggleWrap:KF,undoInputRule:YF,unsetAllMarks:XF,unsetMark:JF,updateAttributes:QF,wrapIn:ZF,wrapInList:e5});const r5=fr.create({name:"commands",addCommands(){return{...t5}}}),n5=fr.create({name:"editable",addProseMirrorPlugins(){return[new Bt({key:new Or("editable"),props:{editable:()=>this.editor.options.editable}})]}}),i5=fr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Bt({key:new Or("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),o5=fr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:u}=s,{empty:c,$anchor:f}=l,{pos:d,parent:p}=f,h=f.parent.isTextblock?s.doc.resolve(d-1):f,g=h.parent.type.spec.isolating,m=f.pos-f.parentOffset,v=g&&h.parent.childCount===1?m===f.pos:ze.atStart(u).from===d;return!c||!v||!p.type.isTextblock||p.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rb()||nb()?o:i},addProseMirrorPlugins(){return[new Bt({key:new Or("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:i,from:o,to:a}=e.selection,s=ze.atStart(e.doc).from,l=ze.atEnd(e.doc).to;if(i||!(o===s&&a===l)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const f=r.tr,d=Bh({state:r,transaction:f}),{commands:p}=new zh({editor:this.editor,state:d});if(p.clearNodes(),!!f.steps.length)return f}})]}}),a5=fr.create({name:"tabindex",addProseMirrorPlugins(){return[new Bt({key:new Or("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var s5=Object.freeze({__proto__:null,ClipboardTextSerializer:Nz,Commands:r5,Editable:n5,FocusEvents:i5,Keymap:o5,Tabindex:a5});const l5=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function u5(t,e,r){const n=document.querySelector(`style[data-tiptap-style${r?`-${r}`:""}]`);if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${r?`-${r}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let c5=class extends wz{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=u5(l5,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=tA(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){const r=[...this.options.enableCoreExtensions?Object.values(s5):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new as(r,this)}createCommandManager(){this.commandManager=new zh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=oA(this.options.content,this.schema,this.options.parseOptions),r=iA(e,this.options.autofocus);this.view=new F4(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:is.create({doc:e,selection:r||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(a)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aA(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return PF(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OF(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return _F(this.state.doc,{blockSeparator:r,textSerializers:{...nA(this.schema),...n}})}get isEmpty(){return NF(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Vs(t){return new jh({find:t.find,handler:({state:e,range:r,match:n})=>{const i=Be(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],s=n[0];if(a){const l=s.search(/\S/),u=r.from+s.indexOf(a),c=u+a.length;if(ob(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;c<r.to&&o.delete(c,r.to),u>r.from&&o.delete(r.from+l,u);const d=r.from+l+a.length;o.addMark(r.from+l,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function lA(t){return new jh({find:t.find,handler:({state:e,range:r,match:n})=>{const i=Be(t.getAttributes,void 0,n)||{},{tr:o}=e,a=r.from;let s=r.to;const l=t.type.create(i);if(n[1]){const u=n[0].lastIndexOf(n[1]);let c=a+u;c>s?c=s:s=c+n[1].length;const f=n[0][n[0].length-1];o.insertText(f,a+n[0].length-1),o.replaceWith(c,s,l)}else n[0]&&o.insert(a-1,t.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s));o.scrollIntoView()}})}function x0(t){return new jh({find:t.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),o=Be(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,o)}})}function Sc(t){return new jh({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{const o=Be(t.getAttributes,void 0,n)||{},a=e.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),u=l&&H1(l,t.type,o);if(!u)return null;if(a.wrap(l,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:p}=t.editor.extensionManager,h=d||f.$to.parentOffset&&f.$from.marks();if(h){const g=h.filter(m=>p.includes(m.type.name));a.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const c=a.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&_o(a.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&a.join(r.from-1)}})}class un{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(xe(this,"addOptions",{name:this.name}))),this.storage=Be(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new un(e)}configure(e={}){const r=this.extend();return r.options=Hh(this.options,e),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new un(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(xe(r,"addOptions",{name:r.name})),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const l=a.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}class It{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(xe(this,"addOptions",{name:this.name}))),this.storage=Be(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new It(e)}configure(e={}){const r=this.extend();return r.options=Hh(this.options,e),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new It(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(xe(r,"addOptions",{name:r.name})),r.storage=Be(xe(r,"addStorage",{name:r.name,options:r.options})),r}}function ma(t){return new _z({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const o=Be(t.getAttributes,void 0,n,i);if(o===!1||o===null)return null;const{tr:a}=e,s=n[n.length-1],l=n[0];let u=r.to;if(s){const c=l.search(/\S/),f=r.from+l.indexOf(s),d=f+s.length;if(ob(r.from,r.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+c,f),u=r.from+c+s.length,a.addMark(r.from+c,u,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}function f5(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Lr="top",cn="bottom",fn="right",Br="left",ab="auto",Jc=[Lr,cn,fn,Br],Ws="start",xc="end",d5="clippingParents",uA="viewport",Kl="popper",p5="reference",TE=Jc.reduce(function(t,e){return t.concat([e+"-"+Ws,e+"-"+xc])},[]),cA=[].concat(Jc,[ab]).reduce(function(t,e){return t.concat([e,e+"-"+Ws,e+"-"+xc])},[]),h5="beforeRead",g5="read",m5="afterRead",v5="beforeMain",y5="main",b5="afterMain",w5="beforeWrite",S5="write",x5="afterWrite",E5=[h5,g5,m5,v5,y5,b5,w5,S5,x5];function ei(t){return t?(t.nodeName||"").toLowerCase():null}function $r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function va(t){var e=$r(t).Element;return t instanceof e||t instanceof Element}function nn(t){var e=$r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sb(t){if(typeof ShadowRoot>"u")return!1;var e=$r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function C5(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!nn(o)||!ei(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function k5(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=a.reduce(function(l,u){return l[u]="",l},{});!nn(i)||!ei(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const fA={name:"applyStyles",enabled:!0,phase:"write",fn:C5,effect:k5,requires:["computeStyles"]};function Xn(t){return t.split("-")[0]}var sa=Math.max,mp=Math.min,Gs=Math.round;function E0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dA(){return!/^((?!chrome|android).)*safari/i.test(E0())}function qs(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&nn(t)&&(i=t.offsetWidth>0&&Gs(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Gs(n.height)/t.offsetHeight||1);var a=va(t)?$r(t):window,s=a.visualViewport,l=!dA()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function lb(t){var e=qs(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function pA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&sb(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ki(t){return $r(t).getComputedStyle(t)}function T5(t){return["table","td","th"].indexOf(ei(t))>=0}function Do(t){return((va(t)?t.ownerDocument:t.document)||window.document).documentElement}function $h(t){return ei(t)==="html"?t:t.assignedSlot||t.parentNode||(sb(t)?t.host:null)||Do(t)}function OE(t){return!nn(t)||ki(t).position==="fixed"?null:t.offsetParent}function O5(t){var e=/firefox/i.test(E0()),r=/Trident/i.test(E0());if(r&&nn(t)){var n=ki(t);if(n.position==="fixed")return null}var i=$h(t);for(sb(i)&&(i=i.host);nn(i)&&["html","body"].indexOf(ei(i))<0;){var o=ki(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Qc(t){for(var e=$r(t),r=OE(t);r&&T5(r)&&ki(r).position==="static";)r=OE(r);return r&&(ei(r)==="html"||ei(r)==="body"&&ki(r).position==="static")?e:r||O5(t)||e}function ub(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Iu(t,e,r){return sa(t,mp(e,r))}function _5(t,e,r){var n=Iu(t,e,r);return n>r?r:n}function hA(){return{top:0,right:0,bottom:0,left:0}}function gA(t){return Object.assign({},hA(),t)}function mA(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var M5=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,gA(typeof e!="number"?e:mA(e,Jc))};function A5(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Xn(r.placement),l=ub(s),u=[Br,fn].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var f=M5(i.padding,r),d=lb(o),p=l==="y"?Lr:Br,h=l==="y"?cn:fn,g=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],v=Qc(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=g/2-m/2,y=f[p],x=b-d[c]-f[h],S=b/2-d[c]/2+w,C=Iu(y,S,x),E=l;r.modifiersData[n]=(e={},e[E]=C,e.centerOffset=C-S,e)}}function D5(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pA(e.elements.popper,i)&&(e.elements.arrow=i))}const R5={name:"arrow",enabled:!0,phase:"main",fn:A5,effect:D5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ks(t){return t.split("-")[1]}var P5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N5(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Gs(r*i)/i||0,y:Gs(n*i)/i||0}}function _E(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,p=d===void 0?0:d,h=a.y,g=h===void 0?0:h,m=typeof c=="function"?c({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),w=Br,y=Lr,x=window;if(u){var S=Qc(r),C="clientHeight",E="clientWidth";if(S===$r(r)&&(S=Do(r),ki(S).position!=="static"&&s==="absolute"&&(C="scrollHeight",E="scrollWidth")),S=S,i===Lr||(i===Br||i===fn)&&o===xc){y=cn;var k=f&&S===x&&x.visualViewport?x.visualViewport.height:S[C];g-=k-n.height,g*=l?1:-1}if(i===Br||(i===Lr||i===cn)&&o===xc){w=fn;var T=f&&S===x&&x.visualViewport?x.visualViewport.width:S[E];p-=T-n.width,p*=l?1:-1}}var A=Object.assign({position:s},u&&P5),O=c===!0?N5({x:p,y:g},$r(r)):{x:p,y:g};if(p=O.x,g=O.y,l){var _;return Object.assign({},A,(_={},_[y]=b?"0":"",_[w]=v?"0":"",_.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",_))}return Object.assign({},A,(e={},e[y]=b?g+"px":"",e[w]=v?p+"px":"",e.transform="",e))}function I5(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:Xn(e.placement),variation:Ks(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_E(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_E(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const L5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:I5,data:{}};var Rf={passive:!0};function B5(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=$r(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",r.update,Rf)}),s&&l.addEventListener("resize",r.update,Rf),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Rf)}),s&&l.removeEventListener("resize",r.update,Rf)}}const z5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B5,data:{}};var F5={left:"right",right:"left",bottom:"top",top:"bottom"};function wd(t){return t.replace(/left|right|bottom|top/g,function(e){return F5[e]})}var j5={start:"end",end:"start"};function ME(t){return t.replace(/start|end/g,function(e){return j5[e]})}function cb(t){var e=$r(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function fb(t){return qs(Do(t)).left+cb(t).scrollLeft}function H5(t,e){var r=$r(t),n=Do(t),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=dA();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+fb(t),y:l}}function U5(t){var e,r=Do(t),n=cb(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=sa(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=sa(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+fb(t),l=-n.scrollTop;return ki(i||r).direction==="rtl"&&(s+=sa(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function db(t){var e=ki(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function vA(t){return["html","body","#document"].indexOf(ei(t))>=0?t.ownerDocument.body:nn(t)&&db(t)?t:vA($h(t))}function Lu(t,e){var r;e===void 0&&(e=[]);var n=vA(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=$r(n),a=i?[o].concat(o.visualViewport||[],db(n)?n:[]):n,s=e.concat(a);return i?s:s.concat(Lu($h(a)))}function C0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $5(t,e){var r=qs(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function AE(t,e,r){return e===uA?C0(H5(t,r)):va(e)?$5(e,r):C0(U5(Do(t)))}function V5(t){var e=Lu($h(t)),r=["absolute","fixed"].indexOf(ki(t).position)>=0,n=r&&nn(t)?Qc(t):t;return va(n)?e.filter(function(i){return va(i)&&pA(i,n)&&ei(i)!=="body"}):[]}function W5(t,e,r,n){var i=e==="clippingParents"?V5(t):[].concat(e),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,u){var c=AE(t,u,n);return l.top=sa(c.top,l.top),l.right=mp(c.right,l.right),l.bottom=mp(c.bottom,l.bottom),l.left=sa(c.left,l.left),l},AE(t,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function yA(t){var e=t.reference,r=t.element,n=t.placement,i=n?Xn(n):null,o=n?Ks(n):null,a=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case Lr:l={x:a,y:e.y-r.height};break;case cn:l={x:a,y:e.y+e.height};break;case fn:l={x:e.x+e.width,y:s};break;case Br:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?ub(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Ws:l[u]=l[u]-(e[c]/2-r[c]/2);break;case xc:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function Ec(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,a=o===void 0?t.strategy:o,s=r.boundary,l=s===void 0?d5:s,u=r.rootBoundary,c=u===void 0?uA:u,f=r.elementContext,d=f===void 0?Kl:f,p=r.altBoundary,h=p===void 0?!1:p,g=r.padding,m=g===void 0?0:g,v=gA(typeof m!="number"?m:mA(m,Jc)),b=d===Kl?p5:Kl,w=t.rects.popper,y=t.elements[h?b:d],x=W5(va(y)?y:y.contextElement||Do(t.elements.popper),l,c,a),S=qs(t.elements.reference),C=yA({reference:S,element:w,strategy:"absolute",placement:i}),E=C0(Object.assign({},w,C)),k=d===Kl?E:S,T={top:x.top-k.top+v.top,bottom:k.bottom-x.bottom+v.bottom,left:x.left-k.left+v.left,right:k.right-x.right+v.right},A=t.modifiersData.offset;if(d===Kl&&A){var O=A[i];Object.keys(T).forEach(function(_){var N=[fn,cn].indexOf(_)>=0?1:-1,M=[Lr,cn].indexOf(_)>=0?"y":"x";T[_]+=O[M]*N})}return T}function G5(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?cA:l,c=Ks(n),f=c?s?TE:TE.filter(function(h){return Ks(h)===c}):Jc,d=f.filter(function(h){return u.indexOf(h)>=0});d.length===0&&(d=f);var p=d.reduce(function(h,g){return h[g]=Ec(t,{placement:g,boundary:i,rootBoundary:o,padding:a})[Xn(g)],h},{});return Object.keys(p).sort(function(h,g){return p[h]-p[g]})}function q5(t){if(Xn(t)===ab)return[];var e=wd(t);return[ME(t),e,ME(e)]}function K5(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,p=r.flipVariations,h=p===void 0?!0:p,g=r.allowedAutoPlacements,m=e.options.placement,v=Xn(m),b=v===m,w=l||(b||!h?[wd(m)]:q5(m)),y=[m].concat(w).reduce(function(W,q){return W.concat(Xn(q)===ab?G5(e,{placement:q,boundary:c,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:g}):q)},[]),x=e.rects.reference,S=e.rects.popper,C=new Map,E=!0,k=y[0],T=0;T<y.length;T++){var A=y[T],O=Xn(A),_=Ks(A)===Ws,N=[Lr,cn].indexOf(O)>=0,M=N?"width":"height",L=Ec(e,{placement:A,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),I=N?_?fn:Br:_?cn:Lr;x[M]>S[M]&&(I=wd(I));var R=wd(I),z=[];if(o&&z.push(L[O]<=0),s&&z.push(L[I]<=0,L[R]<=0),z.every(function(W){return W})){k=A,E=!1;break}C.set(A,z)}if(E)for(var j=h?3:1,D=function(q){var Y=y.find(function(te){var ee=C.get(te);if(ee)return ee.slice(0,q).every(function(he){return he})});if(Y)return k=Y,"break"},$=j;$>0;$--){var V=D($);if(V==="break")break}e.placement!==k&&(e.modifiersData[n]._skip=!0,e.placement=k,e.reset=!0)}}const Y5={name:"flip",enabled:!0,phase:"main",fn:K5,requiresIfExists:["offset"],data:{_skip:!1}};function DE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function RE(t){return[Lr,fn,cn,Br].some(function(e){return t[e]>=0})}function X5(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Ec(e,{elementContext:"reference"}),s=Ec(e,{altBoundary:!0}),l=DE(a,n),u=DE(s,i,o),c=RE(l),f=RE(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const J5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:X5};function Q5(t,e,r){var n=Xn(t),i=[Br,Lr].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Br,fn].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Z5(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,a=cA.reduce(function(c,f){return c[f]=Q5(f,e.rects,o),c},{}),s=a[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const ej={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Z5};function tj(t){var e=t.state,r=t.name;e.modifiersData[r]=yA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rj={name:"popperOffsets",enabled:!0,phase:"read",fn:tj,data:{}};function nj(t){return t==="x"?"y":"x"}function ij(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,d=r.tether,p=d===void 0?!0:d,h=r.tetherOffset,g=h===void 0?0:h,m=Ec(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),v=Xn(e.placement),b=Ks(e.placement),w=!b,y=ub(v),x=nj(y),S=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,k=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,T=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(S){if(o){var _,N=y==="y"?Lr:Br,M=y==="y"?cn:fn,L=y==="y"?"height":"width",I=S[y],R=I+m[N],z=I-m[M],j=p?-E[L]/2:0,D=b===Ws?C[L]:E[L],$=b===Ws?-E[L]:-C[L],V=e.elements.arrow,W=p&&V?lb(V):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hA(),Y=q[N],te=q[M],ee=Iu(0,C[L],W[L]),he=w?C[L]/2-j-ee-Y-T.mainAxis:D-ee-Y-T.mainAxis,ve=w?-C[L]/2+j+ee+te+T.mainAxis:$+ee+te+T.mainAxis,J=e.elements.arrow&&Qc(e.elements.arrow),ue=J?y==="y"?J.clientTop||0:J.clientLeft||0:0,Ae=(_=A==null?void 0:A[y])!=null?_:0,ye=I+he-Ae-ue,Z=I+ve-Ae,fe=Iu(p?mp(R,ye):R,I,p?sa(z,Z):z);S[y]=fe,O[y]=fe-I}if(s){var Ce,Re=y==="x"?Lr:Br,Ee=y==="x"?cn:fn,_e=S[x],Ke=x==="y"?"height":"width",lt=_e+m[Re],tt=_e-m[Ee],Ye=[Lr,Br].indexOf(v)!==-1,rt=(Ce=A==null?void 0:A[x])!=null?Ce:0,jt=Ye?lt:_e-C[Ke]-E[Ke]-rt+T.altAxis,nr=Ye?_e+C[Ke]+E[Ke]-rt-T.altAxis:tt,gn=p&&Ye?_5(jt,_e,nr):Iu(p?jt:lt,_e,p?nr:tt);S[x]=gn,O[x]=gn-_e}e.modifiersData[n]=O}}const oj={name:"preventOverflow",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"]};function aj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sj(t){return t===$r(t)||!nn(t)?cb(t):aj(t)}function lj(t){var e=t.getBoundingClientRect(),r=Gs(e.width)/t.offsetWidth||1,n=Gs(e.height)/t.offsetHeight||1;return r!==1||n!==1}function uj(t,e,r){r===void 0&&(r=!1);var n=nn(e),i=nn(e)&&lj(e),o=Do(e),a=qs(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ei(e)!=="body"||db(o))&&(s=sj(e)),nn(e)?(l=qs(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=fb(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function cj(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function fj(t){var e=cj(t);return E5.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function dj(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function pj(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var PE={placement:"bottom",modifiers:[],strategy:"absolute"};function NE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function hj(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?PE:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},PE,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(v){var b=typeof v=="function"?v(c.options):v;g(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:va(s)?Lu(s):s.contextElement?Lu(s.contextElement):[],popper:Lu(l)};var w=fj(pj([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(y){return y.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var v=c.elements,b=v.reference,w=v.popper;if(NE(b,w)){c.rects={reference:uj(b,Qc(w),c.options.strategy==="fixed"),popper:lb(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var x=c.orderedModifiers[y],S=x.fn,C=x.options,E=C===void 0?{}:C,k=x.name;typeof S=="function"&&(c=S({state:c,options:E,name:k,instance:p})||c)}}}},update:dj(function(){return new Promise(function(m){p.forceUpdate(),m(c)})}),destroy:function(){g(),d=!0}};if(!NE(s,l))return p;p.setOptions(u).then(function(m){!d&&u.onFirstUpdate&&u.onFirstUpdate(m)});function h(){c.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,w=b===void 0?{}:b,y=m.effect;if(typeof y=="function"){var x=y({state:c,name:v,instance:p,options:w}),S=function(){};f.push(x||S)}})}function g(){f.forEach(function(m){return m()}),f=[]}return p}}var gj=[z5,rj,L5,fA,ej,Y5,oj,R5,J5],mj=hj({defaultModifiers:gj}),vj="tippy-box",bA="tippy-content",yj="tippy-backdrop",wA="tippy-arrow",SA="tippy-svg-arrow",Lo={passive:!0,capture:!0},xA=function(){return document.body};function vm(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function pb(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function EA(t,e){return typeof t=="function"?t.apply(void 0,e):t}function IE(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function bj(t){return t.split(/\s+/).filter(Boolean)}function qa(t){return[].concat(t)}function LE(t,e){t.indexOf(e)===-1&&t.push(e)}function wj(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function Sj(t){return t.split("-")[0]}function vp(t){return[].slice.call(t)}function BE(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Bu(){return document.createElement("div")}function Vh(t){return["Element","Fragment"].some(function(e){return pb(t,e)})}function xj(t){return pb(t,"NodeList")}function Ej(t){return pb(t,"MouseEvent")}function Cj(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function kj(t){return Vh(t)?[t]:xj(t)?vp(t):Array.isArray(t)?t:vp(document.querySelectorAll(t))}function ym(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function zE(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function Tj(t){var e,r=qa(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function Oj(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,u=Sj(a.placement),c=a.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,h=u==="left"?c.right.x:0,g=o.top-n+f>l,m=n-o.bottom-d>l,v=o.left-r+p>l,b=r-o.right-h>l;return g||m||v||b})}function bm(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function FE(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var zn={isTouch:!1},jE=0;function _j(){zn.isTouch||(zn.isTouch=!0,window.performance&&document.addEventListener("mousemove",CA))}function CA(){var t=performance.now();t-jE<20&&(zn.isTouch=!1,document.removeEventListener("mousemove",CA)),jE=t}function Mj(){var t=document.activeElement;if(Cj(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Aj(){document.addEventListener("touchstart",_j,Lo),window.addEventListener("blur",Mj)}var Dj=typeof window<"u"&&typeof document<"u",Rj=Dj?!!window.msCrypto:!1,Pj={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Nj={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Tn=Object.assign({appendTo:xA,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Pj,Nj),Ij=Object.keys(Tn),Lj=function(e){var r=Object.keys(e);r.forEach(function(n){Tn[n]=e[n]})};function kA(t){var e=t.plugins||[],r=e.reduce(function(n,i){var o=i.name,a=i.defaultValue;if(o){var s;n[o]=t[o]!==void 0?t[o]:(s=Tn[o])!=null?s:a}return n},{});return Object.assign({},t,r)}function Bj(t,e){var r=e?Object.keys(kA(Object.assign({},Tn,{plugins:e}))):Ij,n=r.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return n}function HE(t,e){var r=Object.assign({},e,{content:EA(e.content,[t])},e.ignoreAttributes?{}:Bj(t,e.plugins));return r.aria=Object.assign({},Tn.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var zj=function(){return"innerHTML"};function k0(t,e){t[zj()]=e}function UE(t){var e=Bu();return t===!0?e.className=wA:(e.className=SA,Vh(t)?e.appendChild(t):k0(e,t)),e}function $E(t,e){Vh(e.content)?(k0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?k0(t,e.content):t.textContent=e.content)}function T0(t){var e=t.firstElementChild,r=vp(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(bA)}),arrow:r.find(function(n){return n.classList.contains(wA)||n.classList.contains(SA)}),backdrop:r.find(function(n){return n.classList.contains(yj)})}}function TA(t){var e=Bu(),r=Bu();r.className=vj,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Bu();n.className=bA,n.setAttribute("data-state","hidden"),$E(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(o,a){var s=T0(e),l=s.box,u=s.content,c=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&$E(u,t.props),a.arrow?c?o.arrow!==a.arrow&&(l.removeChild(c),l.appendChild(UE(a.arrow))):l.appendChild(UE(a.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:i}}TA.$$tippy=!0;var Fj=1,Pf=[],wm=[];function jj(t,e){var r=HE(t,Object.assign({},Tn,kA(BE(e)))),n,i,o,a=!1,s=!1,l=!1,u=!1,c,f,d,p=[],h=IE(ye,r.interactiveDebounce),g,m=Fj++,v=null,b=wj(r.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:m,reference:t,popper:Bu(),popperInstance:v,props:r,state:w,plugins:b,clearDelayTimeouts:jt,setProps:nr,setContent:gn,show:Ra,hide:Pa,hideWithInteractivity:Ai,enable:Ye,disable:rt,unmount:Di,destroy:_l};if(!r.render)return y;var x=r.render(y),S=x.popper,C=x.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+y.id,y.popper=S,t._tippy=y,S._tippy=y;var E=b.map(function(P){return P.fn(y)}),k=t.hasAttribute("aria-expanded");return J(),j(),I(),R("onCreate",[y]),r.showOnCreate&&lt(),S.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",h)}),y;function T(){var P=y.props.touch;return Array.isArray(P)?P:[P,0]}function A(){return T()[0]==="hold"}function O(){var P;return!!((P=y.props.render)!=null&&P.$$tippy)}function _(){return g||t}function N(){var P=_().parentNode;return P?Tj(P):document}function M(){return T0(S)}function L(P){return y.state.isMounted&&!y.state.isVisible||zn.isTouch||c&&c.type==="focus"?0:vm(y.props.delay,P?0:1,Tn.delay)}function I(P){P===void 0&&(P=!1),S.style.pointerEvents=y.props.interactive&&!P?"":"none",S.style.zIndex=""+y.props.zIndex}function R(P,H,G){if(G===void 0&&(G=!0),E.forEach(function(ce){ce[P]&&ce[P].apply(ce,H)}),G){var ie;(ie=y.props)[P].apply(ie,H)}}function z(){var P=y.props.aria;if(P.content){var H="aria-"+P.content,G=S.id,ie=qa(y.props.triggerTarget||t);ie.forEach(function(ce){var be=ce.getAttribute(H);if(y.state.isVisible)ce.setAttribute(H,be?be+" "+G:G);else{var le=be&&be.replace(G,"").trim();le?ce.setAttribute(H,le):ce.removeAttribute(H)}})}}function j(){if(!(k||!y.props.aria.expanded)){var P=qa(y.props.triggerTarget||t);P.forEach(function(H){y.props.interactive?H.setAttribute("aria-expanded",y.state.isVisible&&H===_()?"true":"false"):H.removeAttribute("aria-expanded")})}}function D(){N().removeEventListener("mousemove",h),Pf=Pf.filter(function(P){return P!==h})}function $(P){if(!(zn.isTouch&&(l||P.type==="mousedown"))){var H=P.composedPath&&P.composedPath()[0]||P.target;if(!(y.props.interactive&&FE(S,H))){if(qa(y.props.triggerTarget||t).some(function(G){return FE(G,H)})){if(zn.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[y,P]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),s=!0,setTimeout(function(){s=!1}),y.state.isMounted||Y())}}}function V(){l=!0}function W(){l=!1}function q(){var P=N();P.addEventListener("mousedown",$,!0),P.addEventListener("touchend",$,Lo),P.addEventListener("touchstart",W,Lo),P.addEventListener("touchmove",V,Lo)}function Y(){var P=N();P.removeEventListener("mousedown",$,!0),P.removeEventListener("touchend",$,Lo),P.removeEventListener("touchstart",W,Lo),P.removeEventListener("touchmove",V,Lo)}function te(P,H){he(P,function(){!y.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&H()})}function ee(P,H){he(P,H)}function he(P,H){var G=M().box;function ie(ce){ce.target===G&&(bm(G,"remove",ie),H())}if(P===0)return H();bm(G,"remove",f),bm(G,"add",ie),f=ie}function ve(P,H,G){G===void 0&&(G=!1);var ie=qa(y.props.triggerTarget||t);ie.forEach(function(ce){ce.addEventListener(P,H,G),p.push({node:ce,eventType:P,handler:H,options:G})})}function J(){A()&&(ve("touchstart",Ae,{passive:!0}),ve("touchend",Z,{passive:!0})),bj(y.props.trigger).forEach(function(P){if(P!=="manual")switch(ve(P,Ae),P){case"mouseenter":ve("mouseleave",Z);break;case"focus":ve(Rj?"focusout":"blur",fe);break;case"focusin":ve("focusout",fe);break}})}function ue(){p.forEach(function(P){var H=P.node,G=P.eventType,ie=P.handler,ce=P.options;H.removeEventListener(G,ie,ce)}),p=[]}function Ae(P){var H,G=!1;if(!(!y.state.isEnabled||Ce(P)||s)){var ie=((H=c)==null?void 0:H.type)==="focus";c=P,g=P.currentTarget,j(),!y.state.isVisible&&Ej(P)&&Pf.forEach(function(ce){return ce(P)}),P.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||a)&&y.props.hideOnClick!==!1&&y.state.isVisible?G=!0:lt(P),P.type==="click"&&(a=!G),G&&!ie&&tt(P)}}function ye(P){var H=P.target,G=_().contains(H)||S.contains(H);if(!(P.type==="mousemove"&&G)){var ie=Ke().concat(S).map(function(ce){var be,le=ce._tippy,de=(be=le.popperInstance)==null?void 0:be.state;return de?{popperRect:ce.getBoundingClientRect(),popperState:de,props:r}:null}).filter(Boolean);Oj(ie,P)&&(D(),tt(P))}}function Z(P){var H=Ce(P)||y.props.trigger.indexOf("click")>=0&&a;if(!H){if(y.props.interactive){y.hideWithInteractivity(P);return}tt(P)}}function fe(P){y.props.trigger.indexOf("focusin")<0&&P.target!==_()||y.props.interactive&&P.relatedTarget&&S.contains(P.relatedTarget)||tt(P)}function Ce(P){return zn.isTouch?A()!==P.type.indexOf("touch")>=0:!1}function Re(){Ee();var P=y.props,H=P.popperOptions,G=P.placement,ie=P.offset,ce=P.getReferenceClientRect,be=P.moveTransition,le=O()?T0(S).arrow:null,de=ce?{getBoundingClientRect:ce,contextElement:ce.contextElement||_()}:t,Se={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(je){var Xe=je.state;if(O()){var Ct=M(),mn=Ct.box;["placement","reference-hidden","escaped"].forEach(function(Kr){Kr==="placement"?mn.setAttribute("data-placement",Xe.placement):Xe.attributes.popper["data-popper-"+Kr]?mn.setAttribute("data-"+Kr,""):mn.removeAttribute("data-"+Kr)}),Xe.attributes.popper={}}}},Fe=[{name:"offset",options:{offset:ie}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!be}},Se];O()&&le&&Fe.push({name:"arrow",options:{element:le,padding:3}}),Fe.push.apply(Fe,(H==null?void 0:H.modifiers)||[]),y.popperInstance=mj(de,S,Object.assign({},H,{placement:G,onFirstUpdate:d,modifiers:Fe}))}function Ee(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function _e(){var P=y.props.appendTo,H,G=_();y.props.interactive&&P===xA||P==="parent"?H=G.parentNode:H=EA(P,[G]),H.contains(S)||H.appendChild(S),y.state.isMounted=!0,Re()}function Ke(){return vp(S.querySelectorAll("[data-tippy-root]"))}function lt(P){y.clearDelayTimeouts(),P&&R("onTrigger",[y,P]),q();var H=L(!0),G=T(),ie=G[0],ce=G[1];zn.isTouch&&ie==="hold"&&ce&&(H=ce),H?n=setTimeout(function(){y.show()},H):y.show()}function tt(P){if(y.clearDelayTimeouts(),R("onUntrigger",[y,P]),!y.state.isVisible){Y();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(P.type)>=0&&a)){var H=L(!1);H?i=setTimeout(function(){y.state.isVisible&&y.hide()},H):o=requestAnimationFrame(function(){y.hide()})}}function Ye(){y.state.isEnabled=!0}function rt(){y.hide(),y.state.isEnabled=!1}function jt(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function nr(P){if(!y.state.isDestroyed){R("onBeforeUpdate",[y,P]),ue();var H=y.props,G=HE(t,Object.assign({},H,BE(P),{ignoreAttributes:!0}));y.props=G,J(),H.interactiveDebounce!==G.interactiveDebounce&&(D(),h=IE(ye,G.interactiveDebounce)),H.triggerTarget&&!G.triggerTarget?qa(H.triggerTarget).forEach(function(ie){ie.removeAttribute("aria-expanded")}):G.triggerTarget&&t.removeAttribute("aria-expanded"),j(),I(),C&&C(H,G),y.popperInstance&&(Re(),Ke().forEach(function(ie){requestAnimationFrame(ie._tippy.popperInstance.forceUpdate)})),R("onAfterUpdate",[y,P])}}function gn(P){y.setProps({content:P})}function Ra(){var P=y.state.isVisible,H=y.state.isDestroyed,G=!y.state.isEnabled,ie=zn.isTouch&&!y.props.touch,ce=vm(y.props.duration,0,Tn.duration);if(!(P||H||G||ie)&&!_().hasAttribute("disabled")&&(R("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,O()&&(S.style.visibility="visible"),I(),q(),y.state.isMounted||(S.style.transition="none"),O()){var be=M(),le=be.box,de=be.content;ym([le,de],0)}d=function(){var Fe;if(!(!y.state.isVisible||u)){if(u=!0,S.offsetHeight,S.style.transition=y.props.moveTransition,O()&&y.props.animation){var vt=M(),je=vt.box,Xe=vt.content;ym([je,Xe],ce),zE([je,Xe],"visible")}z(),j(),LE(wm,y),(Fe=y.popperInstance)==null||Fe.forceUpdate(),R("onMount",[y]),y.props.animation&&O()&&ee(ce,function(){y.state.isShown=!0,R("onShown",[y])})}},_e()}}function Pa(){var P=!y.state.isVisible,H=y.state.isDestroyed,G=!y.state.isEnabled,ie=vm(y.props.duration,1,Tn.duration);if(!(P||H||G)&&(R("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,u=!1,a=!1,O()&&(S.style.visibility="hidden"),D(),Y(),I(!0),O()){var ce=M(),be=ce.box,le=ce.content;y.props.animation&&(ym([be,le],ie),zE([be,le],"hidden"))}z(),j(),y.props.animation?O()&&te(ie,y.unmount):y.unmount()}}function Ai(P){N().addEventListener("mousemove",h),LE(Pf,h),h(P)}function Di(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Ee(),Ke().forEach(function(P){P._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),wm=wm.filter(function(P){return P!==y}),y.state.isMounted=!1,R("onHidden",[y]))}function _l(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),ue(),delete t._tippy,y.state.isDestroyed=!0,R("onDestroy",[y]))}}function wl(t,e){e===void 0&&(e={});var r=Tn.plugins.concat(e.plugins||[]);Aj();var n=Object.assign({},e,{plugins:r}),i=kj(t),o=i.reduce(function(a,s){var l=s&&jj(s,n);return l&&a.push(l),a},[]);return Vh(t)?o[0]:o}wl.defaultProps=Tn;wl.setDefaultProps=Lj;wl.currentInput=zn;Object.assign({},fA,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});wl.setDefaultProps({render:TA});class Hj{constructor({editor:e,element:r,view:n,tippyOptions:i={},updateDelay:o=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:s,state:l,from:u,to:c})=>{const{doc:f,selection:d}=l,{empty:p}=d,h=!f.textBetween(u,c).length&&tb(l.selection),g=this.element.contains(document.activeElement);return!(!(s.hasFocus()||g)||p||h||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}s!=null&&s.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(s.relatedTarget))||this.hide()},this.tippyBlurHandler=s=>{this.blurHandler({event:s})},this.handleDebouncedUpdate=(s,l)=>{const u=!(l!=null&&l.selection.eq(s.state.selection)),c=!(l!=null&&l.doc.eq(s.state.doc));!u&&!c||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(s,u,c,l)},this.updateDelay))},this.updateHandler=(s,l,u,c)=>{var f,d,p;const{state:h,composing:g}=s,{selection:m}=h;if(g||!l&&!u)return;this.createTooltip();const{ranges:b}=m,w=Math.min(...b.map(S=>S.$from.pos)),y=Math.max(...b.map(S=>S.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,view:s,state:h,oldState:c,from:w,to:y}))){this.hide();return}(d=this.tippy)===null||d===void 0||d.setProps({getReferenceClientRect:((p=this.tippyOptions)===null||p===void 0?void 0:p.getReferenceClientRect)||(()=>{if(sA(h.selection)){let S=s.nodeDOM(w);const C=S.dataset.nodeViewWrapper?S:S.querySelector("[data-node-view-wrapper]");if(C&&(S=C.firstChild),S)return S.getBoundingClientRect()}return IF(s,w,y)})}),this.show()},this.editor=e,this.element=r,this.view=n,this.updateDelay=o,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,r=!!e.parentElement;this.tippy||!r||(this.tippy=wl(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,r){const{state:n}=e,i=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,r);return}const o=!(r!=null&&r.selection.eq(e.state.selection)),a=!(r!=null&&r.doc.eq(e.state.doc));this.updateHandler(e,o,a,r)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,r;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const OA=t=>new Bt({key:typeof t.pluginKey=="string"?new Or(t.pluginKey):t.pluginKey,view:e=>new Hj({view:e,...t})});fr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[OA({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const Uj=({renderers:t})=>re.createElement(re.Fragment,null,Object.entries(t).map(([e,r])=>N1.createPortal(r.reactElement,r.element,e)));class $j extends re.Component{constructor(e){super(e),this.editorContentRef=re.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?E_.flushSync(e):e()}setRenderer(e,r){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>({renderers:{...n,[e]:r}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>{const n={...r};return delete n[e],{renderers:n}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,...r}=this.props;return re.createElement(re.Fragment,null,re.createElement("div",{ref:this.editorContentRef,...r}),re.createElement(Uj,{renderers:this.state.renderers}))}}const Vj=t=>{const e=re.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return re.createElement($j,{key:e,...t})},Wj=re.memo(Vj);let Gj=class extends c5{constructor(){super(...arguments),this.contentComponent=null}};function qj(){const[,t]=U.useState(0);return()=>t(e=>e+1)}const Kj=(t={},e=[])=>{const[r,n]=U.useState(null),i=qj(),{onBeforeCreate:o,onBlur:a,onCreate:s,onDestroy:l,onFocus:u,onSelectionUpdate:c,onTransaction:f,onUpdate:d}=t,p=U.useRef(o),h=U.useRef(a),g=U.useRef(s),m=U.useRef(l),v=U.useRef(u),b=U.useRef(c),w=U.useRef(f),y=U.useRef(d);return U.useEffect(()=>{r&&(o&&(r.off("beforeCreate",p.current),r.on("beforeCreate",o),p.current=o),a&&(r.off("blur",h.current),r.on("blur",a),h.current=a),s&&(r.off("create",g.current),r.on("create",s),g.current=s),l&&(r.off("destroy",m.current),r.on("destroy",l),m.current=l),u&&(r.off("focus",v.current),r.on("focus",u),v.current=u),c&&(r.off("selectionUpdate",b.current),r.on("selectionUpdate",c),b.current=c),f&&(r.off("transaction",w.current),r.on("transaction",f),w.current=f),d&&(r.off("update",y.current),r.on("update",d),y.current=d))},[o,a,s,l,u,c,f,d,r]),U.useEffect(()=>{let x=!0;const S=new Gj(t);return n(S),S.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{x&&i()})})}),()=>{x=!1}},e),U.useEffect(()=>()=>{r==null||r.destroy()},[r]),r},_A=U.createContext({editor:null});_A.Consumer;const Yj=()=>U.useContext(_A),Xj=t=>{const[e,r]=U.useState(null),{editor:n}=Yj();return U.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||n!=null&&n.isDestroyed)return;const{pluginKey:o="bubbleMenu",editor:a,tippyOptions:s={},updateDelay:l,shouldShow:u=null}=t,c=a||n;if(!c){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const f=OA({updateDelay:l,editor:c,element:e,pluginKey:o,shouldShow:u,tippyOptions:s});return c.registerPlugin(f),()=>c.unregisterPlugin(o)},[t.editor,n,e]),re.createElement("div",{ref:r,className:t.className,style:{visibility:"hidden"}},t.children)},Jj=U.createContext({onDragStart:void 0}),Qj=()=>U.useContext(Jj);re.forwardRef((t,e)=>{const{onDragStart:r}=Qj(),n=t.as||"div";return re.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});function Zj(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function e6(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class t6{constructor(e,{editor:r,props:n={},as:i="div",className:o="",attrs:a}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=r,this.props=n,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),a&&Object.keys(a).forEach(s=>{this.element.setAttribute(s,a[s])}),this.render()}render(){var e,r;const n=this.component,i=this.props;(Zj(n)||e6(n))&&(i.ref=o=>{this.ref=o}),this.reactElement=re.createElement(n,{...i}),(r=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||r===void 0||r.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,r;(r=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||r===void 0||r.removeRenderer(this.id)}}function r6(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}r6(`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform,opacity,height;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--color);background:var(--border-color)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}
`);var n6=t=>{switch(t){case"success":return a6;case"error":return s6;default:return null}},i6=Array(12).fill(0),o6=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},i6.map((e,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),a6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),s6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O0=0,l6=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:O0++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:a,title:r}):s):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{let r=this.create({...e,promise:t,type:"loading",message:e.loading});return(t instanceof Promise?t:t()).then(n=>{let i=typeof e.success=="function"?e.success(n):e.success;this.create({id:r,type:"success",message:i})}).catch(n=>{let i=typeof e.error=="function"?e.error(n):e.error;this.create({id:r,type:"error",message:i})}).finally(e.finally),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||O0++;this.publish({jsx:t(r),id:r,...e})},this.subscribers=[],this.toasts=[]}},pi=new l6,u6=(t,e)=>{let r=(e==null?void 0:e.id)||O0++;return pi.addToast({title:t,...e,id:r}),r},c6=u6,Dt=Object.assign(c6,{success:pi.success,error:pi.error,custom:pi.custom,message:pi.message,promise:pi.promise,dismiss:pi.dismiss,loading:pi.loading}),f6=3,d6="32px",p6=4e3,h6=356,MA=14,g6=20,m6=200,v6=t=>{let{invert:e,toast:r,interacting:n,setHeights:i,visibleToasts:o,heights:a,index:s,toasts:l,expanded:u,removeToast:c,closeButton:f,style:d,className:p="",descriptionClassName:h="",duration:g,position:m,expandByDefault:v}=t,[b,w]=re.useState(!1),[y,x]=re.useState(!1),[S,C]=re.useState(!1),[E,k]=re.useState(!1),[T,A]=re.useState(0),[O,_]=re.useState(0),N=re.useRef(null),M=re.useRef(null),L=s===0,I=s+1<=o,R=r.type,z=r.dismissible!==!1,j=r.className||"",D=r.descriptionClassName||"",$=re.useMemo(()=>a.findIndex(Z=>Z.toastId===r.id)||0,[a,r.id]),V=re.useMemo(()=>r.duration||g||p6,[r.duration,g]),W=re.useRef(0),q=re.useRef(0),Y=re.useRef(V),te=re.useRef(0),ee=re.useRef(null),[he,ve]=m.split("-"),J=re.useMemo(()=>a.reduce((Z,fe,Ce)=>Ce>=$?Z:Z+fe.height,0),[a,$]),ue=r.invert||e,Ae=R==="loading";q.current=re.useMemo(()=>$*MA+J,[$,J]),re.useEffect(()=>{w(!0)},[]),re.useLayoutEffect(()=>{if(!b)return;let Z=M.current,fe=Z.style.height;Z.style.height="auto";let Ce=Z.getBoundingClientRect().height;Z.style.height=fe,_(Ce),i(Re=>Re.find(Ee=>Ee.toastId===r.id)?Re.map(Ee=>Ee.toastId===r.id?{...Ee,height:Ce}:Ee):[{toastId:r.id,height:Ce},...Re])},[b,r.title,r.description,i,r.id]);let ye=re.useCallback(()=>{x(!0),A(q.current),i(Z=>Z.filter(fe=>fe.toastId!==r.id)),setTimeout(()=>{c(r)},m6)},[r,c,i,q]);return re.useEffect(()=>{if(r.promise&&R==="loading"||r.duration===1/0)return;let Z;return u||n?(()=>{if(te.current<W.current){let fe=new Date().getTime()-W.current;Y.current=Y.current-fe}te.current=new Date().getTime()})():(W.current=new Date().getTime(),Z=setTimeout(()=>{var fe;(fe=r.onAutoClose)==null||fe.call(r,r),ye()},Y.current)),()=>clearTimeout(Z)},[u,n,v,r,V,ye,r.promise,R]),re.useEffect(()=>{let Z=M.current;if(Z){let fe=Z.getBoundingClientRect().height;return _(fe),i(Ce=>[{toastId:r.id,height:fe},...Ce]),()=>i(Ce=>Ce.filter(Re=>Re.toastId!==r.id))}},[i,r.id]),re.useEffect(()=>{r.delete&&ye()},[ye,r.delete]),re.createElement("li",{"aria-live":r.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:M,className:p+" "+j,"data-sonner-toast":"","data-styled":!r.jsx,"data-mounted":b,"data-promise":!!r.promise,"data-removed":y,"data-visible":I,"data-y-position":he,"data-x-position":ve,"data-index":s,"data-front":L,"data-swiping":S,"data-dismissible":z,"data-type":R,"data-invert":ue,"data-swipe-out":E,"data-expanded":!!(u||v&&b),style:{"--index":s,"--toasts-before":s,"--z-index":l.length-s,"--offset":`${y?T:q.current}px`,"--initial-height":v?"auto":`${O}px`,...d,...r.style},onPointerDown:Z=>{Ae||!z||(N.current=new Date,A(q.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(C(!0),ee.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,fe,Ce,Re;if(E||!z)return;ee.current=null;let Ee=Number(((Z=M.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount").replace("px",""))||0),_e=new Date().getTime()-((fe=N.current)==null?void 0:fe.getTime()),Ke=Math.abs(Ee)/_e;if(Math.abs(Ee)>=g6||Ke>.11){A(q.current),(Ce=r.onDismiss)==null||Ce.call(r,r),ye(),k(!0);return}(Re=M.current)==null||Re.style.setProperty("--swipe-amount","0px"),C(!1)},onPointerMove:Z=>{var fe;if(!ee.current||!z)return;let Ce=Z.clientY-ee.current.y,Re=Z.clientX-ee.current.x,Ee=(he==="top"?Math.min:Math.max)(0,Ce),_e=Z.pointerType==="touch"?10:2;Math.abs(Ee)>_e?(fe=M.current)==null||fe.style.setProperty("--swipe-amount",`${Ce}px`):Math.abs(Re)>_e&&(ee.current=null)}},f&&!r.jsx?re.createElement("button",{"aria-label":"Close toast","data-disabled":Ae,"data-close-button":!0,onClick:Ae||!z?void 0:()=>{var Z;ye(),(Z=r.onDismiss)==null||Z.call(r,r)}},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,r.jsx||re.isValidElement(r.title)?r.jsx||r.title:re.createElement(re.Fragment,null,R||r.icon||r.promise?re.createElement("div",{"data-icon":""},r.promise||r.type==="loading"?re.createElement(o6,{visible:R==="loading"}):null,r.icon||n6(R)):null,re.createElement("div",{"data-content":""},re.createElement("div",{"data-title":""},r.title),r.description?re.createElement("div",{"data-description":"",className:h+D},r.description):null),r.cancel?re.createElement("button",{"data-button":!0,"data-cancel":!0,onClick:()=>{var Z;z&&(ye(),(Z=r.cancel)!=null&&Z.onClick&&r.cancel.onClick())}},r.cancel.label):null,r.action?re.createElement("button",{"data-button":"",onClick:Z=>{var fe;(fe=r.action)==null||fe.onClick(Z),!Z.defaultPrevented&&ye()}},r.action.label):null))};function VE(){if(typeof window>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var y6=t=>{var e;let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:l,theme:u="light",richColors:c,duration:f,style:d,visibleToasts:p=f6,toastOptions:h,dir:g=VE()}=t,[m,v]=re.useState([]),[b,w]=re.useState([]),[y,x]=re.useState(!1),[S,C]=re.useState(!1),[E,k]=re.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[T,A]=n.split("-"),O=re.useRef(null),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=re.useRef(null),M=re.useRef(!1),L=re.useCallback(I=>v(R=>R.filter(({id:z})=>z!==I.id)),[]);return re.useEffect(()=>pi.subscribe(I=>{if(I.dismiss){v(R=>R.map(z=>z.id===I.id?{...z,delete:!0}:z));return}setTimeout(()=>{N1.flushSync(()=>{v(R=>{let z=R.findIndex(j=>j.id===I.id);return z!==-1?[...R.slice(0,z),{...R[z],...I},...R.slice(z+1)]:[I,...R]})})})}),[]),re.useEffect(()=>{if(u!=="system"){k(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:I})=>{k(I?"dark":"light")})},[u]),re.useEffect(()=>{m.length<=1&&x(!1)},[m]),re.useEffect(()=>{let I=R=>{var z,j;i.every(D=>R[D]||R.code===D)&&(x(!0),(z=O.current)==null||z.focus()),R.code==="Escape"&&(document.activeElement===O.current||(j=O.current)!=null&&j.contains(document.activeElement))&&x(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]),re.useEffect(()=>{if(O.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,M.current=!1)}},[O.current]),m.length?re.createElement("section",{"aria-label":`Notifications ${_}`,tabIndex:-1},re.createElement("ol",{dir:g==="auto"?VE():g,tabIndex:-1,ref:O,className:s,"data-sonner-toaster":!0,"data-theme":E,"data-rich-colors":c,"data-y-position":T,"data-x-position":A,style:{"--front-toast-height":`${(e=b[0])==null?void 0:e.height}px`,"--offset":typeof l=="number"?`${l}px`:l||d6,"--width":`${h6}px`,"--gap":`${MA}px`,...d},onBlur:I=>{M.current&&!I.currentTarget.contains(I.relatedTarget)&&(M.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||M.current||(M.current=!0,N.current=I.relatedTarget)},onMouseEnter:()=>x(!0),onMouseMove:()=>x(!0),onMouseLeave:()=>{S||x(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},m.map((I,R)=>re.createElement(v6,{key:I.id,index:R,toast:I,duration:f,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:r,visibleToasts:p,closeButton:a,interacting:S,position:n,style:h==null?void 0:h.style,removeToast:L,toasts:m,heights:b,setHeights:w,expandByDefault:o,expanded:y})))):null};function AA(t,e){return function(){return t.apply(e,arguments)}}const{toString:b6}=Object.prototype,{getPrototypeOf:hb}=Object,Wh=(t=>e=>{const r=b6.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ii=t=>(t=t.toLowerCase(),e=>Wh(e)===t),Gh=t=>e=>typeof e===t,{isArray:Sl}=Array,Cc=Gh("undefined");function w6(t){return t!==null&&!Cc(t)&&t.constructor!==null&&!Cc(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DA=ii("ArrayBuffer");function S6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DA(t.buffer),e}const x6=Gh("string"),on=Gh("function"),RA=Gh("number"),qh=t=>t!==null&&typeof t=="object",E6=t=>t===!0||t===!1,Sd=t=>{if(Wh(t)!=="object")return!1;const e=hb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C6=ii("Date"),k6=ii("File"),T6=ii("Blob"),O6=ii("FileList"),_6=t=>qh(t)&&on(t.pipe),M6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=Wh(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},A6=ii("URLSearchParams"),D6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Sl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(n=0;n<a;n++)s=o[n],e.call(null,t[s],s,t)}}function PA(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const NA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),IA=t=>!Cc(t)&&t!==NA;function _0(){const{caseless:t}=IA(this)&&this||{},e={},r=(n,i)=>{const o=t&&PA(e,i)||i;Sd(e[o])&&Sd(n)?e[o]=_0(e[o],n):Sd(n)?e[o]=_0({},n):Sl(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Zc(arguments[n],r);return e}const R6=(t,e,r,{allOwnKeys:n}={})=>(Zc(e,(i,o)=>{r&&on(i)?t[o]=AA(i,r):t[o]=i},{allOwnKeys:n}),t),P6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),N6=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},I6=(t,e,r,n)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=r!==!1&&hb(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},L6=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},B6=t=>{if(!t)return null;if(Sl(t))return t;let e=t.length;if(!RA(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},z6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&hb(Uint8Array)),F6=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},j6=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},H6=ii("HTMLFormElement"),U6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),WE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$6=ii("RegExp"),LA=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Zc(r,(i,o)=>{e(i,o,t)!==!1&&(n[o]=i)}),Object.defineProperties(t,n)},V6=t=>{LA(t,(e,r)=>{if(on(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(on(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},W6=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Sl(t)?n(t):n(String(t).split(e)),r},G6=()=>{},q6=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sm="abcdefghijklmnopqrstuvwxyz",GE="0123456789",BA={DIGIT:GE,ALPHA:Sm,ALPHA_DIGIT:Sm+Sm.toUpperCase()+GE},K6=(t=16,e=BA.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Y6(t){return!!(t&&on(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const X6=t=>{const e=new Array(10),r=(n,i)=>{if(qh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Sl(n)?[]:{};return Zc(n,(a,s)=>{const l=r(a,i+1);!Cc(l)&&(o[s]=l)}),e[i]=void 0,o}}return n};return r(t,0)},J6=ii("AsyncFunction"),Q6=t=>t&&(qh(t)||on(t))&&on(t.then)&&on(t.catch),K={isArray:Sl,isArrayBuffer:DA,isBuffer:w6,isFormData:M6,isArrayBufferView:S6,isString:x6,isNumber:RA,isBoolean:E6,isObject:qh,isPlainObject:Sd,isUndefined:Cc,isDate:C6,isFile:k6,isBlob:T6,isRegExp:$6,isFunction:on,isStream:_6,isURLSearchParams:A6,isTypedArray:z6,isFileList:O6,forEach:Zc,merge:_0,extend:R6,trim:D6,stripBOM:P6,inherits:N6,toFlatObject:I6,kindOf:Wh,kindOfTest:ii,endsWith:L6,toArray:B6,forEachEntry:F6,matchAll:j6,isHTMLForm:H6,hasOwnProperty:WE,hasOwnProp:WE,reduceDescriptors:LA,freezeMethods:V6,toObjectSet:W6,toCamelCase:U6,noop:G6,toFiniteNumber:q6,findKey:PA,global:NA,isContextDefined:IA,ALPHABET:BA,generateString:K6,isSpecCompliantForm:Y6,toJSONObject:X6,isAsyncFn:J6,isThenable:Q6};function We(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}K.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zA=We.prototype,FA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FA[t]={value:t}});Object.defineProperties(We,FA);Object.defineProperty(zA,"isAxiosError",{value:!0});We.from=(t,e,r,n,i,o)=>{const a=Object.create(zA);return K.toFlatObject(t,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),We.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const Z6=null;function M0(t){return K.isPlainObject(t)||K.isArray(t)}function jA(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function qE(t,e,r){return t?t.concat(e).map(function(i,o){return i=jA(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function eH(t){return K.isArray(t)&&!t.some(M0)}const tH=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Kh(t,e,r){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!K.isUndefined(m[g])});const n=r.metaTokens,i=r.visitor||c,o=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(K.isDate(h))return h.toISOString();if(!l&&K.isBlob(h))throw new We("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(h)||K.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,g,m){let v=h;if(h&&!m&&typeof h=="object"){if(K.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(K.isArray(h)&&eH(h)||(K.isFileList(h)||K.endsWith(g,"[]"))&&(v=K.toArray(h)))return g=jA(g),v.forEach(function(w,y){!(K.isUndefined(w)||w===null)&&e.append(a===!0?qE([g],y,o):a===null?g:g+"[]",u(w))}),!1}return M0(h)?!0:(e.append(qE(m,g,o),u(h)),!1)}const f=[],d=Object.assign(tH,{defaultVisitor:c,convertValue:u,isVisitable:M0});function p(h,g){if(!K.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),K.forEach(h,function(v,b){(!(K.isUndefined(v)||v===null)&&i.call(e,v,K.isString(b)?b.trim():b,g,d))===!0&&p(v,g?g.concat(b):[b])}),f.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return p(t),e}function KE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function gb(t,e){this._pairs=[],t&&Kh(t,this,e)}const HA=gb.prototype;HA.append=function(e,r){this._pairs.push([e,r])};HA.toString=function(e){const r=e?function(n){return e.call(this,n,KE)}:KE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function rH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UA(t,e,r){if(!e)return t;const n=r&&r.encode||rH,i=r&&r.serialize;let o;if(i?o=i(e,r):o=K.isURLSearchParams(e)?e.toString():new gb(e,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class nH{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(n){n!==null&&e(n)})}}const YE=nH,$A={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iH=typeof URLSearchParams<"u"?URLSearchParams:gb,oH=typeof FormData<"u"?FormData:null,aH=typeof Blob<"u"?Blob:null,sH=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),lH=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Wn={isBrowser:!0,classes:{URLSearchParams:iH,FormData:oH,Blob:aH},isStandardBrowserEnv:sH,isStandardBrowserWebWorkerEnv:lH,protocols:["http","https","file","blob","url","data"]};function uH(t,e){return Kh(t,new Wn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Wn.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cH(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fH(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function VA(t){function e(r,n,i,o){let a=r[o++];const s=Number.isFinite(+a),l=o>=r.length;return a=!a&&K.isArray(i)?i.length:a,l?(K.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):((!i[a]||!K.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&K.isArray(i[a])&&(i[a]=fH(i[a])),!s)}if(K.isFormData(t)&&K.isFunction(t.entries)){const r={};return K.forEachEntry(t,(n,i)=>{e(cH(n),i,r,0)}),r}return null}const dH={"Content-Type":void 0};function pH(t,e,r){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Yh={transitional:$A,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return i&&i?JSON.stringify(VA(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return uH(e,this.formSerializer).toString();if((s=K.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kh(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),pH(e)):e}],transformResponse:[function(e){const r=this.transitional||Yh.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&K.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?We.from(s,We.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wn.classes.FormData,Blob:Wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],function(e){Yh.headers[e]={}});K.forEach(["post","put","patch"],function(e){Yh.headers[e]=K.merge(dH)});const mb=Yh,hH=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gH=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&hH[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},XE=Symbol("internals");function Yl(t){return t&&String(t).trim().toLowerCase()}function xd(t){return t===!1||t==null?t:K.isArray(t)?t.map(xd):String(t)}function mH(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const vH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xm(t,e,r,n,i){if(K.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!K.isString(e)){if(K.isString(n))return e.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(e)}}function yH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function bH(t,e){const r=K.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}class Xh{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(s,l,u){const c=Yl(l);if(!c)throw new Error("header name must be a non-empty string");const f=K.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=xd(s))}const a=(s,l)=>K.forEach(s,(u,c)=>o(u,c,l));return K.isPlainObject(e)||e instanceof this.constructor?a(e,r):K.isString(e)&&(e=e.trim())&&!vH(e)?a(gH(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Yl(e),e){const n=K.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return mH(i);if(K.isFunction(r))return r.call(this,i,n);if(K.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Yl(e),e){const n=K.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||xm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(a){if(a=Yl(a),a){const s=K.findKey(n,a);s&&(!r||xm(n,n[s],s,r))&&(delete n[s],i=!0)}}return K.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||xm(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return K.forEach(this,(i,o)=>{const a=K.findKey(n,o);if(a){r[a]=xd(i),delete r[o];return}const s=e?yH(o):String(o).trim();s!==o&&delete r[o],r[s]=xd(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return K.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[XE]=this[XE]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=Yl(a);n[s]||(bH(i,a),n[s]=!0)}return K.isArray(e)?e.forEach(o):o(e),this}}Xh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.freezeMethods(Xh.prototype);K.freezeMethods(Xh);const Si=Xh;function Em(t,e){const r=this||mb,n=e||r,i=Si.from(n.headers);let o=n.data;return K.forEach(t,function(s){o=s.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function WA(t){return!!(t&&t.__CANCEL__)}function ef(t,e,r){We.call(this,t??"canceled",We.ERR_CANCELED,e,r),this.name="CanceledError"}K.inherits(ef,We,{__CANCEL__:!0});function wH(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new We("Request failed with status code "+r.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const SH=Wn.isStandardBrowserEnv?function(){return{write:function(r,n,i,o,a,s){const l=[];l.push(r+"="+encodeURIComponent(n)),K.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),K.isString(o)&&l.push("path="+o),K.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function xH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function EH(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function GA(t,e){return t&&!xH(e)?EH(t,e):e}const CH=Wn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const s=K.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function kH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TH(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[o];a||(a=u),r[i]=l,n[i]=u;let f=o,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-a<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function JE(t,e){let r=0;const n=TH(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,l=n(s),u=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const OH=typeof XMLHttpRequest<"u",_H=OH&&function(t){return new Promise(function(r,n){let i=t.data;const o=Si.from(t.headers).normalize(),a=t.responseType;let s;function l(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}K.isFormData(i)&&(Wn.isStandardBrowserEnv||Wn.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(p+":"+h))}const c=GA(t.baseURL,t.url);u.open(t.method.toUpperCase(),UA(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const p=Si.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};wH(function(v){r(v),l()},function(v){n(v),l()},g),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(n(new We("Request aborted",We.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new We("Network Error",We.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||$A;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),n(new We(h,g.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,u)),u=null},Wn.isStandardBrowserEnv){const p=(t.withCredentials||CH(c))&&t.xsrfCookieName&&SH.read(t.xsrfCookieName);p&&o.set(t.xsrfHeaderName,p)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&K.forEach(o.toJSON(),function(h,g){u.setRequestHeader(g,h)}),K.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",JE(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",JE(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=p=>{u&&(n(!p||p.type?new ef(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const d=kH(c);if(d&&Wn.protocols.indexOf(d)===-1){n(new We("Unsupported protocol "+d+":",We.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Ed={http:Z6,xhr:_H};K.forEach(Ed,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const MH={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=K.isString(r)?Ed[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new We(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(K.hasOwnProp(Ed,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!K.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ed};function Cm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ef(null,t)}function QE(t){return Cm(t),t.headers=Si.from(t.headers),t.data=Em.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),MH.getAdapter(t.adapter||mb.adapter)(t).then(function(n){return Cm(t),n.data=Em.call(t,t.transformResponse,n),n.headers=Si.from(n.headers),n},function(n){return WA(n)||(Cm(t),n&&n.response&&(n.response.data=Em.call(t,t.transformResponse,n.response),n.response.headers=Si.from(n.response.headers))),Promise.reject(n)})}const ZE=t=>t instanceof Si?t.toJSON():t;function Ys(t,e){e=e||{};const r={};function n(u,c,f){return K.isPlainObject(u)&&K.isPlainObject(c)?K.merge.call({caseless:f},u,c):K.isPlainObject(c)?K.merge({},c):K.isArray(c)?c.slice():c}function i(u,c,f){if(K.isUndefined(c)){if(!K.isUndefined(u))return n(void 0,u,f)}else return n(u,c,f)}function o(u,c){if(!K.isUndefined(c))return n(void 0,c)}function a(u,c){if(K.isUndefined(c)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,f){if(f in e)return n(u,c);if(f in t)return n(void 0,u)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c)=>i(ZE(u),ZE(c),!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,d=f(t[c],e[c],c);K.isUndefined(d)&&f!==s||(r[c]=d)}),r}const qA="1.4.0",vb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vb[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const eC={};vb.transitional=function(e,r,n){function i(o,a){return"[Axios v"+qA+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(e===!1)throw new We(i(a," has been removed"+(r?" in "+r:"")),We.ERR_DEPRECATED);return r&&!eC[a]&&(eC[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,s):!0}};function AH(t,e,r){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new We("option "+o+" must be "+l,We.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new We("Unknown option "+o,We.ERR_BAD_OPTION)}}const A0={assertOptions:AH,validators:vb},Pi=A0.validators;class yp{constructor(e){this.defaults=e,this.interceptors={request:new YE,response:new YE}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ys(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&A0.assertOptions(n,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(K.isFunction(i)?r.paramsSerializer={serialize:i}:A0.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a;a=o&&K.merge(o.common,o[r.method]),a&&K.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),r.headers=Si.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!l){const h=[QE.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,u),d=h.length,c=Promise.resolve(r);f<d;)c=c.then(h[f++],h[f++]);return c}d=s.length;let p=r;for(f=0;f<d;){const h=s[f++],g=s[f++];try{p=h(p)}catch(m){g.call(this,m);break}}try{c=QE.call(this,p)}catch(h){return Promise.reject(h)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Ys(this.defaults,e);const r=GA(e.baseURL,e.url);return UA(r,e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){yp.prototype[e]=function(r,n){return this.request(Ys(n||{},{method:e,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,s){return this.request(Ys(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}yp.prototype[e]=r(),yp.prototype[e+"Form"]=r(!0)});const Cd=yp;class yb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,s){n.reason||(n.reason=new ef(o,a,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new yb(function(i){e=i}),cancel:e}}}const DH=yb;function RH(t){return function(r){return t.apply(null,r)}}function PH(t){return K.isObject(t)&&t.isAxiosError===!0}const D0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(D0).forEach(([t,e])=>{D0[e]=t});const NH=D0;function KA(t){const e=new Cd(t),r=AA(Cd.prototype.request,e);return K.extend(r,Cd.prototype,e,{allOwnKeys:!0}),K.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return KA(Ys(t,i))},r}const Lt=KA(mb);Lt.Axios=Cd;Lt.CanceledError=ef;Lt.CancelToken=DH;Lt.isCancel=WA;Lt.VERSION=qA;Lt.toFormData=Kh;Lt.AxiosError=We;Lt.Cancel=Lt.CanceledError;Lt.all=function(e){return Promise.all(e)};Lt.spread=RH;Lt.isAxiosError=PH;Lt.mergeConfig=Ys;Lt.AxiosHeaders=Si;Lt.formToJSON=t=>VA(K.isHTMLForm(t)?new FormData(t):t);Lt.HttpStatusCode=NH;Lt.default=Lt;const bp=Lt;var YA={};(function(t){t.defaults={},t.set=function(e,r,n){var i=n||{},o=t.defaults,a=i.expires||o.expires,s=i.domain||o.domain,l=i.path!==void 0?i.path:o.path!==void 0?o.path:"/",u=i.secure!==void 0?i.secure:o.secure,c=i.httponly!==void 0?i.httponly:o.httponly,f=i.samesite!==void 0?i.samesite:o.samesite,d=a?new Date(typeof a=="number"?new Date().getTime()+a*864e5:a):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(d&&d.getTime()>=0?";expires="+d.toUTCString():"")+(s?";domain="+s:"")+(l?";path="+l:"")+(u?";secure":"")+(c?";httponly":"")+(f?";samesite="+f:"")},t.get=function(e){for(var r=document.cookie.split(";");r.length;){var n=r.pop(),i=n.indexOf("=");i=i<0?n.length:i;var o=decodeURIComponent(n.slice(0,i).replace(/^\s+/,""));if(o===e)return decodeURIComponent(n.slice(i+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},r=document.cookie.split(";");r.length;){var n=r.pop(),i=n.indexOf("=");i=i<0?n.length:i;var o=decodeURIComponent(n.slice(0,i).replace(/^\s+/,""));e[o]=decodeURIComponent(n.slice(i+1))}return e}})(YA);const An=cl(YA),XA="3.7.7",IH=XA,xl=typeof Buffer=="function",tC=typeof TextDecoder=="function"?new TextDecoder:void 0,rC=typeof TextEncoder=="function"?new TextEncoder:void 0,LH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",pu=Array.prototype.slice.call(LH),Nf=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(pu),BH=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Jt=String.fromCharCode.bind(String),nC=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),JA=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),QA=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),ZA=t=>{let e,r,n,i,o="";const a=t.length%3;for(let s=0;s<t.length;){if((r=t.charCodeAt(s++))>255||(n=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=pu[e>>18&63]+pu[e>>12&63]+pu[e>>6&63]+pu[e&63]}return a?o.slice(0,a-3)+"===".substring(a):o},bb=typeof btoa=="function"?t=>btoa(t):xl?t=>Buffer.from(t,"binary").toString("base64"):ZA,R0=xl?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Jt.apply(null,t.subarray(n,n+4096)));return bb(r.join(""))},kd=(t,e=!1)=>e?JA(R0(t)):R0(t),zH=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Jt(192|e>>>6)+Jt(128|e&63):Jt(224|e>>>12&15)+Jt(128|e>>>6&63)+Jt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Jt(240|e>>>18&7)+Jt(128|e>>>12&63)+Jt(128|e>>>6&63)+Jt(128|e&63)}},FH=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,eD=t=>t.replace(FH,zH),iC=xl?t=>Buffer.from(t,"utf8").toString("base64"):rC?t=>R0(rC.encode(t)):t=>bb(eD(t)),As=(t,e=!1)=>e?JA(iC(t)):iC(t),oC=t=>As(t,!0),jH=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,HH=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Jt((r>>>10)+55296)+Jt((r&1023)+56320);case 3:return Jt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Jt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},tD=t=>t.replace(jH,HH),rD=t=>{if(t=t.replace(/\s+/g,""),!BH.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=Nf[t.charAt(o++)]<<18|Nf[t.charAt(o++)]<<12|(n=Nf[t.charAt(o++)])<<6|(i=Nf[t.charAt(o++)]),r+=n===64?Jt(e>>16&255):i===64?Jt(e>>16&255,e>>8&255):Jt(e>>16&255,e>>8&255,e&255);return r},wb=typeof atob=="function"?t=>atob(QA(t)):xl?t=>Buffer.from(t,"base64").toString("binary"):rD,nD=xl?t=>nC(Buffer.from(t,"base64")):t=>nC(wb(t).split("").map(e=>e.charCodeAt(0))),iD=t=>nD(oD(t)),UH=xl?t=>Buffer.from(t,"base64").toString("utf8"):tC?t=>tC.decode(nD(t)):t=>tD(wb(t)),oD=t=>QA(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),P0=t=>UH(oD(t)),$H=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},aD=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),sD=function(){const t=(e,r)=>Object.defineProperty(String.prototype,e,aD(r));t("fromBase64",function(){return P0(this)}),t("toBase64",function(e){return As(this,e)}),t("toBase64URI",function(){return As(this,!0)}),t("toBase64URL",function(){return As(this,!0)}),t("toUint8Array",function(){return iD(this)})},lD=function(){const t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,aD(r));t("toBase64",function(e){return kd(this,e)}),t("toBase64URI",function(){return kd(this,!0)}),t("toBase64URL",function(){return kd(this,!0)})},VH=()=>{sD(),lD()},WH={version:XA,VERSION:IH,atob:wb,atobPolyfill:rD,btoa:bb,btoaPolyfill:ZA,fromBase64:P0,toBase64:As,encode:As,encodeURI:oC,encodeURL:oC,utob:eD,btou:tD,decode:P0,isValid:$H,fromUint8Array:kd,toUint8Array:iD,extendString:sD,extendUint8Array:lD,extendBuiltins:VH},uD="token";var Gn=(t=>(t.USER_INFO="user_info",t.UTM="utm",t.STRIP_PACKAGE="Strip_Package_Key",t.PRICE_TYPE="price_type",t.INSTALL_UTM="install_utm",t.STRIPE_CHECKED_SESSION_ID="stripe_checked_session_id",t))(Gn||{});const cD=typeof{VITE_READIT_DRAFT_API:"https://drafts-api2.immersivetranslate.com",VITE_TELEGRAM_TITLE:"imt",VITE_READIT_URL:"https://readit.site",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}<"u";typeof process>"u"&&(window.process={});var kT,TT;const GH=cD?{}.VITE_PROD_API:((kT=process==null?void 0:process.env)==null?void 0:kT.VITE_PROD_API)||((TT=process==null?void 0:process.env)==null?void 0:TT.NEXT_PUBLIC_PROD_API),ya=GH!=="0";var OT;cD?{}.VITE_FB_APP_ID:(OT=process==null?void 0:process.env)==null||OT.NEXT_PUBLIC_FB_APP_ID;const Jh="immersive-translate",qH="immersiveTranslate",zr="immersivetranslate.com",KH=ya?`https://api2.${zr}`:`https://test-api2.${zr}`,YH=ya?`https://worker.${zr}`:`https://test-worker.${zr}`,XH=ya?"pk_live_51J52ioGc8iUjvqOFjBADyCvVgD7OwQ9219C4v9IzwnQxx3aGarql9cCTRmrDQUvfmIC0rB51KFaYxiMCqfVYhBF6007vIZdu2t":"pk_test_51J52ioGc8iUjvqOFgugQR0piFNsl17qiKvUIaqJ4lX4MQCHJ6yxLpwJZ8lQIIWbfJmUEJMk4Mm0dUkSdeCBw2l7g00ht8o181v",JH=ya?"HROQ52e8":"WCrVaBaE",QH=ya?"TQSAUYPT":"QXt34wUH",ZH=["7b599327-888d-463f-97a8-7e7af4b21f80","9106ca23-9fc2-40fb-a1fa-6ad5898d616b","f6012074-1816-48ce-9262-c1bc1220c1b8","ae73c9e2-d551-43c1-9636-f3f3cceb9dd3","34f4aaef-c9ef-4938-8835-9b00a869ac19","bdf02935-8c4b-4cf9-8ade-e29aa45cd712","b0415b5c-4e18-41d6-b5af-1465589c6c9d","c3d82c24-a572-4b95-900d-a252affa957d","f5a04d15-7615-402a-a5ef-ce8e620fed25","2a00626e-4400-49da-ab50-b78edc8cff35","82f349ee-bef0-47e5-bea3-bd43cfe8b3fd","a6f51489-80de-497a-8e59-e3cde0557718","c6030c9c-771e-455a-9312-b37ab7ab2c77","dba29051-e787-4160-951f-219636c14a50","03510067-e3f8-4447-8583-e353d2ab6b83","0c9ebfbd-09e4-4c9d-94ae-6f7f6a0f91e3","1919b244-5fa5-4d29-8bd7-6669dacae01a","5cbaf85b-fb39-4fed-8db7-af5883a021bf","7df0fa43-cff9-4994-9fc3-91e8d1296dc5","a8050d4c-b9b3-4316-988f-84c108bb863f","afb6311a-53d3-4794-9c17-1aa02c9de813","ce01e882-b822-4742-91c3-28bf75f3cd08","f04b9dab-fa32-4096-a39c-206f39b07b07","f929ca95-e0c4-49c5-abfd-5af15eb6fa92","fec4d171-2a46-4a05-a06d-5a6c04cddd01"];var aC=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},eU=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),tU=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),rU=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),nU=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),iU=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oU=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aU=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,sC=3,sU=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oU]],lC=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fD(t){return t?uC(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new iU:typeof navigator<"u"?uC(navigator.userAgent):cU()}function lU(t){return t!==""&&sU.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function uC(t){var e=lU(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new nU;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<sC&&(i=aC(aC([],i,!0),fU(sC-i.length),!0)):i=[];var o=i.join("."),a=uU(t),s=aU.exec(t);return s&&s[1]?new rU(r,o,a,s[1]):new eU(r,o,a)}function uU(t){for(var e=0,r=lC.length;e<r;e++){var n=lC[e],i=n[0],o=n[1],a=o.exec(t);if(a)return i}return null}function cU(){var t=typeof process<"u"&&process.version;return t?new tU(process.version.slice(1)):null}function fU(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}class dU extends Error{constructor(r,n){super(r);ui(this,"status");this.name="RequestError",this.status=n}}class pU{constructor(){ui(this,"baseUrl",KH)}setBaseUrl(e){this.baseUrl=e}post(e,r){return this.request(e,"POST",r)}get(e,r){return this.request(e,"GET",r)}delete(e,r){return this.request(e,"DELETE",r)}request(e,r,n){const i=El();let o=`${this.baseUrl}${e}`;e.startsWith("http")&&(o=e);const a={method:r,url:o,headers:{token:i}};return r==="POST"||r==="PUT"?a.data=n:a.params=n,bp(a).then(s=>s.data).catch(s=>{if(console.error(s),!s.response)return Promise.reject(s);if(s.response.status===401||s.response.status===403)throw Qh(""),Sb(null),n!=null&&n.noAuth||(window.location.href="/accounts/login?return_url="+window.location.href),new Error(s.response.data.error);if(s.response.status===404)throw new dU(s.response.data.error,404);return s.response.data&&(s.message=s.response.data.error),Promise.reject(s)})}}const hU=0,gU=[{goodsSource:"stripe",priceID:"price_1NdkdHGc8iUjvqOFb89wRSux",quantity:1,subscriptionDay:7,subscriptionType:"onetime_7day",extendData:"{}",enableTrial:!1,trialPeriodDays:0,operator:null,updateTime:"2024-06-12T09:23:59.914463",createTime:"2023-08-14T15:33:41.79625",isDeleted:null,dataVersion:null,id:5},{goodsSource:"stripe",priceID:"price_1PdqEuGc8iUjvqOFztxxzsrh",quantity:1,subscriptionDay:31,subscriptionType:"monthly",extendData:'{"groups": ["default", "year_discount_7_month_trial_3"] }',enableTrial:!0,trialPeriodDays:3,operator:null,updateTime:"2024-08-16T06:56:03.513583",createTime:"2024-07-18T09:22:49.79429",isDeleted:null,dataVersion:null,id:22},{goodsSource:"stripe",priceID:"price_1OeIpgGc8iUjvqOFyLnU4MeM",quantity:1,subscriptionDay:31,subscriptionType:"monthly",extendData:'{"groups": ["year_discount_7_year_trial_3"] }',enableTrial:!1,trialPeriodDays:0,operator:null,updateTime:"2024-08-16T06:54:30.40446",createTime:"2023-08-14T15:32:29.840959",isDeleted:null,dataVersion:null,id:4},{goodsSource:"stripe",priceID:"price_1Po1DdGc8iUjvqOFEvsqkNvr",quantity:1,subscriptionDay:365,subscriptionType:"yearly",extendData:'{"groups": ["year_discount_7_year_trial_3"] }',enableTrial:!0,trialPeriodDays:3,operator:null,updateTime:"2024-08-16T08:19:59.942711",createTime:"2024-08-15T10:50:46.107288",isDeleted:null,dataVersion:null,id:29},{goodsSource:"stripe",priceID:"price_1Po151Gc8iUjvqOFFFvBFGoX",quantity:1,subscriptionDay:365,subscriptionType:"yearly",extendData:'{"groups": ["year_discount_7_month_trial_3"] }',enableTrial:null,trialPeriodDays:null,operator:null,updateTime:"2024-08-16T08:19:47.528292",createTime:"2024-08-15T10:49:06.209438",isDeleted:null,dataVersion:null,id:28},{goodsSource:"stripe",priceID:"price_1OeJLSGc8iUjvqOFuCUWAO8j",quantity:1,subscriptionDay:365,subscriptionType:"yearly",extendData:'{"groups": ["default"] }',enableTrial:!1,trialPeriodDays:1,operator:null,updateTime:"2024-08-16T06:55:28.554257",createTime:"2023-08-15T04:38:35.676521",isDeleted:null,dataVersion:null,id:7}],km={code:hU,data:gU},mU=0,vU=[{goodsSource:"stripe",priceID:"price_1OvyPfGc8iUjvqOF3xbu0n2y",amount:69,quantity:1,subscriptionDay:0,subscriptionType:"package_mathpix_500",openAITokenQuota:0,deepLCharacterQuota:0,mathPixQuota:500,goodsStatus:"offline",enableTrial:null,trialPeriodDays:null,trialOpenAITokenQuota:null,trialDeepLCharacterQuota:null,trialMathPixQuota:null,extendData:"{}",goodsName:"mathpix 流量包",comicsPageQuota:0,trialComicsPageQuota:null,operator:"theowenyoung",updateTime:"2024-06-12T09:41:01.011154",createTime:"2024-03-19T08:58:44.902526",isDeleted:!1,dataVersion:2,id:17},{goodsSource:"stripe",priceID:"price_1Nt2jHGc8iUjvqOFLGu0uj3G",amount:69,quantity:1,subscriptionDay:0,subscriptionType:"package_deepl_500w",openAITokenQuota:0,deepLCharacterQuota:5e6,mathPixQuota:0,goodsStatus:"offline",enableTrial:null,trialPeriodDays:null,trialOpenAITokenQuota:null,trialDeepLCharacterQuota:null,trialMathPixQuota:null,extendData:"{}",goodsName:"deepl 500万 流量包",comicsPageQuota:0,trialComicsPageQuota:null,operator:"api_user",updateTime:"2024-06-12T09:40:53.577691",createTime:"2023-09-22T06:22:57.087329",isDeleted:!1,dataVersion:6,id:10},{goodsSource:"stripe",priceID:"price_1Nt2iKGc8iUjvqOFQNHJ8YgF",amount:69,quantity:1,subscriptionDay:0,subscriptionType:"package_open_ai_500w",openAITokenQuota:5e6,deepLCharacterQuota:0,mathPixQuota:0,goodsStatus:"offline",enableTrial:null,trialPeriodDays:null,trialOpenAITokenQuota:null,trialDeepLCharacterQuota:null,trialMathPixQuota:null,extendData:"{}",goodsName:"openai 流量包",comicsPageQuota:0,trialComicsPageQuota:null,operator:"api_user",updateTime:"2024-06-12T09:40:35.87077",createTime:"2023-09-22T06:23:43.981368",isDeleted:!1,dataVersion:5,id:11},{goodsSource:"stripe",priceID:"price_1PQnJJGc8iUjvqOFkAWDhw9T",amount:69,quantity:1,subscriptionDay:0,subscriptionType:"package_comics_1000",openAITokenQuota:0,deepLCharacterQuota:0,mathPixQuota:0,goodsStatus:"offline",enableTrial:null,trialPeriodDays:null,trialOpenAITokenQuota:null,trialDeepLCharacterQuota:null,trialMathPixQuota:null,extendData:"{}",goodsName:"漫画翻译流量包",comicsPageQuota:1e3,trialComicsPageQuota:null,operator:"theowenyoung",updateTime:"2024-06-12T09:21:04.219261",createTime:"2024-06-12T09:21:04.216853",isDeleted:!1,dataVersion:0,id:19}],Tm={code:mU,data:vU},yU=["zh-CN","zh-TW","en"];class bU extends pU{async createOrder(e,r,n){var l;const i=window.navigator.userLanguage||window.navigator.language||"zh-CN";yU.includes(i)?e.locale=i:i==="zh-Hant"||i==="zh-HK"?e.locale="zh-TW":(i.includes("zh")||i.includes("cn"))&&(e.locale="zh-CN"),e.locale||(e.locale="zh-CN"),e.startTrial||delete e.locale;const o=xU();e.isCanUseReferralCoupon&&o?e.coupon=o:e.isCanUseReferralCoupon&&typeof window.Rewardful!==void 0&&window.Rewardful&&window.Rewardful.referral&&window.Rewardful.affiliate&&(e={...wU(window.Rewardful.referral,((l=window.Rewardful.affiliate)==null?void 0:l.id)||""),...e});const a=await hD({orderFrom:r});let s="/v1/user/subs-checkout-sessions";return n&&(s="/v1/user/subs-checkout-sessions-v2"),e.actName&&(s="/v1/user/subs-checkout-sessions-for-coupon-act",e.actName=e.actName),this.post(s,Object.assign({},a,e)).then(u=>u.data).catch(u=>{throw dD(),u})}getOrders(e){return this.get("/v1/user/subs-orders",e).then(r=>r.data)}getUserBillUrl(e){return this.get("/v1/user/billing-portal-session-url",{returnUrl:e}).then(r=>r.data)}getInvoiceUrl(e){return this.get("/v1/user-subscription/invoice-url",{invoiceId:e}).then(r=>r.data)}async getUpgradeYearlyBill(e,r){var i,o,a;let n=e;if(!n){const s=await this.getGoodsWithIp({});n=(o=(i=s==null?void 0:s.entities)==null?void 0:i.year)==null?void 0:o.priceId}if(n){let s="/v1/user-subscription/upcoming?priceId="+n;r&&(s=`/v1/user-subscription/upcoming-coupon-act?priceId=${n}&actName=${r}`);const l=await this.post(s,{}).then(p=>p.data),u=await this.getGoodsWithIp({currency:l.currency}),c=(a=u==null?void 0:u.entities)==null?void 0:a.month,f=c==null?void 0:c.unitAmount,d=c==null?void 0:c.currency;if(l.currency===d)l.originalUnitAmount=f*12;else throw new Error(`抱歉，当前已不支持使用 ${l.currency} 付款，您可以在到期之后重新订阅会员`);return l.priceId=n,l}else throw new Error("获取订阅产品列表失败")}async upgradeToYearly(e){return await this.post("/v1/user-subscription/upgrade?priceId="+e,{}).then(n=>n.data)}async upgradeToYearlyWithEndTrial(e,r){let n="/v1/user-subscription/one-click-upgrade?priceId="+e;return r&&(n=`/v1/user-subscription/coupon-act-upgrade?priceId=${e}&actName=${r}`),await this.post(n,{}).then(o=>o.data)}async getQuotaPackage(){let e;try{ya&&(e=Tm==null?void 0:Tm.data)}catch(r){console.error(r)}return e||(e=await this.get("/v1/package-goods/list").then(r=>r.data)),e}async getGoodsWithIp(e){const r=new URL(YH+"/goods");return e.lang&&r.searchParams.set("lang",e.lang),e.currency&&r.searchParams.set("currency",e.currency),e.group?r.searchParams.set("group",`${e.group}`):r.searchParams.set("group",ED),e.draft&&r.searchParams.set("draft",`${e.draft}`),await this.get(r.toString())}async getTrialedProducts(){return this.get("/v1/user/get-trial-product-id",{noAuth:!0}).then(e=>e.data)}async getGoods(){let e;try{ya&&(e=km==null?void 0:km.data)}catch(i){console.error(i)}e||(e=await this.get("/v1/subs-goods/list").then(i=>i.data));const r={trial:"",month:"",year:""},n={onetime_7day:null,monthly:null,yearly:null};if(e&&Array.isArray(e)){for(const i of e)n[i.subscriptionType]=i.priceID;return n.monthly&&(r.trial=n.monthly,r.month=n.monthly),n.yearly&&(r.year=n.yearly),r}else throw new Error("获取订阅产品列表失败")}redeemCode(e){return this.post(`/v1/subs-redemption-code/${e}`,{}).then(r=>r.data)}upgradeTrial(){return this.post("/v1/user-subscription/close-trial",{}).then(e=>e.data)}getMangaEventPro(e){const r=El();return!r||r.length,this.post(`/v1/comics/manga-act/?actCampaign=${e}`,{token:r}).then(n=>n.data)}getMangaEventInfo(){return this.get("/v1/comics/manga-act-info?actCampaign=freeMangaAct").then(e=>e.data)}getPaymentDetails(){return this.get("/v1/user-subscription/price-info").then(e=>e.data)}checkSubscriptionStatus(e){return this.get(`/v1/user/subs-session-status/${e}?session_id=${e}`).then(r=>r.data)}applyCouponAct(e){return this.post(`/v1/user-subscription/pay-with-coupon-next-period?actName=${e}`,{}).then(r=>r.data)}}function wU(t,e){let r={};return t&&(r.referral=t,ZH.includes(e||"")?r.coupon=JH:r.coupon=QH),r}const SU=new bU;function xU(){try{const t=localStorage.getItem("immersive_translate_coupon_code");if(!t)return null;const e=JSON.parse(t);return Date.now()/1e3>e.until||!e.code?(dD(),null):e.code}catch(t){return console.error(t),null}}function dD(){localStorage.removeItem("immersive_translate_coupon_code")}function EU(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function Sb(t){localStorage.setItem(Gn.USER_INFO,JSON.stringify(t))}function xb(){try{const t=localStorage.getItem(Gn.USER_INFO)||"";return JSON.parse(t)}catch{return null}}function El(){return An.get(`${Eb()}${uD}`)}function CU(){return Qh("")}function Qh(t){An.set(`${Eb()}${uD}`,t,{domain:"."+zr,path:"/",expires:365})}function Eb(){return"immersive_translate_"}async function Cb(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function kU(t){const e=xb();if(!El()||!e){const n=new URL("/accounts/login",window.location.href);t&&n.searchParams.set("return_url",t);const i=n.toString();return window.location.href=i,null}return e}function TU(){const t=location.search;if(t){const e=new URLSearchParams(t),r=e.get("utm_source"),n=e.get("utm_medium"),i=e.get("utm_campaign");if(!r||!n||!i)return;localStorage.setItem(Gn.UTM,JSON.stringify({update_time:Date.now(),utm_source:r,utm_medium:n,utm_campaign:i}))}}function pD(t){let e=location.hostname;location.host.match(zr)&&(e="."+zr),An.set(Gn.INSTALL_UTM,JSON.stringify(t),{domain:e,path:"/",expires:365})}function OU(){try{const t=An.get(Gn.INSTALL_UTM);return t?JSON.parse(t):null}catch{return null}}function _U(){if(!(xD()||SD()))return;const e=new URLSearchParams(window.location.search),r=e.get("utm_source"),n=e.get("utm_medium"),i=e.get("utm_campaign");(r||n||i)&&pD({utmCampaign:i||"",utmMedium:n||"",utmSource:r||""})}let cC=0;async function kb(){try{if(cC>10)return null;cC++;const t=document.querySelector(`meta[name='${Jh}-meta']`);if(!t)return new Promise(r=>setTimeout(()=>{r(kb())},100));const e=WH.decode((t==null?void 0:t.content)||"");return JSON.parse(e)}catch{return null}}async function hD(t){const e={platform:yD(),browser:vD(),browserUserAgent:navigator.userAgent},r=await kb();r&&(e.deviceId=r.deviceId,e.appVersion=r.version,e.installTime=r.installedAt,e.installChannel=r.installFrom,e.interfaceLang=r.interfaceLang,e.targetLanguage=r.targetLang);const{utmCampaign:n,utmMedium:i,utmSource:o}=bD();o&&(e.utmSource=o),i&&(e.utmMedium=i),n&&(e.utmCampaign=n);const a=xb();a&&(e.lastLoginTime=a.lastLoginTime,e.userCreateTime=a.createTime);const s=wD({...r,...t});return s&&(e.extendData=JSON.stringify(s)),s!=null&&s.abField&&(e.abField=s.abField),e}async function MU(){var r,n,i;let t,e;try{const o=await SU.getPaymentDetails();t=Number(o.amountPaid)/100,e=(r=o.currency)==null?void 0:r.toUpperCase()}catch(o){console.error(o)}try{const o=localStorage.getItem(Gn.UTM),a=localStorage.getItem(Gn.PRICE_TYPE);if(o){const s=JSON.parse(o),{utm_source:l,utm_medium:u,utm_campaign:c,update_time:f}=s;if(Date.now()-f>60*60*1e3)return null;l&&u&&c&&((n=window.dataLayer)==null||n.push({event:"utm_purchase",utm_source:l,utm_medium:u,utm_campaign:c,price_type:a,amountPaid:t,currency:e}))}else a&&((i=window.dataLayer)==null||i.push({event:"utm_purchase",utm_source:"official",utm_medium:"official",utm_campaign:"official",price_type:a,amountPaid:t,currency:e}))}catch(o){console.error(o)}finally{localStorage.removeItem(Gn.PRICE_TYPE),localStorage.removeItem(Gn.UTM)}return null}let If=0;async function Tb(t=30){const e=document.querySelector(`meta[name='${Jh}-version']`);return e?(If=0,e.getAttribute("content")||""):If>t?(If=0,""):(If++,await Cb(300),await Tb(t))}let Lf=0;async function gD(t=30){const e=document.querySelector(`meta[name='${Jh}-meta']`);return e?(Lf=0,e.getAttribute("content")||""):Lf>t?(Lf=0,""):(Lf++,await Cb(300),await gD(t))}function AU(t){return!!(t&&t.subscription&&t.subscription.subscriptionStatus==="active")}function DU(){return typeof window>"u"?!1:navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}function RU(){var t=navigator.userAgent,e=t.indexOf("Chrome")>-1,r=t.indexOf("Safari")>-1;return e&&r&&(r=!1),r}function PU(){return navigator.userAgent.indexOf("Edg")!==-1}function NU(){var t=navigator.userAgent;return t.indexOf("Firefox")>-1}const IU=["bif","clp","djf","gnf","jpy","kmf","krw","mga","pyg","rwf","ugx","vnd","vuv","xaf","xof","xpf"],LU={usd:"$",eur:"€",gbp:"£",aud:"A$",cad:"C$",jpy:"JPY¥",cny:"¥",inr:"₹",brl:"R$",mxn:"MX$",zar:"R",chf:"CHF",hkd:"HK$",sgd:"S$",krw:"₩",rub:"₽",try:"₺",nzd:"NZ$",sek:"kr",nok:"kr",dkk:"kr",pln:"zł",thb:"฿",idr:"Rp",myr:"RM",php:"₱",czk:"Kč",ils:"₪",twd:"NT$"},fC={jpy:"¥",hkd:"$",twd:"$"};function BU(t,e,r=!0){let n=0;IU.includes(e)?n=t:n=t/100,e||(e="cny");let i=LU[e.toLowerCase()];return r===!1&&fC[e.toLowerCase()]&&(i=fC[e.toLowerCase()]),n%1===0?`${i}${n.toFixed(0)}`:n*10%1===0?`${i}${n.toFixed(1)}`:`${i}${n.toFixed(2)}`}async function zU(){return new Promise(e=>{try{let r=new Image,n=setTimeout(function(){r.onerror=null,r.onload=null,r.src="",e(!1)},2e3);r.onload=function(){clearTimeout(n),e(!0)},r.onerror=function(){clearTimeout(n),e(!1)},r.src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png?now="+Date.now()}catch{return!1}})}async function FU(t){await Tb(20);const e=document.querySelector(`meta[name='${Jh}-version']`),r=(e==null?void 0:e.getAttribute("content"))||"";return r?mD(r,t):!1}function mD(t,e){const r=t.split(".").reverse(),n=e.split(".").reverse();let i=0,o=0,a=1;for(let s=0;s<3;s++)i+=a*Number(n[s]||"0"),o+=a*Number(r[s]||"0"),a*=100;return o>=i}function vD(){const t=fD();return t!=null&&t.name?t.name[0].toUpperCase()+t.name.slice(1):"Other"}function yD(){const t=fD();return t!=null&&t.os?t.os:"Other"}function bD(){const t=new URLSearchParams(window.location.search),e=t.get("utm_source"),r=t.get("utm_medium"),n=t.get("utm_campaign");return{utmSource:e,utmMedium:r,utmCampaign:n}}function wD(t){const r=new URL(window.location.href).searchParams.get("t")||(t==null?void 0:t.userTag),n={};if(r&&(n.abField=r),t!=null&&t.abGroup&&(n.abGroup=t.abGroup),t&&t[Ds]&&(n[Ds]=t[Ds]),t&&t[Rs]&&(n[Rs]=t[Rs]),t!=null&&t.orderFrom&&(n.orderFrom=t.orderFrom),Object.keys(n).length)return n}function tf(){return globalThis.navigator.userAgent}function SD(){return tf().includes("ImtFxiOS")}function jU(){const e=tf().match(/ImtFxiOS\/(\d+\.\d+\.\d+)/);return e?e[1]:null}function xD(){return tf().includes("ImtFxAndroid")}function HU(){const t=tf();return/ImtFxAndroid\/(\d+\.\d+\.\d+)\/google/.test(t)}function UU(){const e=tf().match(/ImtFxAndroid\/(\d+\.\d+\.\d+)/);return e?e[1]:null}const Ds="price_0905_ab_group",Rs="pay_1025_ab_group",$U=["price_0801_ab_group","price_ab_group","price_0816_ab_group","price_0827_ab_group","price_0905_ab_group","pay_0919_ab_group","pay_0926_ab_group","pay_1025_ab_group"],ED="year_discount_7_year_trial_3";function VU(t){let e=location.hostname;location.host.match(zr)&&(e="."+zr),An.set(Ds,t,{domain:e,path:"/",expires:365})}function WU(){try{const t=An.get(Ds);return t||null}catch{return null}}function GU(){return Math.random()>.3?"year_discount_7_month_trial_3":"year_discount_7_year_trial_3"}function qU(t){let e=location.hostname;location.host.match(zr)&&(e="."+zr),An.set(Rs,t,{domain:e,path:"/",expires:365})}function KU(){try{const t=An.get(Rs);return t||null}catch{return null}}function YU(){return Math.random()>.5?"new_tab":"current_tab"}function XU(t){return{1:"200000",3:"500000",7:"500000"}[t]||"200000"}function JU(t){return{1:"200000",3:"500000",7:"500000"}[t]||"200000"}function CD(t,e,r){An.set(t,e,{domain:"."+zr,path:"/",expires:r||365})}async function QU(t){t==="zh-CN"&&(t="zh-Hans"),CD("imt-lang",t,1e3),localStorage.setItem("i18nextLng",t)}function ZU(t){try{let e=location.hostname;location.host.match(zr)&&(e="."+zr),t.forEach(r=>{An.get(r)&&An.set(r,"",{domain:e,path:"/",expires:-1})})}catch{return null}}function e$(t,e){const r=Date.now()/1e3,n=t-r;if(n<=0)return null;const i=Math.floor(n/(24*60*60)),o=Math.floor(n%(24*60*60)/(60*60)),a=Math.floor(n%(60*60)/60),s=Math.floor(n%60);return`${i?`${i}${e("g_account.dayUnit")} `:""}${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}const t$=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_PRICE_GROUP:ED,DELETE_COOKIES:$U,PAY_AB_GROUP_KEY:Rs,PRICE_AB_GROUP_KEY:Ds,changeLanguage:QU,clearBrowserToken:CU,compareVersions:mD,delay:Cb,ensureLogin:kU,formateCountDown:e$,getAndroidAppVersion:UU,getBrowser:vD,getBrowserToken:El,getBrowserUser:xb,getCreateOrderDeviceInfo:hD,getDeviceExtendData:wD,getIOSBrowserAppVersion:jU,getInstallUTM:OU,getLatestUTM:bD,getPayABGroup:KU,getPlatform:yD,getPluginDeviceInfo:kb,getPriceABGroup:WU,getSiteCookiePrefix:Eb,getTrialDeeplQuota:XU,getTrialOpenAIQuota:JU,initImmersiveBrowserUTM:_U,isAndroidBrowserApp:xD,isAndroidGooglePlay:HU,isCanPassWall:zU,isEdge:PU,isFirefox:NU,isIOSBrowserApp:SD,isMobile:DU,isPro:AU,isSafari:RU,isValidVersion:FU,randomPayABGroup:YU,randomPriceABGroup:GU,removeCookies:ZU,restoreGAUtm:MU,saveInstallUTM:pD,savePayABGroup:qU,savePriceABGroup:VU,saveUtm:TU,setBrowserToken:Qh,setBrowserUser:Sb,setCookie:CD,unitAmountToString:BU,validateEmail:EU,waitMetaInjected:gD,waitPluginInjected:Tb},Symbol.toStringTag,{value:"Module"})),r$="https://drafts-api2.immersivetranslate.com",n$="https://readit.site";let Ob;function i$(t){Ob=t}function o$(){return Ob}function xo(){return Ob>=1212?".imt_wrapper":".im_tw"}function a$(){return xo().replace(".","")}let hu;function rf(t=!1){if(t){const e=`${window.location.origin}/accounts/login?skip_plugin_check=1`,r=460,n=640,i=screen.width/2-r/2,o=screen.height/2-n/2;hu=window.open(e,"loginWindow",`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no,left=${i},top=${o},width=${r},height=${n},chrome=yes,centerscreen=yes`)}else window.location.href=`${window.location.origin}/accounts/login?return_url=${encodeURIComponent(window.location.href)}`}window.addEventListener("message",t=>{t.origin===window.location.origin&&t.data&&t.data.email&&(hu==null||hu.close(),hu=null,Dt.success("登录成功，请重新点击分享"))},!1);function kD(){return!!El()}var N0=(t=>(t.DRAFTS="p",t.PREVIEW="a",t))(N0||{});function dC(t,e){return`${n$}/${e}/${t}`}function _b(t,e){let r=t.split("---");o$()<=1213&&(r=r.reverse());const n=(e==null?void 0:e.title.split("---"))||[];if(n.length==2)return{zhTitle:n[0].trim(),enTitle:n[1].trim()};if(r.length==2&&n.length==1){let i="",o="";if(r[0].trim().length<n[0].trim().length?(i=r[0].trim(),o=n[0].trim()):(o=r[0].trim(),i=n[0].trim()),o.indexOf(i)>=0)return{zhTitle:r[0].trim(),enTitle:r[1].trim()}}return{enTitle:(e==null?void 0:e.title)||t,zhTitle:(e==null?void 0:e.title)||t}}function s$(t,e){return t&&t.length>e?t.substring(0,e)+"...":t}function l$(t){const e=t.split(".").reverse();return parseInt(e[0]||"0")+100*parseInt(e[1]||"0")+1e4*parseInt(e[2]||"0")}function u$(t,e,r){const i={value:e,expiry:new Date().getTime()+r};localStorage.setItem(t,JSON.stringify(i))}function c$(t){const e=localStorage.getItem(t);if(!e)return null;const r=JSON.parse(e);return new Date().getTime()>r.expiry?(localStorage.removeItem(t),null):r.value}const pC="BING_ACCESS_TOKEN";class f${constructor(){ui(this,"accessToken",null);this.accessToken=c$(pC),this.tryUpdateAccessToken(this.accessToken)}async translate(e,r){const n=await this.translateList([e],r);if(n.length>0)return n[0];throw new Error("Microsoft translate error ")}async translateList(e,r){const n="",i=await this.tryUpdateAccessToken(null),o=e.map(u=>({Text:u})),a=`https://api-edge.cognitive.microsofttranslator.com/translate?from=${n}&to=${r}&api-version=3.0&includeSentenceLength=true`,l=(await bp({url:a,method:"POST",headers:{accept:"*/*","accept-language":"zh-TW,zh;q=0.9,ja;q=0.8,zh-CN;q=0.7,en-US;q=0.6,en;q=0.5",authorization:"Bearer "+i.accessToken,"cache-control":"no-cache","content-type":"application/json",pragma:"no-cache","sec-ch-ua":'"Microsoft Edge";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","Referrer-Policy":"strict-origin-when-cross-origin","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"},data:o})).data;if(l&&l.length>0&&l[0].translations&&l[0].translations.length>0)return l.map(u=>{var c;return((c=u.translations[0])==null?void 0:c.text)||""});throw new Error("Microsoft translate error "+JSON.stringify(l))}async tryUpdateAccessToken(e){if(e&&e.accessToken&&e.accessTokenExpiresAt){const r=Date.now(),i=new Date(e.accessTokenExpiresAt).getTime();if(i-r>30*1e3)return e;if(i-r>3e3)return this.forceUpdateAccessToken().catch(o=>{console.error(o)}),e}return this.forceUpdateAccessToken()}async forceUpdateAccessToken(){const e=await bp({responseType:"text",url:"https://edge.microsoft.com/translate/auth",method:"GET",headers:{accept:"*/*","accept-language":"zh-TW,zh;q=0.9,ja;q=0.8,zh-CN;q=0.7,en-US;q=0.6,en;q=0.5","cache-control":"no-cache",pragma:"no-cache","sec-ch-ua":'"Microsoft Edge";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","sec-mesh-client-arch":"x86_64","sec-mesh-client-edge-channel":"beta","sec-mesh-client-edge-version":"113.0.1774.23","sec-mesh-client-os":"Windows","sec-mesh-client-os-version":"10.0.19044","sec-mesh-client-webview":"0",Referer:"https://appsumo.com/","Referrer-Policy":"strict-origin-when-cross-origin"}}),r=d$(e.data),n=r.accessTokenExpiresAt,o=new Date(n).getTime()-Date.now();return u$(pC,r,o-1e3),r}}function d$(t){const e=t.split(".");if(e.length<=1)throw new Error("invlaid token");const r=e[1];if(!r)throw new Error("invalid base64 url token");const n=r.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(globalThis.atob(n).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join("")),o=JSON.parse(i),a=new Date(o.exp*1e3);return{accessToken:t,accessTokenExpiresAt:a.toISOString()}}const p$="/drafts-assets/img/close-2d6bf6e2.svg";function TD({children:t,isOpen:e,onClose:r}){return e?X.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 z-50",children:X.jsxs("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex justify-center items-center ",children:[X.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex justify-center items-center bg-black bg-opacity-30",onClick:r}),X.jsxs("div",{className:"p-8 bg-white z-10 rounded-2xl relative",children:[X.jsx("img",{src:p$,className:"absolute right-4 top-4 w-5 h-5 cursor-pointer",onClick:r}),t]})]})}):null}let zu;function h$(){zu==null||zu()}function g$(t){const[e,r]=U.useState(!1),{t:n}=yl();U.useEffect(()=>(zu=()=>{r(!0)},()=>{zu=null}),[]);const i=U.useCallback(()=>{rf(!0),r(!1)},[]);return X.jsx(TD,{isOpen:e,onClose:()=>r(!1),children:X.jsxs("div",{className:"flex flex-col items-center p-4 w-72",children:[X.jsx("div",{className:"text-lg text-gray-800",children:n("tokenInvalid")}),X.jsx("div",{className:"button px-6 mt-6",onClick:i,children:n("login")})]})})}const hC=-99;class Mb{constructor(){ui(this,"instance");this.instance=bp.create({baseURL:r$,timeout:1e4*6}),this.instance.interceptors.request.use(function(e){const r=El();return r&&(e.headers.token=r),e})}async get(e,r,n){return(await this.request("GET",e,r,n)).data}async post(e,r,n){return(await this.request("POST",e,r,n)).data}async put(e,r,n){return(await this.request("PUT",e,r,n)).data}request(e,r,n,i){const o={method:e,url:r};return e==="POST"||e==="PUT"?o.data=n:o.params=n,this.instance.request(o).catch(a=>{var l,u,c,f,d,p,h,g,m;if(!i&&(((l=a.response)==null?void 0:l.status)===401||((u=a.response)==null?void 0:u.status)===403))return Qh(""),Sb(null),h$(),Promise.reject(new ti("您的登录已过期，请重新登录。",hC,401));let s=a.message;return(f=(c=a.response)==null?void 0:c.data)!=null&&f.message&&(s=(p=(d=a.response)==null?void 0:d.data)==null?void 0:p.message),Promise.reject(new ti(s,((g=(h=a.request)==null?void 0:h.data)==null?void 0:g.code)||hC,(m=a.response)==null?void 0:m.status))})}}class ti extends Error{constructor(r,n,i){super(r);ui(this,"code");ui(this,"status");this.code=n,this.status=i,Object.setPrototypeOf(this,ti.prototype)}}class m$ extends Mb{processPDF(e,r){let n=new FormData;return n.append("file",e),n.append("options_json",JSON.stringify(r)),this.post("/pdf/process",n)}getProcessingStatus(e){return this.get(`/pdf/process-status/${e}`)}getConversionStatus(e){return this.get(`/pdf/conversion-status/${e}`)}getConversionResults(e){return this.get(`/pdf/conversion-results/${e}`)}}class v$ extends Mb{createPage(e){return this.post("/post",e)}editPage(e,r){return this.put(`/post/${e}`,r)}getPage(e){return this.get(`/post/${e}`,{},!0)}}class y$ extends Mb{createPage(e){return this.post("/telegra/page",e)}editPage(e,r){return this.put(`/telegra/page/${e}`,r)}getPage(e){return this.get(`/telegra/page/${e}`)}uploadImage(e){let r=new FormData;return r.append("file",e),this.post("/telegra/upload",r)}}const b$=new y$,Xs=new v$,Ab=new m$,I0=new f$,Fu=new Or("upload-image"),w$=()=>new Bt({key:Fu,state:{init(){return bt.empty},apply(t,e){e=e.map(t.mapping,t.doc);const r=t.getMeta(this);if(r&&r.add){const{id:n,pos:i,src:o}=r.add,a=document.createElement("div");a.setAttribute("class","img-placeholder");const s=document.createElement("img");s.setAttribute("class","opacity-40 rounded-lg border border-stone-200"),s.src=o,a.appendChild(s);const l=br.widget(i+1,a,{id:n});e=e.add(t.doc,[l])}else r&&r.remove&&(e=e.remove(e.find(null,null,n=>n.id==r.remove.id)));return e}},props:{decorations(t){return this.getState(t)}}});function gC(t,e){const n=Fu.getState(t).find(null,null,i=>i.id==e);return n.length?n[0].from:null}function L0(t,e,r){if(t.type.includes("image/")){if(t.size/1024/1024>20){Dt.error("File size too big (max 20MB).");return}}else{Dt.error("File type not supported.");return}const n={},i=e.state.tr;i.selection.empty||i.deleteSelection();const o=new FileReader;o.readAsDataURL(t),o.onload=()=>{i.setMeta(Fu,{add:{id:n,pos:r,src:o.result}}),e.dispatch(i)},S$(t).then(a=>{const{schema:s}=e.state;let l=gC(e.state,n);if(l==null)return;let u=new Image;u.src=a,u.onload=function(){const c=s.nodes.image.create({src:a}),f=e.state.tr.replaceWith(l,l,c).setMeta(Fu,{remove:{id:n}});e.dispatch(f)}}).catch(a=>{if(Dt.error(a.message),gC(e.state,n)==null)return;const l=e.state.tr.setMeta(Fu,{remove:{id:n}});e.dispatch(l)})}const S$=t=>b$.uploadImage(t).then(e=>e.data.src),x$={attributes:{class:"prose-lg prose-stone dark:prose-invert prose-headings:font-title font-default focus:outline-none max-w-full"},handleDOMEvents:{keydown:(t,e)=>{if(["ArrowUp","ArrowDown","Enter"].includes(e.key)&&document.querySelector("#slash-command"))return!0}},handlePaste:(t,e)=>{if(e.clipboardData&&e.clipboardData.files&&e.clipboardData.files[0]){e.preventDefault();const r=e.clipboardData.files[0],n=t.state.selection.from;return L0(r,t,n),!0}return!1},handleDrop:(t,e,r,n)=>{if(!n&&e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0]){e.preventDefault();const i=e.dataTransfer.files[0],o=t.posAtCoords({left:e.clientX,top:e.clientY});return L0(i,t,(o==null?void 0:o.pos)||0-1),!0}return!1}},E$=/^\s*>\s$/,C$=It.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Sc({find:E$,type:this.type})]}}),k$=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,T$=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,O$=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,_$=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,M$=un.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vs({find:k$,type:this.type}),Vs({find:O$,type:this.type})]},addPasteRules(){return[ma({find:T$,type:this.type}),ma({find:_$,type:this.type})]}}),A$=It.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mC=un.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=Xc(t,this.type);return Object.entries(r).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),vC=/^\s*([-+*])\s$/,D$=It.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(A$.name,this.editor.getAttributes(mC.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Sc({find:vC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sc({find:vC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mC.name),editor:this.editor})),[t]}}),R$=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,P$=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,N$=un.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vs({find:R$,type:this.type})]},addPasteRules(){return[ma({find:P$,type:this.type})]}}),I$=/^```([a-z]+)?[\s\n]$/,L$=/^~~~([a-z]+)?[\s\n]$/,B$=It.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",dt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0||n.nodeAt(s)?!1:t.commands.exitCode()}}},addInputRules(){return[x0({find:I$,type:this.type,getAttributes:t=>({language:t[1]})}),x0({find:L$,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Bt({key:new Or("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;const{tr:a}=t.state;return a.replaceSelectionWith(this.type.create({language:o})),a.setSelection(Le.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(r.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),OD=It.create({name:"doc",topNode:!0,content:"block+"});function z$(t={}){return new Bt({view(e){return new F$(e,t)}})}class F${constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let s=e.nodeBefore,l=e.nodeAfter;if(s||l){let u=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0));if(u){let c=u.getBoundingClientRect(),f=s?c.bottom:c.top;s&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:c.left,right:c.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let o,a;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,a=-pageYOffset;else{let s=i.getBoundingClientRect();o=s.left-i.scrollLeft,a=s.top-i.scrollTop}this.element.style.left=n.left-o+"px",this.element.style.top=n.top-a+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!o){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=lM(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const j$=fr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[z$(this.options)]}});class wt extends ze{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return wt.valid(n)?new wt(n):ze.near(n)}content(){return ge.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(r.pos))}getBookmark(){return new Db(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!H$(e)||!U$(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&wt.valid(e))return e;let i=e.pos,o=null;for(let a=e.depth;;a--){let s=e.node(a);if(r>0?e.indexAfter(a)<s.childCount:e.index(a)>0){o=s.child(r>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=r;let l=e.doc.resolve(i);if(wt.valid(l))return l}for(;;){let a=r>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Me.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*r),n=!1;continue e}break}o=a,i+=r;let s=e.doc.resolve(i);if(wt.valid(s))return s}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;ze.jsonID("gapcursor",wt);class Db{constructor(e){this.pos=e}map(e){return new Db(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return wt.valid(r)?new wt(r):ze.near(r)}}function H$(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function U$(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function $$(){return new Bt({props:{decorations:q$,createSelectionBetween(t,e,r){return e.pos==r.pos&&wt.valid(r)?new wt(r):null},handleClick:W$,handleKeyDown:V$,handleDOMEvents:{beforeinput:G$}}})}const V$=KM({ArrowLeft:Bf("horiz",-1),ArrowRight:Bf("horiz",1),ArrowUp:Bf("vert",-1),ArrowDown:Bf("vert",1)});function Bf(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,o){let a=n.selection,s=e>0?a.$to:a.$from,l=a.empty;if(a instanceof Le){if(!o.endOfTextblock(r)||s.depth==0)return!1;l=!1,s=n.doc.resolve(e>0?s.after():s.before())}let u=wt.findGapCursorFrom(s,e,l);return u?(i&&i(n.tr.setSelection(new wt(u))),!0):!1}}function W$(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!wt.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&Me.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(n))),!0)}function G$(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=ne.empty;for(let a=n.length-1;a>=0;a--)i=ne.from(n[a].createAndFill(null,i));let o=t.state.tr.replace(r.pos,r.pos,new ge(i,0,0));return o.setSelection(Le.near(o.doc.resolve(r.pos+1))),t.dispatch(o),!1}function q$(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",bt.create(t.doc,[br.widget(t.selection.head,e,{key:"gapcursor"})])}const K$=fr.create({name:"gapCursor",addProseMirrorPlugins(){return[$$()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Be(xe(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),Y$=It.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",dt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){const f=l.filter(d=>s.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),_D=It.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,dt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>x0({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var wp=200,Wt=function(){};Wt.prototype.append=function(e){return e.length?(e=Wt.from(e),!this.length&&e||e.length<wp&&this.leafAppend(e)||this.length<wp&&e.leafPrepend(this)||this.appendInner(e)):this};Wt.prototype.prepend=function(e){return e.length?Wt.from(e).append(this):this};Wt.prototype.appendInner=function(e){return new X$(this,e)};Wt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Wt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Wt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},r,n),i};Wt.from=function(e){return e instanceof Wt?e:e&&e.length?new MD(e):Wt.empty};var MD=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=wp)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=wp)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Wt);Wt.empty=new MD([]);var X$=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Wt);const J$=500;class Cn{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Nn(f.map));let p=f.step.map(i.slice(o)),h;p&&a.maybeStep(p).doc&&(h=a.mapping.maps[a.mapping.maps.length-1],u.push(new Nn(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Cn(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Nn(e.mapping.maps[c],f,r),p;(p=l&&l.merge(d))&&(d=p,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),r&&(a++,r=void 0),i||(l=d)}let u=a-n.depth;return u>Z$&&(s=Q$(s,u),a-=u),new Cn(s.append(o),a)}remapping(e,r){let n=new Ts;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new Cn(this.items.append(e.map(r=>new Nn(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=r;this.items.forEach(d=>{let p=o.getMirror(--l);if(p==null)return;a=Math.min(a,p);let h=o.maps[p];if(d.step){let g=e.steps[p].invert(e.docs[p]),m=d.selection&&d.selection.map(o.slice(l+1,p));m&&s++,n.push(new Nn(h,g,m))}else n.push(new Nn(h))},i);let u=[];for(let d=r;d<a;d++)u.push(new Nn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new Cn(c,s);return f.emptyItemCount()>J$&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=a.selection&&a.selection.map(r.slice(n));c&&o++;let f=new Nn(u.invert(),l,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new Cn(Wt.from(i.reverse()),o)}}Cn.empty=new Cn(Wt.empty,0);function Q$(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class Nn{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Nn(r.getMap().invert(),r,this.selection)}}}class ji{constructor(e,r,n,i,o){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}}const Z$=20;function e8(t,e,r,n){let i=r.getMeta(ho),o;if(i)return i.historyState;r.getMeta(r8)&&(t=new ji(t.done,t.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(ho))return a.getMeta(ho).redo?new ji(t.done.addTransform(r,void 0,n,Td(e)),t.undone,yC(r.mapping.maps[r.steps.length-1]),t.prevTime,t.prevComposition):new ji(t.done,t.undone.addTransform(r,void 0,n,Td(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-n.newGroupDelay||!t8(r,t.prevRanges)),u=a?Om(t.prevRanges,r.mapping):yC(r.mapping.maps[r.steps.length-1]);return new ji(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Td(e)),Cn.empty,u,r.time,s??t.prevComposition)}else return(o=r.getMeta("rebased"))?new ji(t.done.rebased(r,o),t.undone.rebased(r,o),Om(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ji(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Om(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function t8(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(r=!0)}),r}function yC(t){let e=[];return t.forEach((r,n,i,o)=>e.push(i,o)),e}function Om(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}function AD(t,e,r,n){let i=Td(e),o=ho.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),u=new ji(n?l:a.remaining,n?a.remaining:l,null,0,-1);r(a.transform.setSelection(s).setMeta(ho,{redo:n,historyState:u}).scrollIntoView())}let _m=!1,bC=null;function Td(t){let e=t.plugins;if(bC!=e){_m=!1,bC=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){_m=!0;break}}return _m}const ho=new Or("history"),r8=new Or("closeHistory");function n8(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Bt({key:ho,state:{init(){return new ji(Cn.empty,Cn.empty,null,0,-1)},apply(e,r,n){return e8(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?DD:n=="historyRedo"?RD:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const DD=(t,e)=>{let r=ho.getState(t);return!r||r.done.eventCount==0?!1:(e&&AD(r,t,e,!1),!0)},RD=(t,e)=>{let r=ho.getState(t);return!r||r.undone.eventCount==0?!1:(e&&AD(r,t,e,!0),!0)},i8=fr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>DD(t,e),redo:()=>({state:t,dispatch:e})=>RD(t,e)}},addProseMirrorPlugins(){return[n8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),o8=It.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",dt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:r}=e.selection,n=t();return r.parentOffset===0?n.insertContentAt(Math.max(r.pos-2,0),{type:this.name}):n.insertContent({type:this.name}),n.command(({tr:i,dispatch:o})=>{var a;if(o){const{$to:s}=i.selection,l=s.end();if(s.nodeAfter)s.nodeAfter.isTextblock?i.setSelection(Le.create(i.doc,s.pos+1)):s.nodeAfter.isBlock?i.setSelection(Me.create(i.doc,s.pos)):i.setSelection(Le.create(i.doc,s.pos));else{const u=(a=s.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();u&&(i.insert(l,u),i.setSelection(Le.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lA({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),a8=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,s8=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,l8=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,u8=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,c8=un.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vs({find:a8,type:this.type}),Vs({find:l8,type:this.type})]},addPasteRules(){return[ma({find:s8,type:this.type}),ma({find:u8,type:this.type})]}}),f8=It.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),d8=It.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wC=un.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=Xc(t,this.type);return Object.entries(r).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),SC=/^(\d+)\.\s$/,p8=It.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",dt(this.options.HTMLAttributes,r),0]:["ol",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(d8.name,this.editor.getAttributes(wC.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Sc({find:SC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sc({find:SC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(wC.name)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),PD=It.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),h8=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,g8=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,m8=un.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return nb()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Vs({find:h8,type:this.type})]},addPasteRules(){return[ma({find:g8,type:this.type})]}}),v8=It.create({name:"text",group:"inline"}),y8=fr.create({name:"starterKit",addExtensions(){var t,e,r,n,i,o,a,s,l,u,c,f,d,p,h,g,m,v;const b=[];return this.options.blockquote!==!1&&b.push(C$.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&b.push(M$.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&b.push(D$.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&b.push(N$.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&b.push(B$.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&b.push(OD.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&b.push(j$.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&b.push(K$.configure((s=this.options)===null||s===void 0?void 0:s.gapcursor)),this.options.hardBreak!==!1&&b.push(Y$.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(_D.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&b.push(i8.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&b.push(o8.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&b.push(c8.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&b.push(f8.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&b.push(p8.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&b.push(PD.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(m8.configure((m=this.options)===null||m===void 0?void 0:m.strike)),this.options.text!==!1&&b.push(v8.configure((v=this.options)===null||v===void 0?void 0:v.text)),b}}),b8="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",w8="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Js=(t,e)=>{for(const r in e)t[r]=e[r];return t},B0="numeric",z0="ascii",F0="alpha",Od="asciinumeric",zf="alphanumeric",j0="domain",ND="emoji",S8="scheme",x8="slashscheme",xC="whitespace";function E8(t,e){return t in e||(e[t]=[]),e[t]}function Qo(t,e,r){e[B0]&&(e[Od]=!0,e[zf]=!0),e[z0]&&(e[Od]=!0,e[F0]=!0),e[Od]&&(e[zf]=!0),e[F0]&&(e[zf]=!0),e[zf]&&(e[j0]=!0),e[ND]&&(e[j0]=!0);for(const n in e){const i=E8(n,r);i.indexOf(t)<0&&i.push(t)}}function C8(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Rr(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Rr.groups={};Rr.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],o=e.jr[n][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||Rr.groups;let i;return e&&e.j?i=e:(i=new Rr(e),r&&n&&Qo(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const o=t.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(t[a]);return i.tt(t[o-1],e,r,n)},tt(t,e,r,n){n=n||Rr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let a,s=i.go(t);if(s?(a=new Rr,Js(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Rr,o){if(n)if(a.t&&typeof a.t=="string"){const l=Js(C8(a.t,n),r);Qo(o,l,n)}else r&&Qo(o,r,n);a.t=o}return i.j[t]=a,a}};const ke=(t,e,r,n,i)=>t.ta(e,r,n,i),Yr=(t,e,r,n,i)=>t.tr(e,r,n,i),EC=(t,e,r,n,i)=>t.ts(e,r,n,i),ae=(t,e,r,n,i)=>t.tt(e,r,n,i),fi="WORD",H0="UWORD",kc="LOCALHOST",U0="TLD",$0="UTLD",_d="SCHEME",Ka="SLASH_SCHEME",Rb="NUM",ID="WS",Pb="NL",ss="OPENBRACE",ju="OPENBRACKET",Hu="OPENANGLEBRACKET",Uu="OPENPAREN",zo="CLOSEBRACE",ls="CLOSEBRACKET",us="CLOSEANGLEBRACKET",Fo="CLOSEPAREN",Sp="AMPERSAND",xp="APOSTROPHE",Ep="ASTERISK",Hi="AT",Cp="BACKSLASH",kp="BACKTICK",Tp="CARET",Wi="COLON",Nb="COMMA",Op="DOLLAR",In="DOT",_p="EQUALS",Ib="EXCLAMATION",Ln="HYPHEN",Mp="PERCENT",Ap="PIPE",Dp="PLUS",Rp="POUND",Pp="QUERY",Lb="QUOTE",Bb="SEMI",Bn="SLASH",$u="TILDE",Np="UNDERSCORE",LD="EMOJI",Ip="SYM";var BD=Object.freeze({__proto__:null,WORD:fi,UWORD:H0,LOCALHOST:kc,TLD:U0,UTLD:$0,SCHEME:_d,SLASH_SCHEME:Ka,NUM:Rb,WS:ID,NL:Pb,OPENBRACE:ss,OPENBRACKET:ju,OPENANGLEBRACKET:Hu,OPENPAREN:Uu,CLOSEBRACE:zo,CLOSEBRACKET:ls,CLOSEANGLEBRACKET:us,CLOSEPAREN:Fo,AMPERSAND:Sp,APOSTROPHE:xp,ASTERISK:Ep,AT:Hi,BACKSLASH:Cp,BACKTICK:kp,CARET:Tp,COLON:Wi,COMMA:Nb,DOLLAR:Op,DOT:In,EQUALS:_p,EXCLAMATION:Ib,HYPHEN:Ln,PERCENT:Mp,PIPE:Ap,PLUS:Dp,POUND:Rp,QUERY:Pp,QUOTE:Lb,SEMI:Bb,SLASH:Bn,TILDE:$u,UNDERSCORE:Np,EMOJI:LD,SYM:Ip});const Ba=/[a-z]/,Mm=/\p{L}/u,Am=/\p{Emoji}/u,Dm=/\d/,CC=/\s/,kC=`
`,k8="️",T8="‍";let Ff=null,jf=null;function O8(t){t===void 0&&(t=[]);const e={};Rr.groups=e;const r=new Rr;Ff==null&&(Ff=TC(b8)),jf==null&&(jf=TC(w8)),ae(r,"'",xp),ae(r,"{",ss),ae(r,"[",ju),ae(r,"<",Hu),ae(r,"(",Uu),ae(r,"}",zo),ae(r,"]",ls),ae(r,">",us),ae(r,")",Fo),ae(r,"&",Sp),ae(r,"*",Ep),ae(r,"@",Hi),ae(r,"`",kp),ae(r,"^",Tp),ae(r,":",Wi),ae(r,",",Nb),ae(r,"$",Op),ae(r,".",In),ae(r,"=",_p),ae(r,"!",Ib),ae(r,"-",Ln),ae(r,"%",Mp),ae(r,"|",Ap),ae(r,"+",Dp),ae(r,"#",Rp),ae(r,"?",Pp),ae(r,'"',Lb),ae(r,"/",Bn),ae(r,";",Bb),ae(r,"~",$u),ae(r,"_",Np),ae(r,"\\",Cp);const n=Yr(r,Dm,Rb,{[B0]:!0});Yr(n,Dm,n);const i=Yr(r,Ba,fi,{[z0]:!0});Yr(i,Ba,i);const o=Yr(r,Mm,H0,{[F0]:!0});Yr(o,Ba),Yr(o,Mm,o);const a=Yr(r,CC,ID,{[xC]:!0});ae(r,kC,Pb,{[xC]:!0}),ae(a,kC),Yr(a,CC,a);const s=Yr(r,Am,LD,{[ND]:!0});Yr(s,Am,s),ae(s,k8,s);const l=ae(s,T8);Yr(l,Am,s);const u=[[Ba,i]],c=[[Ba,null],[Mm,o]];for(let f=0;f<Ff.length;f++)Ni(r,Ff[f],U0,fi,u);for(let f=0;f<jf.length;f++)Ni(r,jf[f],$0,H0,c);Qo(U0,{tld:!0,ascii:!0},e),Qo($0,{utld:!0,alpha:!0},e),Ni(r,"file",_d,fi,u),Ni(r,"mailto",_d,fi,u),Ni(r,"http",Ka,fi,u),Ni(r,"https",Ka,fi,u),Ni(r,"ftp",Ka,fi,u),Ni(r,"ftps",Ka,fi,u),Qo(_d,{scheme:!0,ascii:!0},e),Qo(Ka,{slashscheme:!0,ascii:!0},e),t=t.sort((f,d)=>f[0]>d[0]?1:-1);for(let f=0;f<t.length;f++){const d=t[f][0],h=t[f][1]?{[S8]:!0}:{[x8]:!0};d.indexOf("-")>=0?h[j0]=!0:Ba.test(d)?Dm.test(d)?h[Od]=!0:h[z0]=!0:h[B0]=!0,EC(r,d,d,h)}return EC(r,"localhost",kc,{ascii:!0}),r.jd=new Rr(Ip),{start:r,tokens:Js({groups:e},BD)}}function _8(t,e){const r=M8(e.replace(/[A-Z]/g,s=>s.toLowerCase())),n=r.length,i=[];let o=0,a=0;for(;a<n;){let s=t,l=null,u=0,c=null,f=-1,d=-1;for(;a<n&&(l=s.go(r[a]));)s=l,s.accepts()?(f=0,d=0,c=s):f>=0&&(f+=r[a].length,d++),u+=r[a].length,o+=r[a].length,a++;o-=f,a-=d,u-=f,i.push({t:c.t,v:e.slice(o-u,o),s:o-u,e:o})}return i}function M8(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),o,a=i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?t[n]:t.slice(n,n+2);e.push(a),n+=a.length}return e}function Ni(t,e,r,n,i){let o;const a=e.length;for(let s=0;s<a-1;s++){const l=e[s];t.j[l]?o=t.j[l]:(o=new Rr(n),o.jr=i.slice(),t.j[l]=o),t=o}return o=new Rr(r),o.jr=i.slice(),t.j[e[a-1]]=o,o}function TC(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let o=0;for(;i.indexOf(t[n+o])>=0;)o++;if(o>0){e.push(r.join(""));for(let a=parseInt(t.substring(n,n+o),10);a>0;a--)r.pop();n+=o}else r.push(t[n]),n++}return e}const Tc={defaultProtocol:"http",events:null,format:OC,formatHref:OC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function zb(t,e){e===void 0&&(e=null);let r=Js({},Tc);t&&(r=Js(r,t instanceof zb?t.o:t));const n=r.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}zb.prototype={o:Tc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Tc[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function OC(t){return t}function zD(t,e){this.t="token",this.v=t,this.tk=e}zD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Tc.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),o=this.toFormattedString(t),a={},s=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),c=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return a.href=n,s&&(a.class=s),l&&(a.target=l),u&&(a.rel=u),c&&Js(a,c),{tagName:i,attributes:a,content:o,eventListeners:f}}};function Zh(t,e){class r extends zD{constructor(i,o){super(i,o),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const _C=Zh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),MC=Zh("text"),A8=Zh("nl"),No=Zh("url",{isLink:!0,toHref(t){return t===void 0&&(t=Tc.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==kc&&t[1].t===Wi}}),Ut=t=>new Rr(t);function D8(t){let{groups:e}=t;const r=e.domain.concat([Sp,Ep,Hi,Cp,kp,Tp,Op,_p,Ln,Rb,Mp,Ap,Dp,Rp,Bn,Ip,$u,Np]),n=[xp,us,zo,ls,Fo,Wi,Nb,In,Ib,Hu,ss,ju,Uu,Pp,Lb,Bb],i=[Sp,xp,Ep,Cp,kp,Tp,zo,Op,_p,Ln,ss,Mp,Ap,Dp,Rp,Pp,Bn,Ip,$u,Np],o=Ut(),a=ae(o,$u);ke(a,i,a),ke(a,e.domain,a);const s=Ut(),l=Ut(),u=Ut();ke(o,e.domain,s),ke(o,e.scheme,l),ke(o,e.slashscheme,u),ke(s,i,a),ke(s,e.domain,s);const c=ae(s,Hi);ae(a,Hi,c),ae(l,Hi,c),ae(u,Hi,c);const f=ae(a,In);ke(f,i,a),ke(f,e.domain,a);const d=Ut();ke(c,e.domain,d),ke(d,e.domain,d);const p=ae(d,In);ke(p,e.domain,d);const h=Ut(_C);ke(p,e.tld,h),ke(p,e.utld,h),ae(c,kc,h);const g=ae(d,Ln);ke(g,e.domain,d),ke(h,e.domain,d),ae(h,In,p),ae(h,Ln,g);const m=ae(h,Wi);ke(m,e.numeric,_C);const v=ae(s,Ln),b=ae(s,In);ke(v,e.domain,s),ke(b,i,a),ke(b,e.domain,s);const w=Ut(No);ke(b,e.tld,w),ke(b,e.utld,w),ke(w,e.domain,s),ke(w,i,a),ae(w,In,b),ae(w,Ln,v),ae(w,Hi,c);const y=ae(w,Wi),x=Ut(No);ke(y,e.numeric,x);const S=Ut(No),C=Ut();ke(S,r,S),ke(S,n,C),ke(C,r,S),ke(C,n,C),ae(w,Bn,S),ae(x,Bn,S);const E=ae(l,Wi),k=ae(u,Wi),T=ae(k,Bn),A=ae(T,Bn);ke(l,e.domain,s),ae(l,In,b),ae(l,Ln,v),ke(u,e.domain,s),ae(u,In,b),ae(u,Ln,v),ke(E,e.domain,S),ae(E,Bn,S),ke(A,e.domain,S),ke(A,r,S),ae(A,Bn,S);const O=ae(S,ss),_=ae(S,ju),N=ae(S,Hu),M=ae(S,Uu);ae(C,ss,O),ae(C,ju,_),ae(C,Hu,N),ae(C,Uu,M),ae(O,zo,S),ae(_,ls,S),ae(N,us,S),ae(M,Fo,S),ae(O,zo,S);const L=Ut(No),I=Ut(No),R=Ut(No),z=Ut(No);ke(O,r,L),ke(_,r,I),ke(N,r,R),ke(M,r,z);const j=Ut(),D=Ut(),$=Ut(),V=Ut();return ke(O,n),ke(_,n),ke(N,n),ke(M,n),ke(L,r,L),ke(I,r,I),ke(R,r,R),ke(z,r,z),ke(L,n,L),ke(I,n,I),ke(R,n,R),ke(z,n,z),ke(j,r,j),ke(D,r,I),ke($,r,R),ke(V,r,z),ke(j,n,j),ke(D,n,D),ke($,n,$),ke(V,n,V),ae(I,ls,S),ae(R,us,S),ae(z,Fo,S),ae(L,zo,S),ae(D,ls,S),ae($,us,S),ae(V,Fo,S),ae(j,Fo,S),ae(o,kc,w),ae(o,Pb,A8),{start:o,tokens:BD}}function R8(t,e,r){let n=r.length,i=0,o=[],a=[];for(;i<n;){let s=t,l=null,u=null,c=0,f=null,d=-1;for(;i<n&&!(l=s.go(r[i].t));)a.push(r[i++]);for(;i<n&&(u=l||s.go(r[i].t));)l=null,s=u,s.accepts()?(d=0,f=s):d>=0&&d++,i++,c++;if(d<0)i-=c,i<n&&(a.push(r[i]),i++);else{a.length>0&&(o.push(Rm(MC,e,a)),a=[]),i-=d,c-=d;const p=f.t,h=r.slice(i-c,i);o.push(Rm(p,e,h))}}return a.length>0&&o.push(Rm(MC,e,a)),o}function Rm(t,e,r){const n=r[0].s,i=r[r.length-1].e,o=e.slice(n,i);return new t(o,r)}const P8=typeof console<"u"&&console&&console.warn||(()=>{}),N8="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",gt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function I8(){Rr.groups={},gt.scanner=null,gt.parser=null,gt.tokenQueue=[],gt.pluginQueue=[],gt.customSchemes=[],gt.initialized=!1}function AC(t,e){if(e===void 0&&(e=!1),gt.initialized&&P8(`linkifyjs: already initialized - will not register custom scheme "${t}" ${N8}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);gt.customSchemes.push([t,e])}function L8(){gt.scanner=O8(gt.customSchemes);for(let t=0;t<gt.tokenQueue.length;t++)gt.tokenQueue[t][1]({scanner:gt.scanner});gt.parser=D8(gt.scanner.tokens);for(let t=0;t<gt.pluginQueue.length;t++)gt.pluginQueue[t][1]({scanner:gt.scanner,parser:gt.parser});gt.initialized=!0}function B8(t){return gt.initialized||L8(),R8(gt.parser.start,t,_8(gt.scanner.start,t))}function Fb(t,e,r){if(e===void 0&&(e=null),r===void 0&&(r=null),e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new zb(r),i=B8(t),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!e||s.t===e)&&o.push(s.toFormattedObject(n))}return o}function z8(t){return new Bt({key:new Or("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=n,s=EF(r.doc,[...e]);if(RF(s).forEach(({newRange:u})=>{const c=kF(n.doc,u,p=>p.isTextblock);let f,d;if(c.length>1?(f=c[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):c.length&&n.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(f=c[0],d=n.doc.textBetween(f.pos,u.to,void 0," ")),f&&d){const p=d.split(" ").filter(m=>m!=="");if(p.length<=0)return!1;const h=p[p.length-1],g=f.pos+d.lastIndexOf(h);if(!h)return!1;Fb(h).filter(m=>m.isLink).map(m=>({...m,from:g+m.start+1,to:g+m.end+1})).filter(m=>n.schema.marks.code?!n.doc.rangeHasMark(m.from,m.to,n.schema.marks.code):!0).filter(m=>t.validate?t.validate(m.value):!0).forEach(m=>{ob(m.from,m.to,n.doc).some(v=>v.mark.type===t.type)||a.addMark(m.from,m.to,t.type.create({href:m.href}))})}}),!!a.steps.length)return a}})}function F8(t){return new Bt({key:new Or("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,o;if(n.button!==0||n.target.nodeName!=="A")return!1;const s=aA(e.state,t.type.name),l=n.target,u=(i=l==null?void 0:l.href)!==null&&i!==void 0?i:s.href,c=(o=l==null?void 0:l.target)!==null&&o!==void 0?o:s.target;return l&&u?(e.editable&&window.open(u,c),!0):!1}}})}function j8(t){return new Bt({key:new Or("handlePasteLink"),props:{handlePaste:(e,r,n)=>{var i;const{state:o}=e,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";n.content.forEach(h=>{l+=h.textContent});const u=Fb(l).find(h=>h.isLink&&h.value===l);if(!l||!u)return!1;const c=(i=r.clipboardData)===null||i===void 0?void 0:i.getData("text/html"),f=/href="([^"]*)"/,d=c==null?void 0:c.match(f),p=d?d[1]:u.href;return t.editor.commands.setMark(t.type,{href:p}),!0}}})}const H8=un.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){AC(t);return}AC(t.scheme,t.optionalSlashes)})},onDestroy(){I8()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ma({find:t=>Fb(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:(t,e)=>{var r,n;const i=(r=e==null?void 0:e.clipboardData)===null||r===void 0?void 0:r.getData("text/html"),o=/href="([^"]*)"/,a=i==null?void 0:i.match(o);return a?{href:a[1]}:{href:(n=t.data)===null||n===void 0?void 0:n.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(z8({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(F8({type:this.type})),this.options.linkOnPaste&&t.push(j8({editor:this.editor,type:this.type})),t}}),U8=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$8=It.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",dt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[lA({find:U8,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),V8=fr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Bt({key:new Or("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;const o=t.type.createAndFill(),a=(o==null?void 0:o.sameMarkup(t))&&o.content.findDiffStart(t.content)===null;return t.descendants((s,l)=>{const u=n>=l&&n<=l+s.nodeSize,c=!s.isLeaf&&!s.childCount;if((u||!this.options.showOnlyCurrent)&&c){const f=[this.options.emptyNodeClass];a&&f.push(this.options.emptyEditorClass);const d=br.node(l,l+s.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:l,hasAnchor:u}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),bt.create(t,i)}}})]}});function W8(t){var e;const{char:r,allowSpaces:n,allowedPrefixes:i,startOfLine:o,$position:a}=t,s=f5(r),l=new RegExp(`\\s${s}$`),u=o?"^":"",c=n?new RegExp(`${u}${s}.*?(?=\\s${s}|$)`,"gm"):new RegExp(`${u}(?:^)?${s}[^\\s${s}]*`,"gm"),f=((e=a.nodeBefore)===null||e===void 0?void 0:e.isText)&&a.nodeBefore.text;if(!f)return null;const d=a.pos-f.length,p=Array.from(f.matchAll(c)).pop();if(!p||p.input===void 0||p.index===void 0)return null;const h=p.input.slice(Math.max(0,p.index-1),p.index),g=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(h);if(i!==null&&!g)return null;const m=d+p.index;let v=m+p[0].length;return n&&l.test(f.slice(v-1,v+1))&&(p[0]+=" ",v+=1),m<a.pos&&v>=a.pos?{range:{from:m,to:v},query:p[0].slice(r.length),text:p[0]}:null}const G8=new Or("suggestion");function q8({pluginKey:t=G8,editor:e,char:r="@",allowSpaces:n=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:a="span",decorationClass:s="suggestion",command:l=()=>null,items:u=()=>[],render:c=()=>({}),allow:f=()=>!0}){let d;const p=c==null?void 0:c(),h=new Bt({key:t,view(){return{update:async(g,m)=>{var v,b,w,y,x,S,C;const E=(v=this.key)===null||v===void 0?void 0:v.getState(m),k=(b=this.key)===null||b===void 0?void 0:b.getState(g.state),T=E.active&&k.active&&E.range.from!==k.range.from,A=!E.active&&k.active,O=E.active&&!k.active,_=!A&&!O&&E.query!==k.query,N=A||T,M=_&&!T,L=O||T;if(!N&&!M&&!L)return;const I=L&&!N?E:k,R=g.dom.querySelector(`[data-decoration-id="${I.decorationId}"]`);d={editor:e,range:I.range,query:I.query,text:I.text,items:[],command:z=>{l({editor:e,range:I.range,props:z})},decorationNode:R,clientRect:R?()=>{var z;const{decorationId:j}=(z=this.key)===null||z===void 0?void 0:z.getState(e.state),D=g.dom.querySelector(`[data-decoration-id="${j}"]`);return(D==null?void 0:D.getBoundingClientRect())||null}:null},N&&((w=p==null?void 0:p.onBeforeStart)===null||w===void 0||w.call(p,d)),M&&((y=p==null?void 0:p.onBeforeUpdate)===null||y===void 0||y.call(p,d)),(M||N)&&(d.items=await u({editor:e,query:I.query})),L&&((x=p==null?void 0:p.onExit)===null||x===void 0||x.call(p,d)),M&&((S=p==null?void 0:p.onUpdate)===null||S===void 0||S.call(p,d)),N&&((C=p==null?void 0:p.onStart)===null||C===void 0||C.call(p,d))},destroy:()=>{var g;d&&((g=p==null?void 0:p.onExit)===null||g===void 0||g.call(p,d))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(g,m,v,b){const{isEditable:w}=e,{composing:y}=e.view,{selection:x}=g,{empty:S,from:C}=x,E={...m};if(E.composing=y,w&&(S||e.view.composing)){(C<m.range.from||C>m.range.to)&&!y&&!m.composing&&(E.active=!1);const k=W8({char:r,allowSpaces:n,allowedPrefixes:i,startOfLine:o,$position:x.$from}),T=`id_${Math.floor(Math.random()*4294967295)}`;k&&f({editor:e,state:b,range:k.range})?(E.active=!0,E.decorationId=m.decorationId?m.decorationId:T,E.range=k.range,E.query=k.query,E.text=k.text):E.active=!1}else E.active=!1;return E.active||(E.decorationId=null,E.range={from:0,to:0},E.query=null,E.text=null),E}},props:{handleKeyDown(g,m){var v;const{active:b,range:w}=h.getState(g.state);return b&&((v=p==null?void 0:p.onKeyDown)===null||v===void 0?void 0:v.call(p,{view:g,event:m,range:w}))||!1},decorations(g){const{active:m,range:v,decorationId:b}=h.getState(g);return m?bt.create(g.doc,[br.inline(v.from,v.to,{nodeName:a,class:s,"data-decoration-id":b})]):null}}});return h}var K8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pn=(t,e)=>{const r=U.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>U.createElement("svg",{ref:u,...K8,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${Y8(t)}`,...l},[...e.map(([c,f])=>U.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${t}`,r},X8=Pn("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),J8=Pn("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),FD=Pn("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),Q8=Pn("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]),Z8=Pn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),eV=Pn("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),tV=Pn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),rV=Pn("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),nV=Pn("TextQuote",[["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H8",key:"scolzb"}],["path",{d:"M21 18H8",key:"1wfozv"}],["path",{d:"M3 12v6",key:"fv4c87"}]]),iV=Pn("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),oV=Pn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function aV({dimensions:t}){return X.jsxs("svg",{"aria-hidden":"true",className:`${t||"h-4 w-4"} animate-spin fill-stone-600 text-stone-200`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),X.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}const sV=fr.create({name:"slash-command",addOptions(){return{suggestion:{char:"/",command:({editor:t,range:e,props:r})=>{r.command({editor:t,range:e})}}}},addProseMirrorPlugins(){return[q8({editor:this.editor,...this.options.suggestion})]}}),lV=({query:t})=>[{title:"Text",description:"Just start typing with plain text.",searchTerms:["p","paragraph"],icon:X.jsx(iV,{size:18}),command:({editor:e,range:r})=>{e.chain().focus().deleteRange(r).toggleNode("paragraph","paragraph").run()}},{title:"Heading 3",description:"Small section heading.",searchTerms:["subtitle","small"],icon:X.jsx(FD,{size:18}),command:({editor:e,range:r})=>{e.chain().focus().deleteRange(r).setNode("heading",{level:3}).run()}},{title:"Quote",description:"Capture a quote.",searchTerms:["blockquote"],icon:X.jsx(nV,{size:18}),command:({editor:e,range:r})=>e.chain().focus().deleteRange(r).toggleNode("paragraph","paragraph").toggleBlockquote().run()},{title:"Image",description:"Upload an image from your computer.",searchTerms:["photo","picture","media"],icon:X.jsx(Z8,{size:18}),command:({editor:e,range:r})=>{e.chain().focus().deleteRange(r).run();const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=async()=>{var i;if((i=n.files)!=null&&i.length){const o=n.files[0],a=e.view.state.selection.from;L0(o,e.view,a)}},n.click()}}].filter(e=>{if(typeof t=="string"&&t.length>0){const r=t.toLowerCase();return e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.searchTerms&&e.searchTerms.some(n=>n.includes(r))}return!0}),uV=(t,e)=>{const r=t.offsetHeight,n=e?e.offsetHeight:0,i=e.offsetTop,o=i+n;i<t.scrollTop?t.scrollTop-=t.scrollTop-i+5:o>r+t.scrollTop&&(t.scrollTop+=o-r-t.scrollTop+5)},cV=({items:t,command:e,editor:r,range:n})=>{const[i,o]=U.useState(0),a=U.useCallback(l=>{const u=t[l];u&&e(u)},[e,r,t]);U.useEffect(()=>{const l=["ArrowUp","ArrowDown","Enter"],u=c=>{if(l.includes(c.key))return c.preventDefault(),c.key==="ArrowUp"?(o((i+t.length-1)%t.length),!0):c.key==="ArrowDown"?(o((i+1)%t.length),!0):c.key==="Enter"?(a(i),!0):!1};return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[t,i,o,a]),U.useEffect(()=>{o(0)},[t]);const s=U.useRef(null);return U.useLayoutEffect(()=>{const l=s==null?void 0:s.current,u=l==null?void 0:l.children[i];u&&l&&uV(l,u)},[i]),t.length>0?X.jsx("div",{id:"slash-command",ref:s,className:"z-50 h-auto max-h-[330px] w-72 overflow-y-auto rounded-md border border-stone-200 bg-white px-1 py-2 shadow-md transition-all",children:t.map((l,u)=>X.jsxs("button",{className:`flex w-full items-center space-x-2 rounded-md px-2 py-1 text-left text-sm text-stone-900 hover:bg-stone-100 ${u===i?"bg-stone-100 text-stone-900":""}`,onClick:()=>a(u),children:[X.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md border border-stone-200 bg-white",children:l.title==="Continue writing"&&isLoading?X.jsx(aV,{}):l.icon}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:l.title}),X.jsx("p",{className:"text-xs text-stone-500",children:l.description})]})]},u))}):null},fV=()=>{let t=null,e=null;return{onStart:r=>{t=new t6(cV,{props:r,editor:r.editor}),e=wl("body",{getReferenceClientRect:r.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate:r=>{t==null||t.updateProps(r),e&&e[0].setProps({getReferenceClientRect:r.clientRect})},onKeyDown:r=>{var n;return r.event.key==="Escape"?(e==null||e[0].hide(),!0):(n=t==null?void 0:t.ref)==null?void 0:n.onKeyDown(r)},onExit:()=>{e==null||e[0].destroy(),t==null||t.destroy()}}},dV=sV.configure({suggestion:{items:lV,render:fV}}),pV=_D.extend({}),hV=It.create({name:"page_author",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{style:"font-size: 15px"}}},parseHTML(){return[{tag:"p"}]},renderHTML({node:t,HTMLAttributes:e}){return["p",dt(this.options.HTMLAttributes,e),0]}}),gV=It.create({name:"page_title",addOptions(){return{HTMLAttributes:{class:"text-2xl font-bold","data-type":"page-title"}}},content:"text*",defining:!0,parseHTML(){return[{tag:"h1"}]},renderHTML({node:t,HTMLAttributes:e}){return["h1",dt(this.options.HTMLAttributes,e),0]}}),mV=PD.extend({parseHTML(){return[{tag:"p",getAttrs:function(t){return t.querySelector("img")?!1:{}}}]},addAttributes(){return{lang:{},"data-type":{}}}}),vV=un.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>{const e=t,r=e.getAttribute("lang"),n=e.getAttribute("data-type");return!r||!n?!1:{}}}]},renderHTML({HTMLAttributes:t}){return["span",dt(this.options.HTMLAttributes,t),0]},addAttributes(){return{lang:{},"data-type":{}}},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=Xc(t,this.type);return Object.entries(r).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),yV=[OD.extend({content:"page_title block*"}),y8.configure({paragraph:!1,heading:!1,document:!1,dropcursor:{color:"#DBEAFE",width:4},gapcursor:!1}),H8.configure({HTMLAttributes:{class:"underline cursor-pointer",target:"_blank"}}),$8.extend({addProseMirrorPlugins(){return[w$()]},addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),width:{default:null},height:{default:null}}}}).configure({allowBase64:!0,inline:!0,HTMLAttributes:{style:"display: inline-block; margin: 0;"}}),V8.configure({placeholder:({node:t})=>t.type.name==="page_title"?"Title":t.type.name==="page_author"?"Author":"按下 '/' 获取快捷插入指令",includeChildren:!1}),dV,gV,hV,vV,mV,pV],bV=(t,e)=>{const[r,n]=U.useState(e);return U.useEffect(()=>{const o=window.localStorage.getItem(t);o&&n(JSON.parse(o))},[t]),[r,o=>{n(o),window.localStorage.setItem(t,JSON.stringify(o))}]};function wV(t,e,r){var n=this,i=U.useRef(null),o=U.useRef(0),a=U.useRef(null),s=U.useRef([]),l=U.useRef(),u=U.useRef(),c=U.useRef(t),f=U.useRef(!0);U.useEffect(function(){c.current=t},[t]);var d=!e&&e!==0&&typeof window<"u";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var p=!!(r=r||{}).leading,h=!("trailing"in r)||!!r.trailing,g="maxWait"in r,m=g?Math.max(+r.maxWait||0,e):null;U.useEffect(function(){return f.current=!0,function(){f.current=!1}},[]);var v=U.useMemo(function(){var b=function(E){var k=s.current,T=l.current;return s.current=l.current=null,o.current=E,u.current=c.current.apply(T,k)},w=function(E,k){d&&cancelAnimationFrame(a.current),a.current=d?requestAnimationFrame(E):setTimeout(E,k)},y=function(E){if(!f.current)return!1;var k=E-i.current;return!i.current||k>=e||k<0||g&&E-o.current>=m},x=function(E){return a.current=null,h&&s.current?b(E):(s.current=l.current=null,u.current)},S=function E(){var k=Date.now();if(y(k))return x(k);if(f.current){var T=e-(k-i.current),A=g?Math.min(T,m-(k-o.current)):T;w(E,A)}},C=function(){var E=Date.now(),k=y(E);if(s.current=[].slice.call(arguments),l.current=n,i.current=E,k){if(!a.current&&f.current)return o.current=i.current,w(S,e),p?b(i.current):u.current;if(g)return w(S,e),b(i.current)}return a.current||w(S,e),u.current};return C.cancel=function(){a.current&&(d?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,s.current=i.current=l.current=a.current=null},C.isPending=function(){return!!a.current},C.flush=function(){return a.current?x(Date.now()):u.current},C},[p,g,e,m,h,d]);return v}function jD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jD(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function SV(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jD(t))&&(n&&(n+=" "),n+=e);return n}function xV(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=HD(e))&&(n&&(n+=" "),n+=r);return n}function HD(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=HD(t[n]))&&(r&&(r+=" "),r+=e);return r}var jb="-";function EV(t){var e=kV(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function o(s){var l=s.split(jb);return l[0]===""&&l.length!==1&&l.shift(),UD(l,e)||CV(s)}function a(s,l){var u=r[s]||[];return l&&i[s]?[].concat(u,i[s]):u}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function UD(t,e){var a;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?UD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(jb);return(a=e.validators.find(function(s){var l=s.validator;return l(o)}))==null?void 0:a.classGroupId}}var DC=/^\[(.+)\]$/;function CV(t){if(DC.test(t)){var e=DC.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function kV(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=OV(Object.entries(t.classGroups),r);return i.forEach(function(o){var a=o[0],s=o[1];V0(s,n,a,e)}),n}function V0(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:RC(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(TV(i)){V0(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(a){var s=a[0],l=a[1];V0(l,RC(e,s),r,n)})})}function RC(t,e){var r=t;return e.split(jb).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function TV(t){return t.isThemeGetter}function OV(t,e){return e?t.map(function(r){var n=r[0],i=r[1],o=i.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(s){var l=s[0],u=s[1];return[e+l,u]})):a});return[n,o]}):t}function _V(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(o,a){r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(a){var s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set:function(a,s){r.has(a)?r.set(a,s):i(a,s)}}}var $D="!";function MV(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(a){for(var s=[],l=0,u=0,c,f=0;f<a.length;f++){var d=a[f];if(l===0){if(d===n&&(r||a.slice(f,f+i)===e)){s.push(a.slice(u,f)),u=f+i;continue}if(d==="/"){c=f;continue}}d==="["?l++:d==="]"&&l--}var p=s.length===0?a:a.substring(u),h=p.startsWith($D),g=h?p.substring(1):p,m=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}}}function AV(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function DV(t){return{cache:_V(t.cacheSize),splitModifiers:MV(t),...EV(t)}}var RV=/\s+/;function PV(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(RV).map(function(a){var s=r(a),l=s.modifiers,u=s.hasImportantModifier,c=s.baseClassName,f=s.maybePostfixModifierPosition,d=n(f?c.substring(0,f):c),p=!!f;if(!d){if(!f)return{isTailwindClass:!1,originalClassName:a};if(d=n(c),!d)return{isTailwindClass:!1,originalClassName:a};p=!1}var h=AV(l).join(":"),g=u?h+$D:h;return{isTailwindClass:!0,modifierId:g,classGroupId:d,originalClassName:a,hasPostfixModifier:p}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var s=a.modifierId,l=a.classGroupId,u=a.hasPostfixModifier,c=s+l;return o.has(c)?!1:(o.add(c),i(l,u).forEach(function(f){return o.add(s+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function NV(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,o,a=s;function s(u){var c=e[0],f=e.slice(1),d=f.reduce(function(p,h){return h(p)},c());return n=DV(d),i=n.cache.get,o=n.cache.set,a=l,l(u)}function l(u){var c=i(u);if(c)return c;var f=PV(u,n);return o(u,f),f}return function(){return a(xV.apply(null,arguments))}}function it(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var VD=/^\[(?:([a-z-]+):)?(.+)\]$/i,IV=/^\d+\/\d+$/,LV=new Set(["px","full","screen"]),BV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FV=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function bn(t){return Zo(t)||LV.has(t)||IV.test(t)||W0(t)}function W0(t){return Ma(t,"length",WV)}function jV(t){return Ma(t,"size",WD)}function HV(t){return Ma(t,"position",WD)}function UV(t){return Ma(t,"url",GV)}function Hf(t){return Ma(t,"number",Zo)}function Zo(t){return!Number.isNaN(Number(t))}function $V(t){return t.endsWith("%")&&Zo(t.slice(0,-1))}function Xl(t){return PC(t)||Ma(t,"number",PC)}function $e(t){return VD.test(t)}function Jl(){return!0}function Ii(t){return BV.test(t)}function VV(t){return Ma(t,"",qV)}function Ma(t,e,r){var n=VD.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function WV(t){return zV.test(t)}function WD(){return!1}function GV(t){return t.startsWith("url(")}function PC(t){return Number.isInteger(Number(t))}function qV(t){return FV.test(t)}function KV(){var t=it("colors"),e=it("spacing"),r=it("blur"),n=it("brightness"),i=it("borderColor"),o=it("borderRadius"),a=it("borderSpacing"),s=it("borderWidth"),l=it("contrast"),u=it("grayscale"),c=it("hueRotate"),f=it("invert"),d=it("gap"),p=it("gradientColorStops"),h=it("gradientColorStopPositions"),g=it("inset"),m=it("margin"),v=it("opacity"),b=it("padding"),w=it("saturate"),y=it("scale"),x=it("sepia"),S=it("skew"),C=it("space"),E=it("translate"),k=function(){return["auto","contain","none"]},T=function(){return["auto","hidden","clip","visible","scroll"]},A=function(){return["auto",$e,e]},O=function(){return[$e,e]},_=function(){return["",bn]},N=function(){return["auto",Zo,$e]},M=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},L=function(){return["solid","dashed","dotted","double","none"]},I=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",$e]},j=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},D=function(){return[Zo,Hf]},$=function(){return[Zo,$e]};return{cacheSize:500,theme:{colors:[Jl],spacing:[bn],blur:["none","",Ii,$e],brightness:D(),borderColor:[t],borderRadius:["none","","full",Ii,$e],borderSpacing:O(),borderWidth:_(),contrast:D(),grayscale:z(),hueRotate:$(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[$V,W0],inset:A(),margin:A(),opacity:D(),padding:O(),saturate:D(),scale:D(),sepia:z(),skew:$(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ii]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(M(),[$e])}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xl]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Xl]}],"grid-cols":[{"grid-cols":[Jl]}],"col-start-end":[{col:["auto",{span:["full",Xl]},$e]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Jl]}],"row-start-end":[{row:["auto",{span:[Xl]},$e]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$e,e]}],"min-w":[{"min-w":["min","max","fit",$e,bn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ii]},Ii,$e]}],h:[{h:[$e,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$e,bn]}],"max-h":[{"max-h":[$e,e,"min","max","fit"]}],"font-size":[{text:["base",Ii,W0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hf]}],"font-family":[{font:[Jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Zo,Hf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$e,bn]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(L(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",bn]}],"underline-offset":[{"underline-offset":["auto",$e,bn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(M(),[HV])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(L(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(L())}],"outline-offset":[{"outline-offset":[$e,bn]}],"outline-w":[{outline:[bn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[bn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ii,VV]}],"shadow-color":[{shadow:[Jl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":I()}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ii,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Xl,$e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bn,Hf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var YV=NV(KV);function XV(...t){return YV(SV(t))}function JV(t){try{return new URL(t),!0}catch{return!1}}function QV(t){if(JV(t))return t;try{if(t.includes(".")&&!t.includes(" "))return new URL(`https://${t}`).toString()}catch{return null}}const ZV=({editor:t,isOpen:e,setIsOpen:r})=>{const n=U.useRef(null);return U.useEffect(()=>{var i;n.current&&((i=n.current)==null||i.focus())}),X.jsxs("div",{className:"relative",children:[X.jsx("button",{type:"button",className:"flex h-full items-center space-x-2 px-3 py-1.5 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200",onClick:()=>{r(!e)},children:X.jsx(tV,{className:"h-4 w-4"})}),e&&X.jsxs("form",{onSubmit:i=>{i.preventDefault();const o=i.currentTarget[0],a=QV(o.value);a&&t.chain().focus().setLink({href:a}).run(),r(!1)},className:"fixed top-full z-[99999] mt-1 flex w-60 overflow-hidden rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1",children:[X.jsx("input",{ref:n,type:"text",placeholder:"Paste a link",className:"flex-1 bg-white p-1 text-sm outline-none",defaultValue:t.getAttributes("link").href||""}),t.getAttributes("link").href?X.jsx("button",{type:"button",className:"flex items-center rounded-sm p-1 text-red-600 transition-all hover:bg-red-100 dark:hover:bg-red-800",onClick:()=>{t.chain().focus().unsetLink().run(),r(!1)},children:X.jsx(oV,{className:"h-4 w-4"})}):X.jsx("button",{className:"flex items-center rounded-sm p-1 text-stone-600 transition-all hover:bg-stone-100",children:X.jsx(J8,{className:"h-4 w-4"})})]})]})},eW=t=>{const e=[{name:"bold",isActive:()=>t.editor.isActive("bold"),command:()=>t.editor.chain().focus().toggleBold().run(),icon:X8},{name:"italic",isActive:()=>t.editor.isActive("italic"),command:()=>t.editor.chain().focus().toggleItalic().run(),icon:eV},{name:"link",isActive:()=>t.editor.isActive("link"),command:()=>{l(!s),a(!1),i(!1)},icon:ZV},{name:"Heading 3",icon:FD,command:()=>t.editor.chain().focus().toggleHeading({level:3}).run(),isActive:()=>t.editor.isActive("heading",{level:3})},{name:"Heading 4",icon:Q8,command:()=>t.editor.chain().focus().toggleHeading({level:4}).run(),isActive:()=>t.editor.isActive("heading",{level:4})},{name:"Quote",icon:rV,command:()=>t.editor.chain().focus().toggleNode("paragraph","paragraph").toggleBlockquote().run(),isActive:()=>t.editor.isActive("blockquote")}],r={...t,shouldShow:({state:u,editor:c})=>{const{selection:f}=u,{empty:d}=f;return!(c.isActive("image")||d||sA(f))},tippyOptions:{moveTransition:"transform 0.15s ease-out",onHidden:()=>{i(!1),a(!1),l(!1)}}},[n,i]=U.useState(!1),[o,a]=U.useState(!1),[s,l]=U.useState(!1);return X.jsx(Xj,{...r,className:"flex w-fit divide-x divide-stone-200 rounded border border-stone-200 bg-white shadow-xl",children:X.jsx("div",{className:"flex",children:e.map((u,c)=>u.name==="link"?X.jsx(u.icon,{editor:t.editor,isOpen:s,setIsOpen:()=>{l(!s),a(!1),i(!1)}},`link-selector-${c}`):X.jsx("button",{onClick:u.command,className:"p-2 text-stone-600 hover:bg-stone-100 active:bg-stone-200",type:"button",children:X.jsx(u.icon,{className:XV("h-4 w-4",{"text-blue-500":u.isActive()})})},c))})})};function Hb(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function GD(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function qD(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Ub(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function tW(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function rW(t,e){var r=Ub("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function G0(t){return t.replace(/_/g,".")}function gu(t,e){var r=null,n="-1";return Hb(t,function(i){var o=Ub("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||i.brand?!1:(r=i,n=o[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=rW(i.versionTest.toLowerCase(),e)||n),n=G0(n),!0)}),{preset:r,version:n}}function Ql(t,e){var r={brand:"",version:"-1"};return Hb(t,function(n){var i=KD(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function KD(t,e){return GD(t,function(r){var n=r.brand;return Ub(""+e.test,n.toLowerCase())})}var q0=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],YD=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],K0=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],XD=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],JD=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function QD(t){return!!gu(XD,t).preset}function nW(t){var e=qD(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:QD(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=gu(q0,e),a=o.preset,s=o.version,l=gu(JD,e),u=l.preset,c=l.version,f=gu(YD,e);if(n.chromium=!!f.preset,n.chromiumVersion=f.version,!n.chromium){var d=gu(K0,e);n.webkit=!!d.preset,n.webkitVersion=d.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),a&&(n.name=a.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function iW(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=t&&t.fullVersionList,i=e.mobile||!1,o=r[0],a=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),s={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Ql(XD,r).brand||QD(qD())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Hb(K0,function(h){return KD(r,h)});var u=Ql(YD,r);if(s.chromium=!!u.brand,s.chromiumVersion=u.version,!s.chromium){var c=Ql(K0,r);s.webkit=!!c.brand,s.webkitVersion=c.version}var f=GD(JD,function(h){return new RegExp(""+h.test,"g").exec(a)});if(l.name=f?f.id:"",t&&(l.version=t.platformVersion),n&&n.length){var d=Ql(q0,n);s.name=d.brand||s.name,s.version=d.version||s.version}else{var p=Ql(q0,r);s.name=p.brand||s.name,s.version=p.brand&&t?t.uaFullVersion:p.version}return s.webkit&&(l.name=i?"ios":"mac"),l.name==="ios"&&s.webview&&(s.version="-1"),l.version=G0(l.version),s.version=G0(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:i,isHints:!0}}function oW(t){return typeof t>"u"&&tW()?iW():nW(t)}function aW(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function sW(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function la(t,e){return function(r){r&&(t[e]=r)}}function ZD(t,e,r){return function(n){n&&(t[e][r]=n)}}function lW(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(i){var o=e[i]||i;o in r||(r[o]=function(){for(var a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(a=this[n])[i].apply(a,s);return u===this[n]?this:u})})}}var uW="function",cW="object",fW="string",dW="number",$b="undefined",eR=typeof window!==$b,pW=typeof document!==$b&&document,hW=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ot=1e-7,Uf={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gW(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function Lp(t,e,r,n){return(t*n+e*r)/(r+n)}function Vb(t){return typeof t===$b}function Dn(t){return t&&typeof t===cW}function Kt(t){return Array.isArray(t)}function Mi(t){return typeof t===fW}function Oc(t){return typeof t===dW}function Wb(t){return typeof t===uW}function mW(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function tR(t,e,r,n,i){var o=Gb(t,e,r);return o?r:vW(t,e,r+1,n,i)}function Gb(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function vW(t,e,r,n,i){for(var o=function(u){var c=e[u].trim();if(c===t.close&&!Gb(t,e,u))return{value:u};var f=u,d=Vr(i,function(p){var h=p.open;return h===c});if(d&&(f=tR(d,e,u,n,i)),f===-1)return a=u,"break";u=f,a=u},a,s=r;s<n;++s){var l=o(s);if(s=a,typeof l=="object")return l.value;if(l==="break")break}return-1}function qb(t,e){var r=Mi(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,o=r.isSeparateFirst,a=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?a:s,u=r.openCloseCharacters,c=u===void 0?hW:u,f=c.map(function(C){var E=C.open,k=C.close;return E===k?E:E+"|"+k}).join("|"),d="(\\s*"+i+"\\s*|"+f+"|\\s+)",p=new RegExp(d,"g"),h=t.split(p).filter(function(C){return C&&C!=="undefined"}),g=h.length,m=[],v=[];function b(){return v.length?(m.push(v.join("")),v=[],!0):!1}for(var w=function(C){var E=h[C].trim(),k=C,T=Vr(c,function(_){var N=_.open;return N===E}),A=Vr(c,function(_){var N=_.close;return N===E});if(T){if(k=tR(T,h,C,g,c),k!==-1&&l)return b()&&o||(m.push(h.slice(C,k+1).join("")),C=k,o)?(y=C,"break"):(y=C,"continue")}else if(A&&!Gb(A,h,C)){var O=gW(c);return O.splice(c.indexOf(A),1),{value:qb(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:a,isSeparateOpenClose:l,openCloseCharacters:O})}}else if(mW(E,i)&&!a)return b(),o?(y=C,"break"):(y=C,"continue");k===-1&&(k=g-1),v.push(h.slice(C,k+1).join("")),C=k,y=C},y,x=0;x<g;++x){var S=w(x);if(x=y,typeof S=="object")return S.value;if(S==="break")break}return v.length&&m.push(v.join("")),m}function Eo(t){return qb(t,"")}function ea(t){return qb(t,",")}function rR(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function nf(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function yW(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function _c(){return Date.now?Date.now():new Date().getTime()}function Ti(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function Vr(t,e,r){var n=Ti(t,e);return n>-1?t[n]:r}var nR=function(){var t=_c(),e=eR&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=_c(),i=setTimeout(function(){r(n-t)},1e3/60);return i}}(),bW=function(){var t=eR&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function Cl(t){return Object.keys(t)}function Qe(t,e){var r=nf(t),n=r.value,i=r.unit;if(Dn(e)){var o=e[i];if(o){if(Wb(o))return o(n);if(Uf[i])return Uf[i](n,o)}}else if(i==="%")return n*e/100;return Uf[i]?Uf[i](n):n}function Y0(t,e,r){return Math.max(e,Math.min(t,r))}function NC(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[Ne(e[0],Ot),Ne(e[0]/n,Ot)],[Ne(e[1]*n,Ot),Ne(e[1],Ot)]].filter(function(i){return i.every(function(o,a){var s=e[a],l=Ne(s,Ot);return r?o<=s||o<=l:o>=s||o>=l})})[0]||t}function iR(t,e,r,n){if(!n)return t.map(function(p,h){return Y0(p,e[h],r[h])});var i=t[0],o=t[1],a=n===!0?i/o:n,s=NC(t,e,!1,a),l=s[0],u=s[1],c=NC(t,r,!0,a),f=c[0],d=c[1];return i<l||o<u?(i=l,o=u):(i>f||o>d)&&(i=f,o=d),[i,o]}function wW(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function X0(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function Et(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function SW(t){return[0,1].map(function(e){return X0(t.map(function(r){return r[e]}))})}function IC(t){var e=SW(t),r=Et(e,t[0]),n=Et(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function xi(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function Ne(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function LC(t,e){return t.forEach(function(r,n){t[n]=Ne(t[n],e)}),t}function xW(t){for(var e=[],r=0;r<t;++r)e.push(r);return e}function EW(t){return t.reduce(function(e,r){return e.concat(r)},[])}function Rt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function oR(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function aR(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function ir(t,e,r,n){t.addEventListener(e,r,n)}function Yt(t,e,r,n){t.removeEventListener(e,r,n)}function Kb(t){return(t==null?void 0:t.ownerDocument)||pW}function Yb(t){return Kb(t).documentElement}function Ro(t){return Kb(t).body}function go(t){var e;return((e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function sR(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function Xb(t){return Dn(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}function CW(t,e,r,n,i,o){for(var a=0;a<i;++a){var s=r+a*i,l=n+a*i;t[s]+=t[l]*o,e[s]+=e[l]*o}}function kW(t,e,r,n,i){for(var o=0;o<i;++o){var a=r+o*i,s=n+o*i,l=t[a],u=e[a];t[a]=t[s],t[s]=l,e[a]=e[s],e[s]=u}}function TW(t,e,r,n,i){for(var o=0;o<n;++o){var a=r+o*n;t[a]/=i,e[a]/=i}}function lR(t,e,r){r===void 0&&(r=Math.sqrt(t.length));for(var n=t.slice(),i=0;i<r;++i)n[i*r+e-1]=0,n[(e-1)*r+i]=0;return n[(e-1)*(r+1)]=1,n}function ri(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=at(e),i=0;i<e;++i){var o=e*i+i;if(!Ne(r[o],Ot)){for(var a=i+1;a<e;++a)if(r[e*i+a]){kW(r,n,i,a,e);break}}if(!Ne(r[o],Ot))return[];TW(r,n,i,e,r[o]);for(var a=0;a<e;++a){var s=a,l=a+i*e,u=r[l];!Ne(u,Ot)||i===a||CW(r,n,s,i,e,-u)}}return n}function OW(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function uR(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],i=0;i<e-1;++i)r[i]=t[e*(e-1)+i]/n;return r[e-1]=0,r}function _W(t,e){for(var r=at(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function ba(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function Rn(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=at(r),i=Math.min(e,r),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)n[o*r+a]=t[o*e+a];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function Bp(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=at(t);return e.forEach(function(i){n=et(n,i,t)}),n}function et(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,o=e.length/i;if(i){if(!o)return t}else return e;for(var a=0;a<r;++a)for(var s=0;s<o;++s){n[s*r+a]=0;for(var l=0;l<i;++l)n[s*r+a]+=t[l*r+a]*e[s*i+l]}return n}function qe(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function Oe(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function MW(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function cR(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function dr(t,e,r){r===void 0&&(r=e.length);var n=et(t,e,r),i=n[r-1];return n.map(function(o){return o/i})}function AW(t,e){return et(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function DW(t,e){return et(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function RW(t,e){return et(t,af(e,4))}function $f(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],o=i===void 0?1:i,a=e[2],s=a===void 0?1:a;return et(t,[n,0,0,0,0,o,0,0,0,0,s,0,0,0,0,1],4)}function of(t,e){return dr(af(e,3),ba(t,3))}function Pm(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],o=i===void 0?0:i,a=e[2],s=a===void 0?0:a;return et(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,s,1],4)}function BC(t,e){return et(t,e,4)}function af(t,e){var r=Math.cos(t),n=Math.sin(t),i=at(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function at(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function Jb(t,e){for(var r=at(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[(e+1)*i]=t[i];return r}function wa(t,e){for(var r=at(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[e*(e-1)+i]=t[i];return r}function Qb(t,e,r,n,i,o,a,s){var l=t[0],u=t[1],c=e[0],f=e[1],d=r[0],p=r[1],h=n[0],g=n[1],m=i[0],v=i[1],b=o[0],w=o[1],y=a[0],x=a[1],S=s[0],C=s[1],E=[l,0,c,0,d,0,h,0,u,0,f,0,p,0,g,0,1,0,1,0,1,0,1,0,0,l,0,c,0,d,0,h,0,u,0,f,0,p,0,g,0,1,0,1,0,1,0,1,-m*l,-v*l,-b*c,-w*c,-y*d,-x*d,-S*h,-C*h,-m*u,-v*u,-b*f,-w*f,-y*p,-x*p,-S*g,-C*g],k=ri(E,8);if(!k.length)return[];var T=et(k,[m,v,b,w,y,x,S,C],8);return T[8]=1,Rn(OW(T),3,4)}var Vu=function(){return Vu=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Vu.apply(this,arguments)};function PW(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Mc(t,e){return e===void 0&&(e=0),Ya(Qs(t,e))}function NW(t,e){var r=dr(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function Ya(t){var e=PW();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function Qs(t,e){e===void 0&&(e=0);var r=Kt(t)?t:Eo(t);return r.map(function(n){var i=rR(n),o=i.prefix,a=i.value,s=null,l=o,u="";if(o==="translate"||o==="translateX"||o==="translate3d"){var c=Dn(e)?Vu(Vu({},e),{"o%":e["%"]}):{"%":e,"o%":e},f=ea(a).map(function(_,N){return N===0&&"x%"in c?c["%"]=e["x%"]:N===1&&"y%"in c?c["%"]=e["y%"]:c["%"]=e["o%"],Qe(_,c)}),d=f[0],p=f[1],h=p===void 0?0:p,g=f[2],m=g===void 0?0:g;s=Pm,u=[d,h,m]}else if(o==="translateY"){var v=Dn(e)?Vu({"%":e["y%"]},e):{"%":e},h=Qe(a,v);s=Pm,u=[0,h,0]}else if(o==="translateZ"){var m=parseFloat(a);s=Pm,u=[0,0,m]}else if(o==="scale"||o==="scale3d"){var b=ea(a).map(function(_){return parseFloat(_)}),w=b[0],y=b[1],x=y===void 0?w:y,S=b[2],C=S===void 0?1:S;s=$f,u=[w,x,C]}else if(o==="scaleX"){var w=parseFloat(a);s=$f,u=[w,1,1]}else if(o==="scaleY"){var x=parseFloat(a);s=$f,u=[1,x,1]}else if(o==="scaleZ"){var C=parseFloat(a);s=$f,u=[1,1,C]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var E=nf(a),k=E.unit,T=E.value,A=k==="rad"?T:T*Math.PI/180;o==="rotate"||o==="rotateZ"?(l="rotateZ",s=RW):o==="rotateX"?s=AW:o==="rotateY"&&(s=DW),u=A}else if(o==="matrix3d")s=BC,u=ea(a).map(function(_){return parseFloat(_)});else if(o==="matrix"){var O=ea(a).map(function(_){return parseFloat(_)});s=BC,u=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else l="";return{name:o,functionName:l,value:a,matrixFunction:s,functionValue:u}})}var IW=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var i=this.keys,o=this.values,a=i.indexOf(r),s=a===-1?i.length:a;i[s]=r,o[s]=n},t}(),LW=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),BW=typeof Map=="function",zW=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function FW(t,e){var r=[],n=[];return t.forEach(function(i){var o=i[0],a=i[1],s=new zW;r[o]=s,n[a]=s}),r.forEach(function(i,o){i.connect(r[o-1])}),t.filter(function(i,o){return!e[o]}).map(function(i,o){var a=i[0],s=i[1];if(a===s)return[0,0];var l=r[a],u=n[s-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,r[0]);var f=l.getIndex();return[c,f]})}var jW=function(){function t(r,n,i,o,a,s,l,u){this.prevList=r,this.list=n,this.added=i,this.removed=o,this.changed=a,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=FW(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(o,a){var s=o[0],l=o[1],u=n[a],c=u[0],f=u[1];if(s!==l)return i.push([c,f]),!0}),this.cachePureChanged=i},t}();function Zb(t,e,r){var n=BW?Map:r?LW:IW,i=r||function(b){return b},o=[],a=[],s=[],l=t.map(i),u=e.map(i),c=new n,f=new n,d=[],p=[],h={},g=[],m=0,v=0;return l.forEach(function(b,w){c.set(b,w)}),u.forEach(function(b,w){f.set(b,w)}),l.forEach(function(b,w){var y=f.get(b);typeof y>"u"?(++v,a.push(w)):h[y]=v}),u.forEach(function(b,w){var y=c.get(b);typeof y>"u"?(o.push(w),++m):(s.push([y,w]),v=h[w]||0,d.push([y-v,w-m]),p.push(w===y),y!==w&&g.push([y,w]))}),a.reverse(),new jW(t,e,o,a,g,s,d,p)}var HW=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),i=Zb(this.list,n,this.findKeyCallback);return this.list=n,i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var J0=function(t,e){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},J0(t,e)};function UW(t,e){J0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fR=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),$W=function(t){UW(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,fR)||this}return e}(HW);function VW(t,e){return Zb(t,e,fR)}const dR=$W;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q0=function(){return Q0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Q0.apply(this,arguments)};function WW(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var GW=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(Dn(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(Dn(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var o=this._events[r];if(o){var a=Ti(o,function(s){return s.listener===n});a>-1&&o.splice(a,1)}}return this},e.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(o){i._addEvent(r,o,{once:!0})})},e.emit=function(r,n){var i=this;n===void 0&&(n={});var o=this._events[r];if(!r||!o)return!0;var a=!1;return n.eventType=r,n.stop=function(){a=!0},n.currentTarget=this,WW(o).forEach(function(s){s.listener(n),s.once&&i.off(r,s.listener)}),!a},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,i){var o=this._events;o[r]=o[r]||[];var a=o[r];a.push(Q0({listener:n},i))},t}();const ew=GW;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Z0=function(t,e){return Z0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Z0(t,e)};function qW(t,e){Z0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cs=function(){return cs=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},cs.apply(this,arguments)};function KW(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function zC(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function Vf(t){if(t){if(Mi(t))return document.querySelector(t)}else return null;if(Wb(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var YW=function(t){qW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(o){n.checkScroll({container:i.container,inputEvent:o})}})},n}var r=e.prototype;return r.dragStart=function(n,i){var o=Vf(i.container);if(!o){this._flag=!1;return}var a=0,s=0,l=0,u=0;if(o===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=o.getBoundingClientRect();a=c.top,s=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:a,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var o=n.clientX,a=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,c=u._startRect,f=u._startPos;this._currentOptions=i;var d=[0,0];return c.top>a-l?(f[1]>c.top||a<f[1])&&(d[1]=-1):c.top+c.height<a+l&&(f[1]<c.top+c.height||a>f[1])&&(d[1]=1),c.left>o-l?(f[0]>c.left||o<f[0])&&(d[0]=-1):c.left+c.width<o+l&&(f[0]<c.left+c.width||o>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(cs(cs({},i),{direction:d,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var o=n.prevScrollPos,a=o===void 0?this._prevScrollPos:o,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,c=n.inputEvent,f=n.isDrag,d=this._getScrollPosition(s||[0,0],n),p=d[0]-a[0],h=d[1]-a[1],g=s||[p?Math.abs(p)/p:0,h?Math.abs(h)/h:0];return this._prevScrollPos=d,this._lock=!1,!p&&!h?!1:(this.emit("move",{offsetX:g[0]?p:0,offsetY:g[1]?h:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var o=i.container,a=i.getScrollPosition,s=a===void 0?KW:a;return s({container:Vf(o),direction:n})},r._continueDrag=function(n){var i=this,o,a=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,c=n.isDrag,f=n.inputEvent;if(!(!this._flag||c&&this._isWait)){var d=_c(),p=Math.max(l+this._prevTime-d,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},p),!1;this._prevTime=d;var h=this._getScrollPosition(s,n);this._prevScrollPos=h,c&&(this._isWait=!0),u||(this._lock=!0);var g={container:Vf(a),direction:s,inputEvent:f};return(o=n.requestScroll)===null||o===void 0||o.call(n,g),this.emit("scroll",g),this._isWait=!1,u||this.checkScroll(cs(cs({},n),{prevScrollPos:h,direction:s,inputEvent:f}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var o=i===!0?zC:i,a=Vf(n.container);i===!0&&(a===document.body||a===document.documentElement)?this._unregister=zC(window,this._onScroll):this._unregister=o(a,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},e}(ew);const XW=YW;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JW(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function Ar(t){return Ne(t,Ot)}function QW(t,e){return t.every(function(r,n){return Ar(r-e[n])===0})}function ZW(t,e){return!Ar(t[0]-e[0])&&!Ar(t[1]-e[1])}function pR(t){return t.length<3?0:Math.abs(wW(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function FC(t,e){var r=e.width,n=e.height,i=e.left,o=e.top,a=Sa(t),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY,f=r/(u-s),d=n/(c-l);return t.map(function(p){return[i+(p[0]-s)*f,o+(p[1]-l)*d]})}function Sa(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function ey(t,e,r){var n=t[0],i=t[1],o=Sa(e),a=o.minX,s=o.maxX,l=[[a,i],[s,i]],u=zp(l[0],l[1]),c=ty(e),f=[];if(c.forEach(function(h){var g=zp(h[0],h[1]),m=h[0];if(QW(u,g))f.push({pos:t,line:h,type:"line"});else{var v=hR(tw(u,g),[l,h]);v.forEach(function(b){h.some(function(w){return ZW(w,b)})?f.push({pos:b,line:h,type:"point"}):Ar(m[1]-i)!==0&&f.push({pos:b,line:h,type:"intersection"})})}}),!r&&Vr(f,function(h){return h[0]===n}))return!0;var d=0,p={};return f.forEach(function(h){var g=h.pos,m=h.type,v=h.line;if(!(g[0]>n))if(m==="intersection")++d;else{if(m==="line")return;if(m==="point"){var b=Vr(v,function(x){return x[1]!==i}),w=p[g[0]],y=b[1]>i?1:-1;w?w!==y&&++d:p[g[0]]=y}}}),d%2===1}function zp(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=i-r,s=o-n;Math.abs(a)<Ot&&(a=0),Math.abs(s)<Ot&&(s=0);var l=0,u=0,c=0;return a?s?(l=-s/a,u=1,c=-l*r-n):(u=1,c=-n):s&&(l=-1,c=r),[l,u,c]}function tw(t,e){var r=t[0],n=t[1],i=t[2],o=e[0],a=e[1],s=e[2],l=r===0&&o===0,u=n===0&&a===0,c=[];if(l&&u)return[];if(l){var f=-i/n,d=-s/a;return f!==d?[]:[[-1/0,f],[1/0,f]]}else if(u){var p=-i/r,h=-s/o;return p!==h?[]:[[p,-1/0],[p,1/0]]}else if(r===0){var g=-i/n,m=-(a*g+s)/o;c=[[m,g]]}else if(o===0){var g=-s/a,m=-(n*g+i)/r;c=[[m,g]]}else if(n===0){var m=-i/r,g=-(o*m+s)/a;c=[[m,g]]}else if(a===0){var m=-s/o,g=-(r*m+i)/n;c=[[m,g]]}else{var m=(n*s-a*i)/(a*r-n*o),g=-(r*m+i)/n;c=[[m,g]]}return c.map(function(v){return[v[0],v[1]]})}function hR(t,e){var r=e.map(function(f){return[0,1].map(function(d){return[Math.min(f[0][d],f[1][d]),Math.max(f[0][d],f[1][d])]})}),n=[];if(t.length===2){var i=t[0],o=i[0],a=i[1];if(Ar(o-t[1][0])){if(!Ar(a-t[1][1])){var u=Math.max.apply(Math,r.map(function(f){return f[0][0]})),c=Math.min.apply(Math,r.map(function(f){return f[0][1]}));if(Ar(u-c)>0)return[];n=[[u,a],[c,a]]}}else{var s=Math.max.apply(Math,r.map(function(f){return f[1][0]})),l=Math.min.apply(Math,r.map(function(f){return f[1][1]}));if(Ar(s-l)>0)return[];n=[[o,s],[o,l]]}}return n.length||(n=t.filter(function(f){var d=f[0],p=f[1];return r.every(function(h){return 0<=Ar(d-h[0][0])&&0<=Ar(h[0][1]-d)&&0<=Ar(p-h[1][0])&&0<=Ar(h[1][1]-p)})})),n.map(function(f){return[Ar(f[0]),Ar(f[1])]})}function ty(t){return JW(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function e9(t,e){var r=t.slice(),n=e.slice();IC(r)===-1&&r.reverse(),IC(n)===-1&&n.reverse();var i=ty(r),o=ty(n),a=i.map(function(c){return zp(c[0],c[1])}),s=o.map(function(c){return zp(c[0],c[1])}),l=[];a.forEach(function(c,f){var d=i[f],p=[];s.forEach(function(h,g){var m=tw(c,h),v=hR(m,[d,o[g]]);p.push.apply(p,v.map(function(b){return{index1:f,index2:g,pos:b,type:"intersection"}}))}),p.sort(function(h,g){return xi(d[0],h.pos)-xi(d[0],g.pos)}),l.push.apply(l,p),ey(d[1],n)&&l.push({index1:f,index2:-1,pos:d[1],type:"inside"})}),o.forEach(function(c,f){if(ey(c[1],r)){var d=!1,p=Ti(l,function(h){var g=h.index2;return g===f?(d=!0,!1):!!d});p===-1&&(d=!1,p=Ti(l,function(h){var g=h.index1,m=h.index2;return g===-1&&m+1===f?(d=!0,!1):!!d})),p===-1?l.push({index1:-1,index2:f,pos:c[1],type:"inside"}):l.splice(p,0,{index1:-1,index2:f,pos:c[1],type:"inside"})}});var u={};return l.filter(function(c){var f=c.pos,d=f[0]+"x"+f[1];return u[d]?!1:(u[d]=!0,!0)})}function t9(t,e){var r=e9(t,e);return r.map(function(n){var i=n.pos;return i})}function r9(t,e){var r=t9(t,e);return pR(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ry=function(t,e){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ry(t,e)};function n9(t,e){ry(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kt=function(){return kt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},kt.apply(this,arguments)};function i9(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Nm(t){return i9([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function o9(t){return t.touches&&t.touches.length>=2}function Wf(t){return t?t.touches?s9(t.touches):[gR(t)]:[]}function a9(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function jC(t,e,r){var n=r.length,i=Wu(t,n),o=i.clientX,a=i.clientY,s=i.originalClientX,l=i.originalClientY,u=Wu(e,n),c=u.clientX,f=u.clientY,d=Wu(r,n),p=d.clientX,h=d.clientY,g=o-c,m=a-f,v=o-p,b=a-h;return{clientX:s,clientY:l,deltaX:g,deltaY:m,distX:v,distY:b}}function Im(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function s9(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(gR(t[n]));return r}function gR(t){return{clientX:t.clientX,clientY:t.clientY}}function Wu(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,e),i=0;i<n;++i){var o=t[i];r.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,r.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,r.clientX+=o.clientX,r.clientY+=o.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var Lm=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),Nm(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),Nm(e)-Nm(this.startClients)},t.prototype.getPosition=function(e,r){e===void 0&&(e=this.prevClients);var n=jC(e||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,o=n.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=e,n},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var r=this.prevClients,n=this.startClients,i=Math.min(this.length,r.length),o=[],a=0;a<i;++a)o[a]=jC([e[a]],[r[a]],[n[a]]);return o},t.prototype.getMovement=function(e){var r=this.movement;if(!e)return r;var n=Wu(e,this.length),i=Wu(this.prevClients,this.length),o=n.clientX-i.clientX,a=n.clientY-i.clientY;return Math.sqrt(o*o+a*a)+r},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),Im(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),Im(e)/Im(this.startClients)},t.prototype.move=function(e,r){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=e,n.clientY-=r})},t}(),HC=["textarea","input"],l9=function(t){n9(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._window=window,i.onDragStart=function(d,p){if(p===void 0&&(p=!0),!(!i.flag&&d.cancelable===!1)){var h=d.type.indexOf("drag")>=-1;if(!(i.flag&&h)){i._isDragAPI=!0;var g=i.options,m=g.container,v=g.pinchOutside,b=g.preventWheelClick,w=g.preventRightClick,y=g.preventDefault,x=g.checkInput,S=g.dragFocusedInput,C=g.preventClickEventOnDragStart,E=g.preventClickEventOnDrag,k=g.preventClickEventByCondition,T=i._useTouch,A=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,b&&(d.which===2||d.button===1)||w&&(d.which===3||d.button===2))return i.stop(),!1;if(A){var O=i._window.document.activeElement,_=d.target;if(_){var N=_.tagName.toLowerCase(),M=HC.indexOf(N)>-1,L=_.isContentEditable;if(M||L){if(x||!S&&O===_)return!1;if(O&&(O===_||L&&O.isContentEditable&&O.contains(_)))if(S)_.blur();else return!1}else if((y||d.type==="touchstart")&&O){var I=O.tagName.toLowerCase();(O.isContentEditable||HC.indexOf(I)>-1)&&O.blur()}(C||E||k)&&ir(i._window,"click",i._onClick,!0)}i.clientStores=[new Lm(Wf(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=p,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=_c()-i.prevTime<200,i._isMouseEvent=a9(d),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var R=i._preventMouseEvent||i.emit("dragStart",kt(kt({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:p,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));R===!1&&i.stop(),i._isMouseEvent&&i.flag&&y&&d.preventDefault()}if(!i.flag)return!1;var z=0;if(A?(i._attchDragEvent(),T&&v&&(z=setTimeout(function(){ir(m,"touchstart",i.onDragStart,{passive:!1})}))):T&&v&&Yt(m,"touchstart",i.onDragStart),i.flag&&o9(d)){if(clearTimeout(z),A&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,p){if(i.flag){var h=i.options.preventDefault;!i._isMouseEvent&&h&&d.preventDefault(),i._prevInputEvent=d;var g=Wf(d),m=i.moveClients(g,d,!1);if(i._dragFlag){if(i.pinchFlag||m.deltaX||m.deltaY){var v=i._preventMouseEvent||i.emit("drag",kt(kt({},m),{isScroll:!!p,inputEvent:d}));if(v===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,g)}i.getCurrentStore().getPosition(g,!0)}},i.onDragEnd=function(d){if(i.flag){var p=i.options,h=p.pinchOutside,g=p.container,m=p.preventClickEventOnDrag,v=p.preventClickEventOnDragStart,b=p.preventClickEventByCondition,w=i.isDrag;(m||v||b)&&requestAnimationFrame(function(){i._allowClickEvent()}),!b&&!v&&m&&!w&&i._allowClickEvent(),i._useTouch&&h&&Yt(g,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var y=d!=null&&d.touches?Wf(d):[],x=y.length;x===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Lm(y));var S=i._getPosition(),C=_c(),E=!w&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=w||E?0:C,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",kt({data:i.data,datas:i.data,isDouble:E,isDrag:w,isClick:!w,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},S)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Yt(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._preventMouseEvent=!1;var p=i.options.preventClickEventByCondition;p!=null&&p(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var p=i.options;p.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var o=[].concat(r),a=o[0];i._window=sR(a)?a:go(a),i.options=kt({checkInput:!1,container:a&&!("document"in a)?go(a):a,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,l=s.container,u=s.events,c=s.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=o,i._useDrag&&o.forEach(function(d){ir(d,"dragstart",i.onDragStart)}),i._useMouse&&(o.forEach(function(d){ir(d,"mousedown",i.onDragStart),ir(d,"mousemove",i._passCallback)}),ir(l,"contextmenu",i._onContextMenu)),c&&ir(go(),"blur",i.onBlur),i._useTouch){var f={passive:!1};o.forEach(function(d){ir(d,"touchstart",i.onDragStart,f),ir(d,"touchmove",i._passCallback,f)})}return i}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(r,n,i,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(r,n),o&&this.onDrag(i,!0))},e.prototype.move=function(r,n){var i=r[0],o=r[1],a=this.getCurrentStore(),s=a.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+i,clientY:c+o,originalClientX:u,originalClientY:c}}),n,!0)},e.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},e.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},e.prototype.setEventDatas=function(r){return this.setEventData(r)},e.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),kt(kt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),Yt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(o){Yt(o,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(o){Yt(o,"mousedown",r.onDragStart)}),Yt(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(o){Yt(o,"touchstart",r.onDragStart)}),Yt(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(r){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var o=new Lm(Wf(r));this.pinchFlag=!0,this._addStore(o);var a=this.emit("pinchStart",kt(kt({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));a===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",kt(kt({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",kt(kt({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(r,n,i){var o=this._getPosition(r,i),a=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var s=!1;return!a&&this.isDrag&&(s=!0),kt(kt({data:this.data,datas:this.data},o),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},e.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},e.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),o=i.getPosition(r,n),a=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},o),s=a.distX,l=a.distY;return kt(kt({},o),{distX:s,distY:l})},e.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(ir(n,"dragover",this.onDrag,i),ir(r,"dragend",this.onDragEnd)),this._useMouse&&(ir(n,"mousemove",this.onDrag),ir(r,"mouseup",this.onDragEnd)),this._useTouch&&(ir(n,"touchmove",this.onDrag,i),ir(r,"touchend",this.onDragEnd,i),ir(r,"touchcancel",this.onDragEnd,i))},e.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(Yt(n,"dragover",this.onDrag),Yt(r,"dragend",this.onDragEnd)),this._useMouse&&(Yt(n,"mousemove",this.onDrag),Yt(r,"mouseup",this.onDragEnd)),this._useTouch&&(Yt(n,"touchstart",this.onDragStart),Yt(n,"touchmove",this.onDrag),Yt(r,"touchend",this.onDragEnd),Yt(r,"touchcancel",this.onDragEnd))},e}(ew);function u9(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var c9=u9;function f9(t){return c9(t).toString(36)}function d9(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function p9(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var o=i.trim();return(o?ea(o):[""]).map(function(a){var s=a.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function h9(t,e,r,n,i){var o=Kb(n),a=o.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),a.setAttribute("data-styled-count","1"),r.nonce&&a.setAttribute("nonce",r.nonce),a.innerHTML=p9(t,e,r),(i||o.head||o.body).appendChild(a),a}function g9(t){var e="rCS"+f9(t);return{className:e,inject:function(r,n){n===void 0&&(n={});var i=d9(r),o=(i||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!o)o=h9(e,t,n,r,i);else{var a=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(a+1))}return{destroy:function(){var s,l=parseFloat(o.getAttribute("data-styled-count"))||0;l<=1?(o.remove?o.remove():(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(l-1))}}}}}var ny=function(){return ny=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ny.apply(this,arguments)};function m9(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mR(t,e){var r=g9(e),n=r.className;return U.forwardRef(function(i,o){var a=i.className,s=a===void 0?"":a;i.cspNonce;var l=m9(i,["className","cspNonce"]),u=U.useRef();return U.useImperativeHandle(o,function(){return u.current},[]),U.useEffect(function(){var c=r.inject(u.current,{nonce:i.cspNonce});return function(){c.destroy()}},[]),U.createElement(t,ny({ref:u,"data-styled-id":n,className:"".concat(s," ").concat(n)},l))})}var iy=function(t,e){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iy(t,e)};function sf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B=function(){return B=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},B.apply(this,arguments)};function v9(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function y9(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function b9(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function oe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function lf(t,e){return B({events:[],props:[],name:t},e)}var w9=["n","w","s","e"],rw=["n","w","s","e","nw","ne","sw","se"];function S9(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function x9(t){var e=S9(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var kl=oW(),vR=kl.browser.webkit,yR=vR&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),bR=kl.browser.name,wR=parseInt(kl.browser.version,10),E9=bR==="chrome",C9=kl.browser.chromium,k9=parseInt(kl.browser.chromiumVersion,10)||0,T9=E9&&wR>=109||C9&&k9>=109,O9=bR==="firefox",_9=parseInt(kl.browser.webkitVersion,10)>=612||wR>=15,nw="moveable-",M9=rw.map(function(t){var e="",r="",n="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(o,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),A9=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(M9,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(x9(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(yR?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),D9=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],oy=1e-4,kr=1e-7,Gf=1e-9,ay=Math.pow(10,10),UC=-ay,R9={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},iw={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},SR={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},P9=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function uf(t,e,r,n,i,o){var a,s;o===void 0&&(o="draggable");var l=(s=(a=e.gestos[o])===null||a===void 0?void 0:a.move(r,t.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,c=u[o]||(u[o]={});return B(B({},i?s2(e,l):l),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var Zs=function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),B(B({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,o=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var a=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!a&&this.isDrag&&(o=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:o,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Ps(t,e,r,n){var i=t.length===16,o=i?4:3,a=Da(t,r,n,o),s=F(a,4),l=F(s[0],2),u=l[0],c=l[1],f=F(s[1],2),d=f[0],p=f[1],h=F(s[2],2),g=h[0],m=h[1],v=F(s[3],2),b=v[0],w=v[1],y=F(mt(t,e,o),2),x=y[0],S=y[1],C=Math.min(u,d,g,b),E=Math.min(c,p,m,w),k=Math.max(u,d,g,b),T=Math.max(c,p,m,w);u=u-C||0,d=d-C||0,g=g-C||0,b=b-C||0,c=c-E||0,p=p-E||0,m=m-E||0,w=w-E||0,x=x-C||0,S=S-E||0;var A=t[0],O=t[o+1],_=vr(A*O);return{left:C,top:E,right:k,bottom:T,origin:[x,S],pos1:[u,c],pos2:[d,p],pos3:[g,m],pos4:[b,w],direction:_}}function xR(t,e){var r=e.clientX,n=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,l=o.is3d,u=o.pos1,c=a.left,f=a.top,d=l?4:3,p=F(Oe(rl(s,[r-c,n-f],d),u),2),h=p[0],g=p[1],m=F(oi({datas:i,distX:h,distY:g}),2),v=m[0],b=m[1];return[v,b]}function Aa(t,e){var r=e.datas,n=t.state,i=n.allMatrix,o=n.beforeMatrix,a=n.is3d,s=n.left,l=n.top,u=n.origin,c=n.offsetMatrix,f=n.targetMatrix,d=n.transformOrigin,p=a?4:3;r.is3d=a,r.matrix=i,r.targetMatrix=f,r.beforeMatrix=o,r.offsetMatrix=c,r.transformOrigin=d,r.inverseMatrix=ri(i,p),r.inverseBeforeMatrix=ri(o,p),r.absoluteOrigin=ba(qe([s,l],u),p),r.startDragBeforeDist=dr(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=dr(r.inverseMatrix,r.absoluteOrigin,p)}function N9(t){return Ps(t.datas.beforeTransform,[50,50],100,100).direction}function eg(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,o=n.transformIndex,a=i.nextTransforms,s=a.length,l=i.nextTransformAppendedIndexes,u=-1;o===-1?(r==="translate"?u=0:r==="rotate"&&(u=Ti(a,function(p){return p.match(/scale\(/g)})),u===-1&&(u=a.length),n.transformIndex=u):Vr(l,function(p){return p.index===o&&p.functionName===r})?u=o:u=o+l.filter(function(p){return p.index<o}).length;var c=a7(a,t.state,u),f=c.targetFunction,d=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.beforeTransform2=c.beforeFunctionMatrix2,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.afterTransform2=c.afterFunctionMatrix2,n.targetAllTransform=c.allFunctionMatrix,f.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>u&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=oe(oe([],F(l),!1),[{functionName:r,index:u,isAppend:!0}],!1))}function tg(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function I9(t){var e=t.datas,r=t.distX,n=t.distY,i=F(CR({datas:e,distX:r,distY:n}),2),o=i[0],a=i[1],s=ER(e,_W([o,a],4));return dr(s,ba([0,0,0],4),4)}function ER(t,e,r){var n=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,l=r?et(s,e,4):et(e,s,4),u=et(ri(r?o:n,4),l,4),c=et(u,ri(r?a:i,4),4);return c}function CR(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist,s=e.absoluteOrigin,l=o?4:3;return Oe(dr(i,qe(s,[r,n]),l),a)}function oi(t,e){var r=t.datas,n=t.distX,i=t.distY,o=r.inverseBeforeMatrix,a=r.inverseMatrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,f=s?4:3;return Oe(dr(e?o:a,qe(c,[n,i]),f),e?l:u)}function L9(t,e){var r=t.datas,n=t.distX,i=t.distY,o=r.beforeMatrix,a=r.matrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,f=s?4:3;return Oe(dr(e?o:a,qe(e?l:u,[n,i]),f),c)}function B9(t,e,r,n,i,o){return n===void 0&&(n=e),i===void 0&&(i=r),o===void 0&&(o=[0,0]),t?t.map(function(a,s){var l=nf(a),u=l.value,c=l.unit,f=s?i:n,d=s?r:e;if(a==="%"||isNaN(u)){var p=f?o[s]/f:0;return d*p}else if(c!=="%")return u;return d*u/100}):o}function kR(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function z9(t,e){return kR(e).map(function(r){return t[r]})}function Bm(t,e){var r=(e+1)/2;return[Lp(t[0][0],t[1][0],r,1-r),Lp(t[0][1],t[1][1],r,1-r)]}function Pt(t,e){var r=Bm([t[0],t[1]],e[0]),n=Bm([t[2],t[3]],e[0]);return Bm([r,n],e[1])}function F9(t,e,r,n,i,o){var a=Da(e,r,n,i),s=Pt(a,o),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function cf(t,e,r,n){return et(t,qu(e,n,r),n)}function j9(t,e,r,n){var i=t.transformOrigin,o=t.offsetMatrix,a=t.is3d,s=a?4:3,l;if(Mi(r)){var u=e.beforeTransform,c=e.afterTransform;n?l=Rn(Mc(r),4,s):l=Rn(et(et(u,Mc([r]),4),c,4),4,s)}else l=r;return cf(o,l,i,s)}function H9(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,a=t.targetAllTransform,s=i?4:3;return cf(n,et(a||o,Jb(e,s),s),r,s)}function rg(t,e){var r=Tl(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=Kt(n)?n:Eo(n),sy(t,e,i)},setTransformIndex:function(n){sy(t,e,n)}}}function ng(t,e,r){var n=Tl(e),i=n.startTransforms;sy(t,e,Ti(i,function(o){return o.indexOf("".concat(r,"("))===0}))}function sy(t,e,r){var n=Tl(e),i=e.datas;if(i.transformIndex=r,r!==-1){var o=n.startTransforms[r];if(o){var a=t.state,s=Qs([o],{"x%":function(l){return l/100*a.offsetWidth},"y%":function(l){return l/100*a.offsetHeight}});i.startValue=s[0].functionValue}}}function ow(t,e){var r=Tl(t);r.nextTransforms=Eo(e)}function Tl(t){return t.originalDatas.beforeRenderable}function Fp(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function qf(t){return(Fp(t)||[]).join(" ")}function Kf(t){return Tl(t).nextStyle}function TR(t,e,r,n,i){ow(i,e);var o=mr.drag(t,uf(i,t.state,r,n,!1)),a=o?o.transform:e;return B(B({transform:e,drag:o},wr({transform:a},i)),{afterTransform:a})}function aw(t,e,r,n,i,o){var a=j9(t.state,i,e,o),s=V9(t,r,n,a);return s}function OR(t,e,r,n,i,o,a){var s=aw(t,e,r,i,o,a),l=t.state,u=l.left,c=l.top,f=t.props.groupable,d=f?u:0,p=f?c:0,h=Oe(n,s);return Oe(h,[d,p])}function U9(t,e,r,n,i,o,a){var s=OR(t,e,r,n,i,o,a);return s}function $9(t,e,r){return[e?-1+t[0]/(e/2):0,r?-1+t[1]/(r/2):0]}function V9(t,e,r,n){n===void 0&&(n=t.state.allMatrix);var i=t.state,o=i.width,a=i.height,s=i.is3d,l=s?4:3,u=[o/2*(1+e[0])+r[0],a/2*(1+e[1])+r[1]];return mt(n,u,l)}function W9(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,o=r.fixedOffset;return OR(t,"rotate(".concat(e,"deg)"),n,i,o,r)}function G9(t,e,r,n,i,o){var a=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,c=s.is3d,f=s.width,d=s.height,p=s.left,h=s.top,g=o.fixedDirection,m=o.nextTargetMatrix||s.targetMatrix,v=c?4:3,b=B9(i,e,r,f,d,l),w=a?p:0,y=a?h:0,x=cf(u,m,b,v),S=F9(n,x,e,r,v,g);return Oe(S,[w,y])}function q9(t,e){return Pt(pn(t.state),e)}function K9(t,e){var r=t.targetGesto,n=t.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[e]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[e]),i||{}}function Y9(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function X9(t){var e=t("scale"),r=t("rotate"),n=t("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&i.push("rotate(".concat(r,")")),e&&e!=="1"&&e!=="none"&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function _R(t,e,r){for(var n=t,i=[],o=Yb(t)||Ro(t),a=!r&&t===e||t===o,s=a,l=!1,u=3,c,f,d,p=!1,h=Dc(e,e,!0).offsetParent,g=1;n&&!s;){s=a;var m=Fr(n),v=m("position"),b=XR(n),w=v==="fixed",y=X9(m),x=MW(qG(b)),S=void 0,C=!1,E=!1,k=0,T=0,A=0,O=0,_={hasTransform:!1,fixedContainer:null};w&&(p=!0,_=QG(n),h=_.fixedContainer);var N=x.length;!l&&(N===16||y.length)&&(l=!0,u=4,py(i),d&&(d=Rn(d,3,4))),l&&N===9&&(x=Rn(x,3,4));var M=JG(n,t),L=M.tagName,I=M.hasOffset,R=M.isSVG,z=M.origin,j=M.targetOrigin,D=M.offset,$=F(D,2),V=$[0],W=$[1];L==="svg"&&!t.ownerSVGElement&&d&&(i.push({type:"target",target:n,matrix:ZG(n,u)}),i.push({type:"offset",target:n,matrix:at(u)}));var q=parseFloat(m("zoom"))||1;if(w)S=_.fixedContainer,C=!0;else{var Y=Dc(n,e,!1,!0,m),te=Y.offsetZoom;if(S=Y.offsetParent,C=Y.isEnd,E=Y.isStatic,g*=te,(Y.isCustomElement||te!==1)&&E)V-=S.offsetLeft,W-=S.offsetTop;else if(O9||T9){var ee=Y.parentSlotElement;if(ee){for(var he=S,ve=0,J=0;he&&Y9(he);)ve+=he.offsetLeft,J+=he.offsetTop,he=he.offsetParent;V-=ve,W-=J}}}if(vR&&!_9&&I&&!R&&E&&(v==="relative"||v==="static")&&(V-=S.offsetLeft,W-=S.offsetTop,a=a||C),w)I&&_.hasTransform&&(A=S.clientLeft,O=S.clientTop);else if(I&&h!==S&&(k=S.clientLeft,T=S.clientTop),I&&S===o){var ue=JR(n,!1);V+=ue[0],W+=ue[1]}if(i.push({type:"target",target:n,matrix:qu(x,u,z)}),y.length&&(i.push({type:"offset",target:n,matrix:at(u)}),i.push({type:"target",target:n,matrix:qu(Mc(y),u,z)})),I){var Ae=n===t,ye=Ae?0:n.scrollLeft,Z=Ae?0:n.scrollTop;i.push({type:"offset",target:n,matrix:wa([V-ye+k-A,W-Z+T-O],u)})}else i.push({type:"offset",target:n,origin:z});if(q!==1&&i.push({type:"zoom",target:n,matrix:qu(Jb([q,q],u),u,[0,0])}),d||(d=x),c||(c=z),f||(f=j),s||w)break;n=S,a=C,(!r||n===o)&&(s=a)}return d||(d=at(u)),c||(c=[0,0]),f||(f=[0,0]),{zoom:g,offsetContainer:h,matrixes:i,targetMatrix:d,transformOrigin:c,targetOrigin:f,is3d:l,hasFixed:p}}var jo=null,Ho=null,fs=null;function el(t){t?(window.Map&&(jo=new Map,Ho=new Map),fs=[]):(jo=null,fs=null,Ho=null)}function J9(t){var e=Ho==null?void 0:Ho.get(t);if(e)return e;var r=Ku(t,!0);return Ho&&Ho.set(t,r),r}function Q9(t,e){if(fs){var r=Vr(fs,function(i){return i[0][0]==t&&i[0][1]==e});if(r)return r[1]}var n=_R(t,e,!0);return fs&&fs.push([[t,e],n]),n}function Fr(t){var e=jo==null?void 0:jo.get(t);if(!e){var r=go(t).getComputedStyle(t);if(!jo)return function(o){return r[o]};e={style:r,cached:{}},jo.set(t,e)}var n=e.cached,i=e.style;return function(o){return o in n||(n[o]=i[o]),n[o]}}function _n(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(a,s){return o[s]=o[s]||{},o[s][e]=o[s][e]||{},B(B({},r),{isRequestChild:!0,datas:o[s][e],originalDatas:o[s]})})}function zm(t,e,r,n,i,o,a){var s=!!r.match(/Start$/g),l=!!r.match(/End$/g),u=i.isPinch,c=i.datas,f=_n(t,e.name,i),d=t.moveables,p=[],h=f.map(function(g,m){var v=d[m],b=v.state,w=b.gestos,y=g;if(s)y=new Zs(a).dragStart(n,g),p.push(y);else{if(w[a]||(w[a]=c.childGestos[m]),!w[a])return;y=uf(g,b,n,u,o,a),p.push(y)}var x=e[r](v,B(B({},y),{parentFlag:!0}));return l&&(w[a]=null),x});return s&&(c.childGestos=d.map(function(g){return g.state.gestos[a]})),{eventParams:h,childEvents:p}}function Ei(t,e,r,n,i,o){i===void 0&&(i=function(c,f){return f});var a=!!r.match(/End$/g),s=_n(t,e.name,n),l=t.moveables,u=s.map(function(c,f){var d=l[f],p=c;p=i(d,c);var h=e[r](d,B(B({},p),{parentFlag:!0}));return h&&o&&o(d,c,h,f),a&&(d.state.gestos={}),h});return u}function jp(t,e,r,n){var i=r.fixedDirection,o=r.fixedPosition,a=n.datas.startPositions||pn(e.state),s=Pt(a,i),l=F(dr(af(-t.rotation/180*Math.PI,3),[s[0]-o[0],s[1]-o[1],1],3),2),u=l[0],c=l[1];return n.datas.originalX=u,n.datas.originalY=c,n}function MR(t,e,r,n){var i=t.getState(),o=i.renderPoses,a=i.rotation,s=i.direction,l=xa(t.props,e).zoom,u=Gu(a/Math.PI*180),c={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var d=f.renderDirectionMap;r.forEach(function(h){var g=h.dir;c[g]=!0});var p=vr(s);return r.map(function(h){var g=h.data,m=h.classNames,v=h.dir,b=iw[v];if(!b||!c[v])return null;d[v]=!0;var w=(Ne(u,15)+p*SR[v]+720)%180,y={};return Cl(g).forEach(function(x){y["data-".concat(x)]=g[x]}),n.createElement("div",B({className:Te.apply(void 0,oe(["control","direction",v,e],F(m),!1)),"data-rotation":w,"data-direction":v},y,{key:"direction-".concat(v),style:Vp.apply(void 0,oe([a,l],F(b.map(function(x){return o[x]})),!1))}))})}function AR(t,e,r,n){var i=xa(t.props,r),o=i.renderDirections,a=o===void 0?e:o,s=i.displayAroundControls;if(!a)return[];var l=a===!0?rw:a;return oe(oe([],F(s?NR(t,n,r,l):[]),!1),F(MR(t,r,l.map(function(u){return{data:{},classNames:[],dir:u}}),n)),!1)}function Ac(t,e,r,n,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var l=Et(r,n),u=e?Ne(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:Te.apply(void 0,oe(["line","direction",e?"edge":"",e],F(a),!1)),"data-rotation":u,"data-line-key":o,"data-direction":e,style:vu(r,n,i,l)})}function DR(t,e,r,n,i){var o=r===!0?w9:r;return o.map(function(a,s){var l=F(iw[a],2),u=l[0],c=l[1];if(c!=null)return Ac(t,a,n[u],n[c],i,"".concat(e,"Edge").concat(s),e)}).filter(Boolean)}function RR(t){return function(e,r){var n=xa(e.props,t).edge;return n&&(n===!0||n.length)?oe(oe([],F(DR(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),F(Z9(e,t,r)),!1):PR(e,t,r)}}function PR(t,e,r){return AR(t,rw,e,r)}function Z9(t,e,r){return AR(t,["nw","ne","sw","se"],e,r)}function NR(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var o=t.getState(),a=o.renderPoses,s=o.rotation,l=o.direction,u=i.renderDirectionMap,c=t.props.zoom,f=vr(l),d=s/Math.PI*180;return(n||Cl(u)).map(function(p){var h=iw[p];if(!h)return null;var g=(Ne(d,15)+f*SR[p]+720)%180,m=["around-control"];return r&&m.push("direction",r),e.createElement("div",{className:Te.apply(void 0,oe([],F(m),!1)),"data-rotation":g,"data-direction":p,key:"direction-around-".concat(p),style:Vp.apply(void 0,oe([s,c],F(h.map(function(v){return a[v]})),!1))})})}function sw(t,e,r){var n=t||{},i=n.position,o=i===void 0?"client":i,a=n.left,s=a===void 0?-1/0:a,l=n.top,u=l===void 0?-1/0:l,c=n.right,f=c===void 0?1/0:c,d=n.bottom,p=d===void 0?1/0:d,h={position:o,left:s,top:u,right:f,bottom:p};return{vertical:$C(h,e,!0),horizontal:$C(h,r,!1)}}function ig(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,o=n.clientWidth,a=n.clientLeft,s=n.clientTop,l=r.snapOffset,u=l.left,c=l.top,f=l.right,d=l.bottom,p=e||t.props.bounds||{},h=p.position||"client",g=h==="css",m=p.left,v=m===void 0?-1/0:m,b=p.top,w=b===void 0?-1/0:b,y=p.right,x=y===void 0?g?-1/0:1/0:y,S=p.bottom,C=S===void 0?g?-1/0:1/0:S;return g&&(x=o+f-u-x,C=i+d-c-C),{left:v+u-a,right:x+u-a,top:w+c-s,bottom:C+c-s}}function eG(t,e,r){var n=ig(t),i=n.left,o=n.top,a=n.right,s=n.bottom,l=F(r,2),u=l[0],c=l[1],f=F(Oe(r,e),2),d=f[0],p=f[1];Q(d)<kr&&(d=0),Q(p)<kr&&(p=0);var h=p>0,g=d>0,m={isBound:!1,offset:0,pos:0},v={isBound:!1,offset:0,pos:0};if(d===0&&p===0)return{vertical:m,horizontal:v};if(d===0)h?s<c&&(v.pos=s,v.offset=c-s):o>c&&(v.pos=o,v.offset=c-o);else if(p===0)g?a<u&&(m.pos=a,m.offset=u-a):i>u&&(m.pos=i,m.offset=u-i);else{var b=p/d,w=r[1]-b*u,y=0,x=0,S=!1;g&&a<=u?(y=b*a+w,x=a,S=!0):!g&&u<=i&&(y=b*i+w,x=i,S=!0),S&&(y<o||y>s)&&(S=!1),S||(h&&s<=c?(y=s,x=(y-w)/b,S=!0):!h&&c<=o&&(y=o,x=(y-w)/b,S=!0)),S&&(m.isBound=!0,m.pos=x,m.offset=u-x,v.isBound=!0,v.pos=y,v.offset=c-y)}return{vertical:m,horizontal:v}}function $C(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],o=Math.min.apply(Math,oe([],F(e),!1)),a=Math.max.apply(Math,oe([],F(e),!1)),s=[];return n+1>o&&s.push({direction:"start",isBound:!0,offset:o-n,pos:n}),i-1<a&&s.push({direction:"end",isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return Q(u.offset)-Q(l.offset)})}function VC(t,e,r){var n=r?t.map(function(i){return of(i,r)}):t;return n.some(function(i){return i[0]<e.left&&Q(i[0]-e.left)>.1||i[0]>e.right&&Q(i[0]-e.right)>.1||i[1]<e.top&&Q(i[1]-e.top)>.1||i[1]>e.bottom&&Q(i[1]-e.bottom)>.1})}function tG(t,e,r){var n=dn(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort(function(o,a){return Q(o-t[r?0:1])-Q(a-t[r?0:1])}).map(function(o){return Et([0,0],r?[o,e]:[e,o])})}function rG(t,e,r,n,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=ig(t),s=a.left,l=a.top,u=a.right,c=a.bottom,f=s-n[0],d=u-n[0],p=l-n[1],h=c-n[1],g={left:f,top:p,right:d,bottom:h};if(!VC(r,g,0))return[];var m=[];return[[f,0],[d,0],[p,1],[h,1]].forEach(function(v){var b=F(v,2),w=b[0],y=b[1];r.forEach(function(x){var S=Et([0,0],x);m.push.apply(m,oe([],F(tG(x,w,y).map(function(C){return o+C-S}).filter(function(C){return!VC(e,g,C)}).map(function(C){return Ne(C*180/Math.PI,kr)})),!1))})}),m}var nG=["left","right","center"],iG=["top","bottom","middle"],WC={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},Co={start:"left",end:"right",center:"center"},ko={start:"top",end:"bottom",center:"middle"};function ds(){return{left:!1,top:!1,right:!1,bottom:!1}}function Ol(t,e){var r=t.props,n=r.snappable,i=r.bounds,o=r.innerBounds,a=r.verticalGuidelines,s=r.horizontalGuidelines,l=r.snapGridWidth,u=r.snapGridHeight,c=t.state,f=c.guidelines,d=c.enableSnap;return!n||!d||e&&n!==!0&&n.indexOf(e)<0?!1:!!(l||u||i||o||f&&f.length||a&&a.length||s&&s.length)}function lw(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function oG(t,e){var r=lw(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function uw(t,e){var r=oG(t,e),n=iG.filter(function(o){return o in r}),i=nG.filter(function(o){return o in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(o){return r[o]}),vertical:i.map(function(o){return r[o]})}}function aG(t,e,r){var n=mt(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function sG(t){var e=F(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];Math.abs(i)<Ot&&(i=0),Math.abs(o)<Ot&&(o=0);var a=0,s=0,l=0;return i?o?(a=-o/i,s=1,l=a*r[0]-r[1]):(s=1,l=-r[1]):(a=-1,l=r[0]),[a,s,l].map(function(u){return Ne(u,Ot)})}function og(t,e,r,n,i,o){var a;n===void 0&&(n=[]),i===void 0&&(i=[]);var s=t.props,l=((a=t.state.snapThresholdInfo)===null||a===void 0?void 0:a.multiples)||[1,1],u=i7(o,s.snapThreshold,5);return IR(t.state.guidelines,e,r,n,i,u,l)}function IR(t,e,r,n,i,o,a){return{vertical:qC(t,"vertical",e,o*a[0],n),horizontal:qC(t,"horizontal",r,o*a[1],i)}}function lG(t,e,r){var n=F(r,2),i=n[0],o=n[1],a=F(e,2),s=a[0],l=a[1],u=F(Oe(r,e),2),c=u[0],f=u[1],d=f>0,p=c>0;c=Wp(c),f=Wp(f);var h={isSnap:!1,offset:0,pos:0},g={isSnap:!1,offset:0,pos:0};if(c===0&&f===0)return{vertical:h,horizontal:g};var m=og(t,c?[i]:[],f?[o]:[]),v=m.vertical,b=m.horizontal;v.posInfos.filter(function(L){var I=L.pos;return p?I>=s:I<=s}),b.posInfos.filter(function(L){var I=L.pos;return d?I>=l:I<=l}),v.isSnap=v.posInfos.length>0,b.isSnap=b.posInfos.length>0;var w=ly(v),y=w.isSnap,x=w.guideline,S=ly(b),C=S.isSnap,E=S.guideline,k=C?E.pos[1]:0,T=y?x.pos[0]:0;if(c===0)C&&(g.isSnap=!0,g.pos=E.pos[1],g.offset=o-g.pos);else if(f===0)y&&(h.isSnap=!0,h.pos=T,h.offset=i-T);else{var A=f/c,O=r[1]-A*i,_=0,N=0,M=!1;y?(N=T,_=A*N+O,M=!0):C&&(_=k,N=(_-O)/A,M=!0),M&&(h.isSnap=!0,h.pos=N,h.offset=i-N,g.isSnap=!0,g.pos=_,g.offset=o-_)}return{vertical:h,horizontal:g}}function Qi(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function GC(t,e,r){var n=uw(t.props.snapDirections,e),i=og(t,n.vertical,n.horizontal,n.verticalNames.map(function(s){return Qi(s)}),n.horizontalNames.map(function(s){return Qi(s)}),r),o=Qi(n.horizontalNames[i.horizontal.index]),a=Qi(n.verticalNames[i.vertical.index]);return{vertical:B(B({},i.vertical),{direction:a}),horizontal:B(B({},i.horizontal),{direction:o})}}function ly(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,o=n.dist,a=n.guideline;return{isSnap:e,offset:i,dist:o,pos:r.pos,guideline:a}}function qC(t,e,r,n,i){var o,a;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=e==="vertical",l=s?0:1,u=r.map(function(f,d){var p=i[d]||"",h=t.map(function(g){var m=g.pos,v=f-m[l];return{offset:v,dist:Q(v),guideline:g,direction:p}}).filter(function(g){var m=g.guideline,v=g.dist,b=m.type;return!(b!==e||v>n)}).sort(function(g,m){return g.dist-m.dist});return{pos:f,index:d,guidelineInfos:h,direction:p}}).filter(function(f){return f.guidelineInfos.length>0}).sort(function(f,d){return f.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),c=u.length>0;return{isSnap:c,index:c?u[0].index:-1,direction:(a=(o=u[0])===null||o===void 0?void 0:o.direction)!==null&&a!==void 0?a:"",posInfos:u}}function uG(t,e,r,n){n===void 0&&(n=1);var i=[];r[0]&&r[1]?i=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(f,d,p){var h=p[d+1]||p[0];i.push(f),i.push([(f[0]+h[0])/2,(f[1]+h[1])/2])}):t.props.keepRatio?i.push([-1,-1],[-1,1],[1,-1],[1,1],r):(i.push.apply(i,oe([],F(z9([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var o=i.map(function(f){return Pt(e,f)}),a=o.map(function(f){return f[0]}),s=o.map(function(f){return f[1]}),l=og(t,a,s,i.map(function(f){return Qi(f[0])}),i.map(function(f){return Qi(f[1])}),n),u=Qi(i.map(function(f){return f[0]})[l.vertical.index]),c=Qi(i.map(function(f){return f[1]})[l.horizontal.index]);return{vertical:B(B({},l.vertical),{direction:u}),horizontal:B(B({},l.horizontal),{direction:c})}}function LR(t,e){var r=Q(t.offset),n=Q(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<kr?1:n<kr?-1:r-n}function Hp(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],o=n.sign[e],a=r.offset[e],s=n.offset[e];if(i){if(!o)return-1}else return 1;return LR({isBound:r.isBound,isSnap:r.isSnap,offset:a},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function cG(t,e,r){var n=[];if(r)Q(e[0])!==1||Q(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(a){[1,-1].forEach(function(s){var l=[a*i[0],s*i[1]];e[0]===l[0]&&e[1]===l[1]||n.push([e,l])})})}else if(t[0]){var o=Q(e[0])===1?[1]:[1,-1];o.forEach(function(a){n.push([[e[0],-1],[a*t[0],-1]],[[e[0],0],[a*t[0],0]],[[e[0],1],[a*t[0],1]])})}else if(t[1]){var o=Q(e[1])===1?[1]:[1,-1];o.forEach(function(s){n.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return n}function BR(t,e){var r=X0([e[0][0],e[1][0]]),n=X0([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function cw(t,e){var r=F(e,2),n=r[0],i=r[1],o=i[0]-n[0],a=i[1]-n[1];Q(o)<kr&&(o=0),Q(a)<kr&&(a=0);var s,l;if(!o)s=n[0],l=t[0];else if(!a)s=n[1],l=t[1];else{var u=a/o;s=u*(t[0]-n[0])+n[1],l=t[1]}return s-l}function zR(t,e,r,n){return n===void 0&&(n=kr),t.every(function(i){var o=cw(i,e),a=o<=0;return a===r||Q(o)<=n})}function KC(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function fG(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,f=s.height,d=[[l,u],[l,u+f]],p=[[l,u],[l+c,u]],h=[[l+c,u],[l+c,u+f]],g=[[l,u+f],[l+c,u+f]];if(zR([[l,u],[l+c,u],[l,u+f],[l+c,u+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var m=Zi(r,a,p,i),v=Zi(r,a,g,i),b=Zi(r,a,d,o),w=Zi(r,a,h,o),y=m.isBound&&v.isBound,x=m.isBound||v.isBound,S=b.isBound&&w.isBound,C=b.isBound||w.isBound,E=tl(m.offset,v.offset),k=tl(b.offset,w.offset),T=[0,0],A=!1,O=!1;return Q(k)<Q(E)?(T=[E,0],A=x,O=y):(T=[0,k],A=C,O=S),{isAllBound:O,isVerticalBound:x,isHorizontalBound:C,isBound:A,offset:T}}function Zi(t,e,r,n,i,o){var a=F(e,2),s=a[0],l=a[1],u=t[0],c=r[0],f=r[1],d=Wp(f[1]-c[1]),p=Wp(f[0]-c[0]),h=l,g=s,m=-s/l;if(p){if(!d){if(o&&!h)return{isBound:!1,offset:0};if(g){var y=(c[1]-u[1])/m+u[0];return KC(y,c[0],f[0],n,i)}else{var b=c[1]-u[1],w=Q(b)<=(i||0);return{isBound:w,offset:w?b:0}}}}else{if(o&&!g)return{isBound:!1,offset:0};if(h){var v=m*(c[0]-u[0])+u[1];return KC(v,c[1],f[1],n,i)}else{var b=c[0]-u[0],w=Q(b)<=(i||0);return{isBound:w,offset:w?b:0}}}return{isBound:!1,offset:0}}function FR(t,e,r){return e.map(function(n){var i=fG(t,n),o=i.isBound,a=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,c=oi({datas:r,distX:a[0],distY:a[1]}).map(function(f,d){return f*(u[d]?2/u[d]:0)});return{sign:u,isBound:o,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:c}})}function dG(t,e,r){var n,i=fw(t,e,[0,0],!1).map(function(d){return B(B({},d),{multiple:d.multiple.map(function(p){return Q(p)*2})})}),o=FR(t,i,r),a=Hp(o,0),s=Hp(o,1),l=0,u=0,c=a.isVerticalBound||s.isVerticalBound,f=a.isHorizontalBound||s.isHorizontalBound;return(c||f)&&(n=F(L9({datas:r,distX:-a.offset[0],distY:-s.offset[1]}),2),l=n[0],u=n[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:f,offset:u}}}function pG(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,i*2],t,[-n,i]],[[n*2,0],t,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function fw(t,e,r,n){var i=t.state,o=i.allMatrix,a=i.is3d,s=Da(o,100,100,a?4:3),l=Pt(s,[0,0]);return pG(r,n).map(function(u){var c=F(u,3),f=c[0],d=c[1],p=c[2],h=[Pt(s,d),Pt(s,p)],g=sG(h),m=BR(l,h),v=m.vertical,b=m.horizontal,w=cw(l,h)<=0;return{multiple:f,centerSign:w,verticalSign:v,horizontalSign:b,lineConstants:g,line:[Pt(e,d),Pt(e,p)]}})}function YC(t,e,r,n){var i=n?t.map(function(o){return of(o,n)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(o){var a=cw(r,o)<=0;return!zR(e,o,a)})}function hG(t){var e=F(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return Q(r[0]);if(!o)return Q(r[1]);var a=o/i;return Q((-a*r[0]+r[1])/Math.sqrt(Math.pow(a,2)+1))}function gG(t){var e=F(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return[r[0],0];if(!o)return[0,r[1]];var a=o/i,s=-a*r[0]+r[1];return[-s/(a+1/a),s/(a*a+1)]}function mG(t,e,r,n,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,l=o.top,u=o.width,c=o.height,f=s-n[0],d=s+u-n[0],p=l-n[1],h=l+c-n[1],g=[[f,p],[d,p],[f,h],[d,h]],m=Pt(r,[0,0]);if(!YC(r,g,m,0))return[];var v=[],b=g.map(function(w){return[dn(w),Et([0,0],w)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(w){var y=Et([0,0],gG(w)),x=hG(w);v.push.apply(v,oe([],F(b.filter(function(S){var C=F(S,1),E=C[0];return E&&x<=E}).map(function(S){var C=F(S,2),E=C[0],k=C[1],T=Math.acos(E?x/E:0),A=k+T,O=k-T;return[a+A-y,a+O-y]}).reduce(function(S,C){return S.push.apply(S,oe([],F(C),!1)),S},[]).filter(function(S){return!YC(e,g,m,S)}).map(function(S){return Ne(S*180/Math.PI,kr)})),!1))}),v}function vG(t){var e=t.props.innerBounds,r=ds();if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,l=[i,o,a,s],u=Pt(l,[0,0]),c=e.left,f=e.top,d=e.width,p=e.height,h=[[c,f],[c,f+p]],g=[[c,f],[c+d,f]],m=[[c+d,f],[c+d,f+p]],v=[[c,f+p],[c+d,f+p]],b=fw(t,l,[0,0],!1),w=[],y=[];return b.forEach(function(x){var S=x.line,C=x.lineConstants,E=BR(u,S),k=E.horizontal,T=E.vertical,A=Zi(S,C,g,T,1,!0),O=Zi(S,C,v,T,1,!0),_=Zi(S,C,h,k,1,!0),N=Zi(S,C,m,k,1,!0);A.isBound&&!r.top&&(w.push(f),r.top=!0),O.isBound&&!r.bottom&&(w.push(f+p),r.bottom=!0),_.isBound&&!r.left&&(y.push(c),r.left=!0),N.isBound&&!r.right&&(y.push(c+d),r.right=!0)}),{boundMap:r,horizontal:w,vertical:y}}function yG(t,e,r,n){var i=e[0]-t[0],o=e[1]-t[1];if(Q(i)<Ot&&(i=0),Q(o)<Ot&&(o=0),!i)return n?[0,0]:[0,r];if(!o)return n?[r,0]:[0,0];var a=o/i,s=t[1]-a*t[0];if(n){var l=a*(e[0]+r)+s;return[r,l-e[1]]}else{var u=(e[1]+r-s)/a;return[u-e[0],r]}}function uy(t,e,r,n,i){var o=yG(t,e,r,n);if(!o)return{isOutside:!1,offset:[0,0]};var a=xi(t,e),s=xi(o,t),l=xi(o,e),u=s>a||l>a,c=F(oi({datas:i,distX:o[0],distY:o[1]}),2),f=c[0],d=c[1];return{offset:[f,d],isOutside:u}}function Up(t,e){return t.isBound?t.offset:e.isSnap?ly(e).offset:0}function bG(t,e,r,n,i){var o=F(e,2),a=o[0],s=o[1],l=F(r,2),u=l[0],c=l[1],f=F(n,2),d=f[0],p=f[1],h=F(i,2),g=h[0],m=h[1],v=-g,b=-m;if(t&&a&&s){v=0,b=0;var w=[];if(u&&c?w.push([0,m],[g,0]):u?w.push([g,0]):c?w.push([0,m]):d&&p?w.push([0,m],[g,0]):d?w.push([g,0]):p&&w.push([0,m]),w.length){w.sort(function(C,E){return dn(Oe([a,s],C))-dn(Oe([a,s],E))});var y=w[0];if(y[0]&&Q(a)>Ot)v=-y[0],b=s*Q(a+v)/Q(a)-s;else if(y[1]&&Q(s)>Ot){var x=s;b=-y[1],v=a*Q(s+b)/Q(x)-a}if(t&&c&&u)if(Q(v)>Ot&&Q(v)<Q(g)){var S=Q(g)/Q(v);v*=S,b*=S}else if(Q(b)>Ot&&Q(b)<Q(m)){var S=Q(m)/Q(b);v*=S,b*=S}else v=tl(-g,v),b=tl(-m,b)}}else v=a||u?-g:0,b=s||c?-m:0;return[v,b]}function wG(t,e,r,n,i,o){if(!Ol(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=hw(o.absolutePoses,[e,r]),s=an(a),l=s.left,u=s.right,c=s.top,f=s.bottom,d={horizontal:a.map(function(N){return N[1]}),vertical:a.map(function(N){return N[0]})},p=lw(t.props.snapDirections),h=uw(p,{left:l,right:u,top:c,bottom:f,center:(l+u)/2,middle:(c+f)/2}),g=ag(t,i,h,d),m=g.vertical,v=g.horizontal,b=dG(t,a,o),w=b.vertical,y=b.horizontal,x=m.isSnap,S=v.isSnap,C=m.isBound||w.isBound,E=v.isBound||y.isBound,k=tl(m.offset,w.offset),T=tl(v.offset,y.offset),A=F(bG(n,[e,r],[C,E],[x,S],[k,T]),2),O=A[0],_=A[1];return[{isBound:C,isSnap:x,offset:O},{isBound:E,isSnap:S,offset:_}]}function ag(t,e,r,n){n===void 0&&(n=r);var i=sw(ig(t),n.vertical,n.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:og(t,r.vertical,r.horizontal),l=s.horizontal,u=s.vertical,c=Up(o[0],l),f=Up(a[0],u),d=Q(c),p=Q(f);return{horizontal:{isBound:o[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:d,bounds:o,snap:l},vertical:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:p,bounds:a,snap:u}}}function XC(t,e,r,n,i,o){o===void 0&&(o=[1,1]);var a=sw(e,r,n),s=a.horizontal,l=a.vertical,u=IR(t,r,n,[],[],i,o),c=u.horizontal,f=u.vertical,d=Up(s[0],c),p=Up(l[0],f),h=Q(d),g=Q(p);return{horizontal:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:d,dist:h,bounds:s,snap:c},vertical:{isBound:l[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:p,dist:g,bounds:l,snap:f}}}function SG(t,e,r,n){var i=Et(t,e)/Math.PI*180,o=r.vertical,a=o.isBound,s=o.isSnap,l=o.dist,u=r.horizontal,c=u.isBound,f=u.isSnap,d=u.dist,p=i%180,h=p<3||p>177,g=p>87&&p<93;return d<l&&(a||s&&!g&&(!n||!h))?"vertical":c||f&&!h&&(!n||!g)?"horizontal":""}function xG(t,e,r,n,i,o){return r.map(function(a){var s=F(a,2),l=s[0],u=s[1],c=Pt(e,l),f=Pt(e,u),d=n?EG(t,c,f,i):ag(t,i,{vertical:[f[0]],horizontal:[f[1]]}),p=d.horizontal,h=p.offset,g=p.isBound,m=p.isSnap,v=d.vertical,b=v.offset,w=v.isBound,y=v.isSnap,x=Oe(u,l);if(!b&&!h)return{isBound:w||g,isSnap:y||m,sign:x,offset:[0,0]};var S=SG(c,f,d,n);if(!S)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var C=S==="vertical",E=[0,0];return!n&&Q(u[0])===1&&Q(u[1])===1&&l[0]!==u[0]&&l[1]!==u[1]?E=oi({datas:o,distX:-b,distY:-h}):E=uy(c,f,-(C?b:h),C,o).offset,E=E.map(function(k,T){return k*(x[T]?2/x[T]:0)}),{sign:x,isBound:C?w:g,isSnap:C?y:m,offset:E}})}function JC(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function EG(t,e,r,n){var i=eG(t,e,r),o=i.horizontal,a=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:lG(t,e,r),l=s.horizontal,u=s.vertical,c=JC(o,l),f=JC(a,u),d=Q(c),p=Q(f);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:c,dist:d},vertical:{isBound:a.isBound,isSnap:u.isSnap,offset:f,dist:p}}}function CG(t,e,r,n,i){var o=[-r[0],-r[1]],a=t.state,s=a.width,l=a.height,u=t.props.bounds,c=1/0,f=1/0;if(u){var d=[[r[0],-r[1]],[-r[0],r[1]]],p=u.left,h=p===void 0?-1/0:p,g=u.top,m=g===void 0?-1/0:g,v=u.right,b=v===void 0?1/0:v,w=u.bottom,y=w===void 0?1/0:w;d.forEach(function(x){var S=x[0]!==o[0],C=x[1]!==o[1],E=Pt(e,x),k=Et(n,E)*360/Math.PI;if(C){var T=E.slice();(Q(k-360)<2||Q(k-180)<2)&&(T[1]=n[1]);var A=uy(n,T,(n[1]<E[1]?y:m)-E[1],!1,i),O=F(A.offset,2),_=O[1],N=A.isOutside;isNaN(_)||(f=l+(N?1:-1)*Q(_))}if(S){var T=E.slice();(Q(k-90)<2||Q(k-270)<2)&&(T[0]=n[0]);var M=uy(n,T,(n[0]<E[0]?b:h)-E[0],!0,i),L=F(M.offset,1),I=L[0],R=M.isOutside;isNaN(I)||(c=s+(R?1:-1)*Q(I))}})}return{maxWidth:c,maxHeight:f}}var mr={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,o=r.zoom,a=t.getState(),s=a.dragInfo,l=a.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var c=dn(u),f=Et(u,[0,0]);return[e.createElement("div",{className:Te("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(f,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],Aa(t,e),ng(t,e,"translate"),$G(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var l=Ie(t,e,B({set:function(c){r.startValue=c}},rg(t,e))),u=n||me(t,"onDragStart",l);return u!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,r.isPinch=!1),r.isDrag?l:!1},drag:function(t,e){if(e){eg(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,o=e.isPinch,a=e.deltaOffset,s=e.useSnap,l=e.isRequest,u=e.isGroup,c=e.parentThrottleDrag,f=e.distX,d=e.distY,p=r.isDrag,h=r.prevDist,g=r.prevBeforeDist,m=r.startValue;if(p){a&&(f+=a[0],d+=a[1]);var v=t.props,b=v.parentMoveable,w=u?0:v.throttleDrag||c||0,y=n?0:v.throttleDragRotate||0,x=0,S=!1,C=!1,E=!1,k=!1;if(!n&&y>0&&(f||d)){var T=v.startDragRotate||0,A=Ne(T+Et([0,0],[f,d])*180/Math.PI,y)-T,O=d*Math.abs(Math.cos((A-90)/180*Math.PI)),_=f*Math.abs(Math.cos(A/180*Math.PI)),N=dn([_,O]);x=A*Math.PI/180,f=N*Math.cos(x),d=N*Math.sin(x)}if(!o&&!n&&!i){var M=F(wG(t,f,d,y,!s&&l||a,r),2),L=M[0],I=M[1];S=L.isSnap,C=L.isBound,E=I.isSnap,k=I.isBound;var R=L.offset,z=I.offset;f+=R,d+=z}var j=qe(CR({datas:r,distX:f,distY:d}),m),D=qe(I9({datas:r,distX:f,distY:d}),m);LC(D,kr),LC(j,kr),y||(!S&&!C&&(D[0]=Ne(D[0],w),j[0]=Ne(j[0],w)),!E&&!k&&(D[1]=Ne(D[1],w),j[1]=Ne(j[1],w)));var $=Oe(j,m),V=Oe(D,m),W=Oe(V,h),q=Oe($,g);r.prevDist=V,r.prevBeforeDist=$,r.passDelta=W,r.passDist=V;var Y=r.left+$[0],te=r.top+$[1],ee=r.right-$[0],he=r.bottom-$[1],ve=tg(r,"translate(".concat(D[0],"px, ").concat(D[1],"px)"),"translate(".concat(V[0],"px, ").concat(V[1],"px)"));if(ow(e,ve),t.state.dragInfo.dist=n?[0,0]:V,!(!n&&!b&&W.every(function(Z){return!Z})&&q.some(function(Z){return!Z}))){var J=t.state,ue=J.width,Ae=J.height,ye=Ie(t,e,B({transform:ve,dist:V,delta:W,translate:D,beforeDist:$,beforeDelta:q,beforeTranslate:j,left:Y,top:te,right:ee,bottom:he,width:ue,height:Ae,isPinch:o},wr({transform:ve},e)));return!n&&me(t,"onDrag",ye),ye}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,B(B({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Wr(t,e,{});return!r&&me(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,o=e.clientX,a=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var l=zm(t,this,"dragStart",[o||0,a||0],e,!1,"draggable"),u=l.childEvents,c=l.eventParams,f=B(B({},s),{targets:t.props.targets,events:c}),d=me(t,"onDragGroupStart",f);i.isDrag=d!==!1;var p=(n=(r=u[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[p[0]%1,p[1]%1],i.isDrag?s:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,B(B({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,o=zm(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var a=B({targets:t.props.targets,events:o},n);return me(t,"onDragGroup",a),a}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=zm(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return me(t,"onDragGroupEnd",Wr(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=!1;return{isControl:!1,requestStart:function(a){return o=a.useSnap,{datas:e,useSnap:o}},request:function(a){return"x"in a?n=a.x-r.left:"deltaX"in a&&(n+=a.deltaX),"y"in a?i=a.y-r.top:"deltaY"in a&&(i+=a.deltaY),{datas:e,distX:n,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function jR(t,e){var r=Pt(t,e),n=[0,0];return{fixedPosition:r,fixedDirection:e,fixedOffset:n}}function kG(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,a=n?4:3,s=[i/2*(1+e[0]),o/2*(1+e[1])],l=mt(r,s,a),u=[0,0];return{fixedPosition:l,fixedDirection:e,fixedOffset:u}}function HR(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,a=n?4:3,s=$9(e,i,o),l=mt(r,e,a),u=[i?0:e[0],o?0:e[1]];return{fixedPosition:l,fixedDirection:s,fixedOffset:u}}var QC=vw("resizable"),cy={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:RR("resizable"),dragControlCondition:QC,viewClassName:mw("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,o=e.isGroup,a=e.parentDirection,s=e.parentGesto,l=e.datas,u=e.parentFixedDirection,c=e.parentEvent,f=r2(a,i,n,l),d=t.state,p=d.target,h=d.width,g=d.height,m=d.gestos;if(!f||!p||m.resizable)return!1;m.resizable=s||t.controlGesto,!i&&Aa(t,e),l.datas={},l.direction=f,l.startOffsetWidth=h,l.startOffsetHeight=g,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],o||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var v=t.props.transformOrigin||"% %";l.transformOrigin=v&&Mi(v)?v.split(" "):v,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!f[0]&&!f[1]||f[0]||!f[1];function b(k){l.ratio=k&&isFinite(k)?k:0}l.startPositions=pn(t.state);function w(k){var T=jR(l.startPositions,k);l.fixedDirection=T.fixedDirection,l.fixedPosition=T.fixedPosition,l.fixedOffset=T.fixedOffset}function y(k){var T=HR(t.state,k);l.fixedDirection=T.fixedDirection,l.fixedPosition=T.fixedPosition,l.fixedOffset=T.fixedOffset}function x(k){l.minSize=[Qe("".concat(k[0]),0)||0,Qe("".concat(k[1]),0)||0]}function S(k){var T=[k[0]||1/0,k[1]||1/0];(!Oc(T[0])||isFinite(T[0]))&&(T[0]=Qe("".concat(T[0]),0)||1/0),(!Oc(T[1])||isFinite(T[1]))&&(T[1]=Qe("".concat(T[1]),0)||1/0),l.maxSize=T}b(h/g),w(u||[-f[0],-f[1]]),l.setFixedDirection=w,l.setFixedPosition=y,l.setMin=x,l.setMax=S;var C=Ie(t,e,{direction:f,startRatio:l.ratio,set:function(k){var T=F(k,2),A=T[0],O=T[1];l.startWidth=A,l.startHeight=O},setMin:x,setMax:S,setRatio:b,setFixedDirection:w,setFixedPosition:y,setOrigin:function(k){l.transformOrigin=k},dragStart:mr.dragStart(t,new Zs().dragStart([0,0],e))}),E=c||me(t,"onResizeStart",C);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,E!==!1&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),l.isResize?C:!1},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,o=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.useSnap,c=e.isRequest,f=e.isGroup,d=e.parentEvent,p=e.resolveMatrix,h=n.isResize,g=n.transformOrigin,m=n.startWidth,v=n.startHeight,b=n.prevWidth,w=n.prevHeight,y=n.minSize,x=n.maxSize,S=n.ratio,C=n.startOffsetWidth,E=n.startOffsetHeight,k=n.isWidth;if(!h)return;if(p){var T=t.state.is3d,A=n.startOffsetMatrix,O=n.startTransformOrigin,_=T?4:3,N=Mc(Fp(e)),M=Math.sqrt(N.length);_!==M&&(N=Rn(N,M,_));var L=cf(A,N,O,_),I=Da(L,C,E,_);n.startPositions=I,n.nextTargetMatrix=N,n.nextAllMatrix=L}var R=xa(t.props,"resizable"),z=R.resizeFormat,j=R.throttleResize,D=j===void 0?i?0:1:j,$=R.parentMoveable,V=R.keepRatioFinally,W=n.direction,q=W,Y=0,te=0;!W[0]&&!W[1]&&(q=[1,1]);var ee=S&&(a??R.keepRatio)||!1;function he(){var Ye=n.fixedDirection,rt=u2(q,ee,n,e);Y=rt.distWidth,te=rt.distHeight;var jt=q[0]-Ye[0]||ee?Math.max(C+Y,kr):C,nr=q[1]-Ye[1]||ee?Math.max(E+te,kr):E;return ee&&C&&E&&(k?nr=jt/S:jt=nr*S),[jt,nr]}var ve=F(he(),2),J=ve[0],ue=ve[1];d||(n.setFixedDirection(n.fixedDirection),me(t,"onBeforeResize",Ie(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(Ye){var rt;return n.setFixedDirection(Ye),rt=F(he(),2),J=rt[0],ue=rt[1],[J,ue]},setFixedPosition:function(Ye){var rt;return n.setFixedPosition(Ye),rt=F(he(),2),J=rt[0],ue=rt[1],[J,ue]},boundingWidth:J,boundingHeight:ue,setSize:function(Ye){var rt;rt=F(Ye,2),J=rt[0],ue=rt[1]}},!0)));var Ae=s;s||(!i&&o?Ae=q9(t,[0,0]):Ae=n.fixedPosition);var ye=[0,0];o||(ye=HG(t,J,ue,W,Ae,!u&&c,n)),l&&(!l[0]&&(ye[0]=0),!l[1]&&(ye[1]=0));function Z(){var Ye;z&&(Ye=F(z([J,ue]),2),J=Ye[0],ue=Ye[1]),J=Ne(J,D),ue=Ne(ue,D)}if(ee){q[0]&&q[1]&&ye[0]&&ye[1]&&(Q(ye[0])>Q(ye[1])?ye[1]=0:ye[0]=0);var fe=!ye[0]&&!ye[1];fe&&Z(),q[0]&&!q[1]||ye[0]&&!ye[1]||fe&&k?(J+=ye[0],ue=J/S):(!q[0]&&q[1]||!ye[0]&&ye[1]||fe&&!k)&&(ue+=ye[1],J=ue*S)}else J+=ye[0],ue+=ye[1],J=Math.max(0,J),ue=Math.max(0,ue);r=F(iR([J,ue],y,x,ee?S:!1),2),J=r[0],ue=r[1],Z(),ee&&(f||V)&&(k?ue=J/S:J=ue*S),Y=J-C,te=ue-E;var Ce=[Y-b,te-w];n.prevWidth=Y,n.prevHeight=te;var Re=G9(t,J,ue,Ae,g,n);if(!(!$&&Ce.every(function(Ye){return!Ye})&&Re.every(function(Ye){return!Ye}))){var Ee=mr.drag(t,uf(e,t.state,Re,!!o,!1,"draggable")),_e=Ee.transform,Ke=m+Y,lt=v+te,tt=Ie(t,e,B({width:Ke,height:lt,offsetWidth:Math.round(J),offsetHeight:Math.round(ue),startRatio:S,boundingWidth:J,boundingHeight:ue,direction:W,dist:[Y,te],delta:Ce,isPinch:!!o,drag:Ee},i2({style:{width:"".concat(Ke,"px"),height:"".concat(lt,"px")},transform:_e},Ee,e)));return!d&&me(t,"onResize",tt),tt}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,o=r.startOffsetHeight,a=r.prevWidth,s=r.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var l=t.state,u=l.width,c=l.height,f=u-(i+a),d=c-(o+s),p=Q(f)>3,h=Q(d)>3;if(p&&(r.startWidth+=f,r.startOffsetWidth+=f,r.prevWidth+=f),h&&(r.startHeight+=d,r.startOffsetHeight+=d,r.prevHeight+=d),p||h)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=Wr(t,e,{});return!n&&me(t,"onResizeEnd",i),i}},dragGroupControlCondition:QC,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,B(B({},e),{isGroup:!0}));if(!n)return!1;var i=_n(t,"resizable",e),o=r.startOffsetWidth,a=r.startOffsetHeight;function s(){var p=r.minSize;i.forEach(function(h){var g=h.datas,m=g.minSize,v=g.startOffsetWidth,b=g.startOffsetHeight,w=o*(v?m[0]/v:0),y=a*(b?m[1]/b:0);p[0]=Math.max(p[0],w),p[1]=Math.max(p[1],y)})}function l(){var p=r.maxSize;i.forEach(function(h){var g=h.datas,m=g.maxSize,v=g.startOffsetWidth,b=g.startOffsetHeight,w=o*(v?m[0]/v:0),y=a*(b?m[1]/b:0);p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],y)})}var u=Ei(t,this,"dragControlStart",e,function(p,h){return jp(t,p,r,h)});s(),l();var c=function(p){n.setFixedDirection(p),u.forEach(function(h,g){h.setFixedDirection(p),jp(t,h.moveable,r,i[g])})};r.setFixedDirection=c;var f=B(B({},n),{targets:t.props.targets,events:u.map(function(p){return B(B({},p),{setMin:function(h){p.setMin(h),s()},setMax:function(h){p.setMax(h),l()}})}),setFixedDirection:c,setMin:function(p){n.setMin(p),s()},setMax:function(p){n.setMax(p),l()}}),d=me(t,"onResizeGroupStart",f);return r.isResize=d!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=xa(t.props,"resizable");lg(t,"onBeforeResize",function(p){me(t,"onBeforeResizeGroup",Ie(t,e,B(B({},p),{targets:n.targets}),!0))});var i=this.dragControl(t,B(B({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[o/(o-s[0]),a/(a-s[1])],c=r.fixedPosition,f=Ei(t,this,"dragControl",e,function(p,h){var g=F(dr(af(t.rotation/180*Math.PI,3),[h.datas.originalX*u[0],h.datas.originalY*u[1],1],3),2),m=g[0],v=g[1];return B(B({},h),{parentDist:null,parentScale:u,dragClient:qe(c,[m,v]),parentKeepRatio:l})}),d=B({targets:n.targets,events:f},i);return me(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e);var i=Ei(t,this,"dragControlEnd",e),o=Wr(t,e,{targets:t.props.targets,events:i});return me(t,"onResizeGroupEnd",o),r}},request:function(t){var e={},r=0,n=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(a){var s;return i=a.useSnap,{datas:e,parentDirection:a.direction||[1,1],parentIsWidth:(s=a==null?void 0:a.horizontal)!==null&&s!==void 0?s:!0,useSnap:i}},request:function(a){return"offsetWidth"in a?r=a.offsetWidth-o.offsetWidth:"deltaWidth"in a&&(r+=a.deltaWidth),"offsetHeight"in a?n=a.offsetHeight-o.offsetHeight:"deltaHeight"in a&&(n+=a.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:a.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function Fm(t,e,r,n,i){var o=t.props.groupable,a=t.state,s=a.is3d?4:3,l=e.origin,u=mt(t.state.rootMatrix,Oe([l[0],l[1]],o?[0,0]:[a.left,a.top]),s),c=qe([i.left,i.top],u);e.startAbsoluteOrigin=c,e.prevDeg=Et(c,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=xi(c,[r,n])}function Md(t,e,r){var n=r.defaultDeg,i=r.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(a*360+t-n);return r.prevDeg=n+s,s}function jm(t,e,r,n){return Md(Et(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Hm(t,e,r,n,i,o){var a=t.props.throttleRotate,s=a===void 0?0:a,l=r.prevSnapDeg,u=0,c=!1;if(o){var f=jG(t,e,n,i+n);c=f.isSnap,u=i+f.dist}c||(u=Ne(i+n,s));var d=u-i;return r.prevSnapDeg=d,[d-l,d,u]}function UR(t,e,r){var n=F(e,4),i=n[0],o=n[1],a=n[2],s=n[3];if(t==="none")return[];if(Kt(t))return t.map(function(m){return UR(m,[i,o,a,s],r)[0]});var l=F((t||"top").split("-"),2),u=l[0],c=l[1],f=[i,o];u==="left"?f=[a,i]:u==="right"?f=[o,s]:u==="bottom"&&(f=[s,a]);var d=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],p=e2(f,r);if(c){var h=c==="top"||c==="left",g=u==="bottom"||u==="left";d=f[h&&!g||!h&&g?0:1]}return[[d,p]]}function fy(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(Rt(r,Te("rotation-control"))||t.props.rotateAroundControls&&Rt(r,Te("around-control"))||Rt(r,Te("control"))&&Rt(r,Te("rotatable")))return!0;var n=t.props.rotationTarget;return n?yw(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var TG=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,OG={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[TG],viewClassName:function(t){return t.isDragging("rotatable")?Te("view-rotation-dragging"):""},render:function(t,e){var r=xa(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,o=r.zoom,a=r.renderDirections,s=r.rotateAroundControls,l=r.resolveAblesWithRotatable,u=t.getState(),c=u.renderPoses,f=u.direction;if(!n)return null;var d=UR(i,c,f),p=[];if(d.forEach(function(v,b){var w=F(v,2),y=w[0],x=w[1];p.push(e.createElement("div",{key:"rotation".concat(b),className:Te("rotation"),style:{transform:"translate(-50%) translate(".concat(y[0],"px, ").concat(y[1],"px) rotate(").concat(x,"rad)")}},e.createElement("div",{className:Te("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Te("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}),a){var h=Cl(l||{}),g={};h.forEach(function(v){l[v].forEach(function(b){g[b]=v})});var m=[];Kt(a)&&(m=a.map(function(v){var b=g[v];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:v}})),p.push.apply(p,oe([],F(MR(t,"rotatable",m,e)),!1))}return s&&p.push.apply(p,oe([],F(NR(t,e)),!1)),p},dragControlCondition:fy,dragControlStart:function(t,e){var r,n,i=e.datas,o=e.clientX,a=e.clientY,s=e.parentRotate,l=e.parentFlag,u=e.isPinch,c=e.isRequest,f=t.state,d=f.target,p=f.left,h=f.top,g=f.direction,m=f.beforeDirection,v=f.targetTransform,b=f.moveableClientRect,w=f.offsetMatrix,y=f.targetMatrix,x=f.allMatrix,S=f.width,C=f.height;if(!c&&!d)return!1;var E=t.getRect();i.rect=E,i.transform=v,i.left=p,i.top=h;var k=function(q){var Y=HR(t.state,q);i.fixedDirection=Y.fixedDirection,i.fixedOffset=Y.fixedOffset,i.fixedPosition=Y.fixedPosition,D&&D.setFixedPosition(q)},T=function(q){var Y=kG(t.state,q);i.fixedDirection=Y.fixedDirection,i.fixedOffset=Y.fixedOffset,i.fixedPosition=Y.fixedPosition,D&&D.setFixedDirection(q)},A=o,O=a;if(c||u||l){var _=s||0;i.beforeInfo={origin:E.beforeOrigin,prevDeg:_,defaultDeg:_,prevSnapDeg:0,startDist:0},i.afterInfo=B(B({},i.beforeInfo),{origin:E.origin}),i.absoluteInfo=B(B({},i.beforeInfo),{origin:E.origin,startValue:_})}else{var N=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(N){var M=N.getAttribute("data-direction")||"",L=R9[M];if(L){i.isControl=!0,i.isAroundControl=Rt(N,Te("around-control")),i.controlDirection=L;var I=N.getAttribute("data-resolve");I&&(i.resolveAble=I);var R=r7(f.rootMatrix,f.renderPoses,b);r=F(Pt(R,L),2),A=r[0],O=r[1]}}i.beforeInfo={origin:E.beforeOrigin},i.afterInfo={origin:E.origin},i.absoluteInfo={origin:E.origin,startValue:E.rotation};var z=k;k=function(q){var Y=f.is3d?4:3,te=F(qe(uR(y,Y),q),2),ee=te[0],he=te[1],ve=dr(w,ba([ee,he],Y)),J=dr(x,ba([q[0],q[1]],Y));z(q);var ue=f.posDelta;i.beforeInfo.origin=Oe(ve,ue),i.afterInfo.origin=Oe(J,ue),i.absoluteInfo.origin=Oe(J,ue),Fm(t,i.beforeInfo,A,O,b),Fm(t,i.afterInfo,A,O,b),Fm(t,i.absoluteInfo,A,O,b)},T=function(q){var Y=Pt([[0,0],[S,0],[0,C],[S,C]],q);k(Y)}}i.startClientX=A,i.startClientY=O,i.direction=g,i.beforeDirection=m,i.startValue=0,i.datas={},ng(t,e,"rotate");var j=!1,D=!1;if(i.isControl&&i.resolveAble){var $=i.resolveAble;$==="resizable"&&(D=cy.dragControlStart(t,B(B({},new Zs("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}D||(j=mr.dragStart(t,new Zs().dragStart([0,0],e))),k(n7(t));var V=Ie(t,e,B(B({set:function(q){i.startValue=q*Math.PI/180},setFixedDirection:T,setFixedPosition:k},rg(t,e)),{dragStart:j,resizeStart:D})),W=me(t,"onRotateStart",V);return i.isRotate=W!==!1,f.snapRenderInfo={request:e.isRequest},i.isRotate?V:!1},dragControl:function(t,e){var r,n,i,o=e.datas,a=e.clientDistX,s=e.clientDistY,l=e.parentRotate,u=e.parentFlag,c=e.isPinch,f=e.groupDelta,d=e.resolveMatrix,p=o.beforeDirection,h=o.beforeInfo,g=o.afterInfo,m=o.absoluteInfo,v=o.isRotate,b=o.startValue,w=o.rect,y=o.startClientX,x=o.startClientY;if(v){eg(t,e,"rotate");var S=N9(e),C=p*S,E=t.props.parentMoveable,k=0,T,A,O=0,_,N,M=0,L,I,R=180/Math.PI*b,z=m.startValue,j=!1,D=y+a,$=x+s;if(!u&&"parentDist"in e){var V=e.parentDist;T=V,_=V,L=V}else c||u?(T=Md(l,p,h),_=Md(l,C,g),L=Md(l,C,m)):(T=jm(D,$,p,h),_=jm(D,$,C,g),L=jm(D,$,C,m),j=!0);if(A=R+T,N=R+_,I=z+L,me(t,"onBeforeRotate",Ie(t,e,{beforeRotation:A,rotation:N,absoluteRotation:I,setRotation:function(Ae){_=Ae-R,T=_,L=_}},!0)),r=F(Hm(t,w,h,T,R,j),3),k=r[0],T=r[1],A=r[2],n=F(Hm(t,w,g,_,R,j),3),O=n[0],_=n[1],N=n[2],i=F(Hm(t,w,m,L,z,j),3),M=i[0],L=i[1],I=i[2],!(!M&&!O&&!k&&!E&&!d)){var W=tg(o,"rotate(".concat(N,"deg)"),"rotate(".concat(_,"deg)"));d&&(o.fixedPosition=aw(t,o.targetAllTransform,o.fixedDirection,o.fixedOffset,o));var q=W9(t,_,o),Y=Oe(qe(f||[0,0],q),o.prevInverseDist||[0,0]);o.prevInverseDist=q,o.requestValue=null;var te=TR(t,W,Y,c,e),ee=te,he=xi([D,$],m.startAbsoluteOrigin)-m.startDist,ve=void 0;if(o.resolveAble==="resizable"){var J=cy.dragControl(t,B(B({},uf(e,t.state,[e.deltaX,e.deltaY],!!c,!1,"resizable")),{resolveMatrix:!0,parentDistance:he}));J&&(ve=J,ee=i2(ee,J,e))}var ue=Ie(t,e,B(B({delta:O,dist:_,rotate:N,rotation:N,beforeDist:T,beforeDelta:k,beforeRotate:A,beforeRotation:A,absoluteDist:L,absoluteDelta:M,absoluteRotate:I,absoluteRotation:I,isPinch:!!c,resize:ve},te),ee));return me(t,"onRotate",ue),ue}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Wr(t,e,{});return me(t,"onRotateEnd",n),n}},dragGroupControlCondition:fy,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,o=n.top,a=n.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(r.beforeDirection*t.rotation);var l=Ei(t,this,"dragControlStart",e,function(f,d){var p=f.state,h=p.left,g=p.top,m=p.beforeOrigin,v=qe(Oe([h,g],[i,o]),Oe(m,a));return d.datas.startGroupClient=v,d.datas.groupClient=v,B(B({},d),{parentRotate:0})}),u=B(B({},s),{targets:t.props.targets,events:l}),c=me(t,"onRotateGroupStart",u);return r.isRotate=c!==!1,r.isRotate?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){lg(t,"onBeforeRotate",function(u){me(t,"onBeforeRotateGroup",Ie(t,e,B(B({},u),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,o=n.beforeDist,a=o/180*Math.PI,s=Ei(t,this,"dragControl",e,function(u,c){var f=c.datas.startGroupClient,d=F(c.datas.groupClient,2),p=d[0],h=d[1],g=F(of(f,a*i),2),m=g[0],v=g[1],b=[m-p,v-h];return c.datas.groupClient=[m,v],B(B({},c),{parentRotate:o,groupDelta:b})});t.rotation=i*n.beforeRotation;var l=B({targets:t.props.targets,events:s,set:function(u){t.rotation=u},setGroupRotation:function(u){t.rotation=u}},n);return me(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e);var i=Ei(t,this,"dragControlEnd",e),o=Wr(t,e,{targets:t.props.targets,events:i});return me(t,"onRotateGroupEnd",o),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function _G(t,e){var r,n=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,l=t.key,u=n==="horizontal",c=u?"Y":"X";return e.createElement("div",{key:l,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(o),r.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),r)})}function dw(t,e){return _G(B(B({},t),{classNames:oe([Te("line","guideline",t.direction)],F(t.classNames),!1).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(Ne(r,.1),"px")})}),e)}function ZC(t,e,r,n,i,o,a,s){var l=t.props.zoom;return r.map(function(u,c){var f=u.type,d=u.pos,p=[0,0];return p[a]=n,p[a?0:1]=-i+d,dw({key:"".concat(e,"TargetGuideline").concat(c),classNames:[Te("target","bold",f)],posValue:p,sizeValue:o,zoom:l,direction:e},s)})}function ek(t,e,r,n,i,o){var a=t.props,s=a.zoom,l=a.isDisplayInnerSnapDigit,u=e==="horizontal"?Co:ko,c=i[u.start],f=i[u.end];return r.filter(function(d){var p=d.hide,h=d.elementRect;if(p)return!1;if(l&&h){var g=h.rect;if(g[u.start]<=c&&f<=g[u.end])return!1}return!0}).map(function(d,p){var h=d.pos,g=d.size,m=d.element,v=d.className,b=[-n[0]+h[0],-n[1]+h[1]];return dw({key:"".concat(e,"-default-guideline-").concat(p),classNames:m?[Te("bold"),v]:[Te("normal"),v],direction:e,posValue:b,sizeValue:g,zoom:s},o)})}function mu(t,e,r,n,i,o,a,s){var l,u=t.props,c=u.snapDigit,f=c===void 0?0:c,d=u.isDisplaySnapDigit,p=d===void 0?!0:d,h=u.snapDistFormat,g=h===void 0?function(x,S){return x}:h,m=u.zoom,v=e==="horizontal"?"X":"Y",b=e==="vertical"?"height":"width",w=Math.abs(i),y=p?parseFloat(w.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:Te("guideline-group",e),style:(l={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},l[b]="".concat(w,"px"),l)},dw({direction:e,classNames:[Te(r),a],size:"100%",posValue:[0,0],sizeValue:w,zoom:m},s),s.createElement("div",{className:Te("size-value","gap"),style:{transform:"translate".concat(v,"(-50%) scale(").concat(m,")")}},y>0?g(y,e):""))}function MG(t,e,r,n){var i=t==="vertical"?0:1,o=t==="vertical"?1:0,a=i?Co:ko,s=r[a.start],l=r[a.end];return o2(e,function(u){return u.pos[i]}).map(function(u){var c=[],f=[],d=[];return u.forEach(function(p){var h,g,m=p.element,v=p.elementRect.rect;if(v[a.end]<s)c.push(p);else if(l<v[a.start])f.push(p);else if(v[a.start]<=s&&l<=v[a.end]&&n){var b=p.pos,w={element:m,rect:B(B({},v),(h={},h[a.end]=v[a.start],h))},y={element:m,rect:B(B({},v),(g={},g[a.start]=v[a.end],g))},x=[0,0],S=[0,0];x[i]=b[i],x[o]=b[o],S[i]=b[i],S[o]=b[o]+p.size,c.push({type:t,pos:x,size:0,elementRect:w,direction:"",elementDirection:"end"}),f.push({type:t,pos:S,size:0,elementRect:y,direction:"",elementDirection:"start"})}}),c.sort(function(p,h){return h.pos[o]-p.pos[o]}),f.sort(function(p,h){return p.pos[o]-h.pos[o]}),{total:u,start:c,end:f,inner:d}})}function AG(t,e,r,n,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach(function(s){var l=e.filter(function(m){return m.type===s}),u=s==="vertical"?1:0,c=u?0:1,f=MG(s,l,n,o),d=u?ko:Co,p=u?Co:ko,h=n[d.start],g=n[d.end];f.forEach(function(m){var v=m.total,b=m.start,w=m.end,y=m.inner,x=r[c]+v[0].pos[c]-n[p.start],S=n;b.forEach(function(C){var E=C.elementRect.rect,k=S[d.start]-E[d.end];if(k>0){var T=[0,0];T[u]=r[u]+S[d.start]-h-k,T[c]=x,a.push(mu(t,s,"dashed",a.length,k,T,C.className,i))}S=E}),S=n,w.forEach(function(C){var E=C.elementRect.rect,k=E[d.start]-S[d.end];if(k>0){var T=[0,0];T[u]=r[u]+S[d.end]-h,T[c]=x,a.push(mu(t,s,"dashed",a.length,k,T,C.className,i))}S=E}),y.forEach(function(C){var E=C.elementRect.rect,k=h-E[d.start],T=E[d.end]-g,A=[0,0],O=[0,0];A[u]=r[u]-k,A[c]=x,O[u]=r[u]+g-h,O[c]=x,a.push(mu(t,s,"dashed",a.length,k,A,C.className,i)),a.push(mu(t,s,"dashed",a.length,T,O,C.className,i))})})}),a}function DG(t,e,r,n,i){var o=[];return["horizontal","vertical"].forEach(function(a){var s=e.filter(function(m){return m.type===a}).slice(0,1),l=a==="vertical"?0:1,u=l?0:1,c=l?ko:Co,f=l?Co:ko,d=n[c.start],p=n[c.end],h=n[f.start],g=n[f.end];s.forEach(function(m){var v=m.gap,b=m.gapRects,w=Math.max.apply(Math,oe([h],F(b.map(function(S){var C=S.rect;return C[f.start]})),!1)),y=Math.min.apply(Math,oe([g],F(b.map(function(S){var C=S.rect;return C[f.end]})),!1)),x=(w+y)/2;w===y||x===(h+g)/2||b.forEach(function(S){var C=S.rect,E=S.className,k=[r[0],r[1]];if(C[c.end]<d)k[l]+=C[c.end]-d;else if(p<C[c.start])k[l]+=C[c.start]-d-v;else return;k[u]+=x-h,o.push(mu(t,l?"vertical":"horizontal","gap",o.length,v,k,E,i))})})}),o}function dy(t){var e,r,n=t.state,i=n.containerClientRect,o=n.hasFixed,a=i.overflow,s=i.scrollHeight,l=i.scrollWidth,u=i.clientHeight,c=i.clientWidth,f=i.clientLeft,d=i.clientTop,p=t.props,h=p.snapGap,g=h===void 0?!0:h,m=p.verticalGuidelines,v=p.horizontalGuidelines,b=p.snapThreshold,w=b===void 0?5:b,y=p.maxSnapElementGuidelineDistance,x=y===void 0?1/0:y,S=p.isDisplayGridGuidelines,C=an(pn(t.state)),E=C.top,k=C.left,T=C.bottom,A=C.right,O={top:E,left:k,bottom:T,right:A,center:(k+A)/2,middle:(E+T)/2},_=IG(t),N=oe([],F(_),!1),M=((r=(e=n.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&r!==void 0?r:[1,1]).map(function(z){return z*w});g&&N.push.apply(N,oe([],F(RG(t,O,M)),!1));var L=B({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(N.push.apply(N,oe([],F(NG(t,a?l:c,a?s:u,f,d,L,S)),!1)),o){var I=i.left,R=i.top;L.left+=I,L.top+=R,L.right+=I,L.bottom+=R}return N.push.apply(N,oe([],F(VR(v||!1,m||!1,a?l:c,a?s:u,f,d,L)),!1)),N=N.filter(function(z){var j=z.element,D=z.elementRect,$=z.type;if(!j||!D)return!0;var V=D.rect;return $R(O,V,$,x)}),N}function RG(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,o=i===void 0?1/0:i,a=n.maxSnapElementGapDistance,s=a===void 0?1/0:a,l=t.state.elementRects,u=[];return[["vertical",Co,ko],["horizontal",ko,Co]].forEach(function(c){var f=F(c,3),d=f[0],p=f[1],h=f[2],g=e[p.start],m=e[p.end],v=e[p.center],b=e[h.start],w=e[h.end],y={left:r[0],top:r[1]};function x(E){var k=E.rect,T=y[p.start];return k[p.end]<g+T?g-k[p.end]:m-T<k[p.start]?k[p.start]-m:-1}var S=l.filter(function(E){var k=E.rect;return k[h.start]>w||k[h.end]<b?!1:x(E)>0}).sort(function(E,k){return x(E)-x(k)}),C=[];S.forEach(function(E){S.forEach(function(k){if(E!==k){var T=E.rect,A=k.rect,O=T[h.start],_=T[h.end],N=A[h.start],M=A[h.end];O>M||N>_||C.push([E,k])}})}),C.forEach(function(E){var k=F(E,2),T=k[0],A=k[1],O=T.rect,_=A.rect,N=O[p.start],M=O[p.end],L=_[p.start],I=_[p.end],R=y[p.start],z=0,j=0,D=!1,$=!1,V=!1;if(M<=g&&m<=L){if($=!0,z=(L-M-(m-g))/2,j=M+z+(m-g)/2,Q(j-v)>R)return}else if(M<L&&I<g+R){if(D=!0,z=L-M,j=I+z,Q(j-g)>R)return}else if(M<L&&m-R<N){if(V=!0,z=L-M,j=N-z,Q(j-m)>R)return}else return;z&&$R(e,_,d,o)&&(z>s||u.push({type:d,pos:d==="vertical"?[j,0]:[0,j],element:A.element,size:0,className:A.className,isStart:D,isCenter:$,isEnd:V,gap:z,hide:!0,gapRects:[T,A],direction:"",elementDirection:""}))})}),u}function PG(t,e,r,n){var i,o,a=t.props,s=t.state,l=a.snapGridAll,u=a.snapGridWidth,c=u===void 0?0:u,f=a.snapGridHeight,d=f===void 0?0:f,p=s.snapRenderInfo,h=p&&(((i=p.direction)===null||i===void 0?void 0:i[0])||((o=p.direction)===null||o===void 0?void 0:o[1])),g=t.moveables;if(l&&g&&h&&(c||d)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var m=t.getRect(),v=m.children,b=p.direction;if(v){var w=b.map(function(x,S){var C=S===0?{snapSize:c,posName:"left",sizeName:"width",clientOffset:n.left-e}:{snapSize:d,posName:"top",sizeName:"height",clientOffset:n.top-r},E=C.snapSize,k=C.posName,T=C.sizeName,A=C.clientOffset;if(!E)return{dir:x,multiple:1,snapSize:E,snapOffset:0};var O=m[T],_=m[k],N=EW(v.map(function(D){return[D[k]-_,D[T],O-D[T]-D[k]+_]})).filter(function(D){return D}).sort(function(D,$){return D-$}),M=N[0],L=N.map(function(D){return Ne(D/M,.1)*E}),I=1,R=Ne(O/M,.1);for(I=1;I<=10&&!L.every(function(D){return D*I%1===0});++I);var z=(-x+1)/2,j=Lp(_-A,_-A+O,z,1-z);return{multiple:R*I,dir:x,snapSize:E,snapOffset:Math.round(j/E)}}),y=w.map(function(x){return x.multiple||1});s.snapThresholdInfo.multiples=y,s.snapThresholdInfo.offset=w.map(function(x){return x.snapOffset}),w.forEach(function(x,S){x.snapSize})}}else s.snapThresholdInfo=null}function NG(t,e,r,n,i,o,a){n===void 0&&(n=0),i===void 0&&(i=0);var s=t.props,l=t.state,u=s.snapGridWidth,c=u===void 0?0:u,f=s.snapGridHeight,d=f===void 0?0:f,p=[],h=o.left,g=o.top,m=[0,0];PG(t,n,i,o);var v=l.snapThresholdInfo,b=c,w=d;if(v&&(c*=v.multiples[0]||1,d*=v.multiples[1]||1,m=v.offset),d){for(var y=function(S){p.push({type:"horizontal",pos:[h,Ne(m[1]*w+S-i+g,.1)],className:Te("grid-guideline"),size:e,hide:!a,direction:"",grid:!0})},x=0;x<=r*2;x+=d)y(x);for(var x=-d;x>=-r;x-=d)y(x)}if(c){for(var y=function(C){p.push({type:"vertical",pos:[Ne(m[0]*b+C-n+h,.1),g],className:Te("grid-guideline"),size:r,hide:!a,direction:"",grid:!0})},x=0;x<=e*2;x+=c)y(x);for(var x=-c;x>=-e;x-=c)y(x)}return p}function $R(t,e,r,n){return r==="horizontal"?Q(t.right-e.left)<=n||Q(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?Q(t.bottom-e.top)<=n||Q(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function IG(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(d){return!d.refresh}),o=n.map(function(d){return Dn(d)&&"element"in d?B(B({},d),{element:Jn(d.element,!0)}):{element:Jn(d,!0)}}).filter(function(d){return d.element}),a=VW(i.map(function(d){return d.element}),o.map(function(d){return d.element})),s=a.maintained,l=a.added,u=[];s.forEach(function(d){var p=F(d,2),h=p[0],g=p[1];u[g]=i[h]}),LG(t,l.map(function(d){return o[d]})).map(function(d,p){u[l[p]]=d}),e.elementRects=u;var c=lw(t.props.elementSnapDirections),f=[];return u.forEach(function(d){var p=d.element,h=d.top,g=h===void 0?c.top:h,m=d.left,v=m===void 0?c.left:m,b=d.right,w=b===void 0?c.right:b,y=d.bottom,x=y===void 0?c.bottom:y,S=d.center,C=S===void 0?c.center:S,E=d.middle,k=E===void 0?c.middle:E,T=d.className,A=d.rect,O=uw({top:g,right:w,left:v,bottom:x,center:C,middle:k},A),_=O.horizontal,N=O.vertical,M=O.horizontalNames,L=O.verticalNames,I=A.top,R=A.left,z=A.right-R,j=A.bottom-I,D=[z,j];N.forEach(function($,V){f.push({type:"vertical",element:p,pos:[Ne($,.1),I],size:j,sizes:D,className:T,elementRect:d,elementDirection:WC[L[V]]||L[V],direction:""})}),_.forEach(function($,V){f.push({type:"horizontal",element:p,pos:[R,Ne($,.1)],size:z,sizes:D,className:T,elementRect:d,elementDirection:WC[M[V]]||M[V],direction:""})})}),f}function tk(t,e){return t?t.map(function(r){var n=Dn(r)?r:{pos:r},i=n.pos;return Oc(i)?n:B(B({},n),{pos:Qe(i,e)})}):[]}function VR(t,e,r,n,i,o,a){i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a={left:0,top:0,right:0,bottom:0});var s=[],l=a.left,u=a.top,c=a.bottom,f=a.right,d=r+f-l,p=n+c-u;return tk(t,p).forEach(function(h){s.push({type:"horizontal",pos:[l,Ne(h.pos-o+u,.1)],size:d,className:h.className,direction:""})}),tk(e,d).forEach(function(h){s.push({type:"vertical",pos:[Ne(h.pos-i+l,.1),u],size:p,className:h.className,direction:""})}),s}function LG(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,o=n.rootMatrix,a=n.is3d,s=n.offsetDelta,l=a?4:3,u=F(aG(o,i,l),2),c=u[0],f=u[1],d=r?0:s[0],p=r?0:s[1];return e.map(function(h){var g=h.element.getBoundingClientRect(),m=g.left-c-d,v=g.top-f-p,b=v+g.height,w=m+g.width,y=F(rl(o,[m,v],l),2),x=y[0],S=y[1],C=F(rl(o,[w,b],l),2),E=C[0],k=C[1];return B(B({},h),{rect:{left:x,right:E,top:S,bottom:k,center:(x+E)/2,middle:(S+k)/2}})})}function Yf(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(r!==n){var a=Jn(n,!0);if(a){var s=Ku(a),l=ak(e,[s.left-i.left,s.top-i.top]),u=ak(e,[s.right-i.right,s.bottom-i.bottom]);o.left=Ne(l[0],1e-5),o.top=Ne(l[1],1e-5),o.right=Ne(u[0],1e-5),o.bottom=Ne(u[1],1e-5)}}return e.snapContainer=n,e.snapOffset=o,e.guidelines=dy(t),e.enableSnap=!0,!0}function WR(t,e,r,n,i,o){var a=Da(t,e,r,o?4:3),s=Pt(a,n);return hw(a,Oe(i,s))}function rk(t){return t?t/Q(t):0}function BG(t,e,r,n,i,o){var a=o.fixedDirection,s=cG(r,a,n),l=fw(t,e,r,n),u=oe(oe([],F(xG(t,e,s,n,i,o)),!1),F(FR(t,l,o)),!1),c=Hp(u,0),f=Hp(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function zG(t,e,r,n,i,o,a,s,l){var u=Pt(e,a),c=ag(t,s,{vertical:[u[0]],horizontal:[u[1]]}),f=c.horizontal.offset,d=c.vertical.offset;if(Ne(d,oy)||Ne(f,oy)){var p=F(oi({datas:l,distX:-d,distY:-f}),2),h=p[0],g=p[1],m=Math.min(i||1/0,r+a[0]*h),v=Math.min(o||1/0,n+a[1]*g);return[m-r,v-n]}return[0,0]}function GR(t,e,r,n,i,o,a,s){for(var l=pn(t.state),u=t.props.keepRatio,c=0,f=0,d=0;d<2;++d){var p=e(c,f),h=BG(t,p,i,u,a,s),g=h.width,m=h.height,v=g.isBound,b=m.isBound,w=g.offset,y=m.offset;if(d===1&&(v||(w=0),b||(y=0)),d===0&&a&&!v&&!b)return[0,0];if(u){var x=Q(w)*(r?1/r:1),S=Q(y)*(n?1/n:1),C=v&&b?x<S:b||!v&&x<S;C?w=r*y/n:y=n*w/r}c+=w,f+=y}if(!u&&i[0]&&i[1]){var E=CG(t,l,i,o,s),k=E.maxWidth,T=E.maxHeight,A=F(zG(t,e(c,f).map(function(N){return N.map(function(M){return Ne(M,oy)})}),r+c,n+f,k,T,i,a,s),2),w=A[0],y=A[1];c+=w,f+=y}return[c,f]}function Gu(t){return t<0&&(t=t%360+360),t%=360,t}function FG(t,e){e=Gu(e);var r=Math.floor(t/360),n=r*360+360-e,i=r*360+e;return Q(t-n)<Q(t-i)?n:i}function Um(t,e){t=Gu(t),e=Gu(e);var r=Gu(t-e);return Math.min(r,360-r)}function jG(t,e,r,n){var i,o=t.props,a=(i=o[qR])!==null&&i!==void 0?i:5,s=o[KR];if(Ol(t,"rotatable")){var l=e.pos1,u=e.pos2,c=e.pos3,f=e.pos4,d=e.origin,p=r*Math.PI/180,h=[l,u,c,f].map(function(y){return Oe(y,d)}),g=h.map(function(y){return of(y,p)}),m=oe(oe([],F(rG(t,h,g,d,r)),!1),F(mG(t,h,g,d,r)),!1);m.sort(function(y,x){return Q(y-r)-Q(x-r)});var v=m.length>0;if(v)return{isSnap:v,dist:v?m[0]:r}}if(s!=null&&s.length&&a){var b=s.slice().sort(function(y,x){return Um(y,n)-Um(x,n)}),w=b[0];if(Um(w,n)<=a)return{isSnap:!0,dist:r+FG(n,w)-n}}return{isSnap:!1,dist:r}}function HG(t,e,r,n,i,o,a){if(!Ol(t,"resizable"))return[0,0];var s=a.fixedDirection,l=a.nextAllMatrix,u=t.state,c=u.allMatrix,f=u.is3d;return GR(t,function(d,p){return WR(l||c,e+d,r+p,s,i,f)},e,r,n,i,o,a)}function UG(t,e,r,n,i){if(!Ol(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=GR(t,function(f,d){return WR(H9(i,qe(e,[f/o,d/a])),o,a,l,s,u)},o,a,r,s,n,i);return[c[0]/o,c[1]/a]}function $G(t,e){e.absolutePoses=pn(t.state)}function nk(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;Vr(e,function(o){return o.guideline===i})||(i.direction="",e.push({guideline:i,posInfo:r}))})}),e.map(function(r){var n=r.guideline,i=r.posInfo;return B(B({},n),{direction:i.direction})})}function ik(t,e,r,n,i,o){var a=sw(ig(t,o),e,r),s=a.vertical,l=a.horizontal,u=ds();s.forEach(function(h){h.isBound&&(h.direction==="start"&&(u.left=!0),h.direction==="end"&&(u.right=!0),n.push({type:"bounds",pos:h.pos}))}),l.forEach(function(h){h.isBound&&(h.direction==="start"&&(u.top=!0),h.direction==="end"&&(u.bottom=!0),i.push({type:"bounds",pos:h.pos}))});var c=vG(t),f=c.boundMap,d=c.vertical,p=c.horizontal;return d.forEach(function(h){Ti(n,function(g){var m=g.type,v=g.pos;return m==="bounds"&&v===h})>=0||n.push({type:"bounds",pos:h})}),p.forEach(function(h){Ti(i,function(g){var m=g.type,v=g.pos;return m==="bounds"&&v===h})>=0||i.push({type:"bounds",pos:h})}),{boundMap:u,innerBoundMap:f}}var VG=vw("",["resizable","scalable"]),qR="snapRotationThreshold",KR="snapRotationDegrees",WG={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",qR,KR,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,i=r.left,o=r.pos1,a=r.pos2,s=r.pos3,l=r.pos4,u=r.snapRenderInfo,c=t.props.snapRenderThreshold,f=c===void 0?1:c;if(!u||!u.render||!Ol(t,""))return hs(t,"boundMap",ds(),function(W){return JSON.stringify(W)}),hs(t,"innerBoundMap",ds(),function(W){return JSON.stringify(W)}),[];r.guidelines=dy(t);var d=Math.min(o[0],a[0],s[0],l[0]),p=Math.min(o[1],a[1],s[1],l[1]),h=u.externalPoses||[],g=pn(t.state),m=[],v=[],b=[],w=[],y=[],x=an(g),S=x.width,C=x.height,E=x.top,k=x.left,T=x.bottom,A=x.right,O={left:k,right:A,top:E,bottom:T,center:(k+A)/2,middle:(E+T)/2},_=h.length>0,N=_?an(h):{};if(!u.request){if(u.direction&&y.push(uG(t,g,u.direction,f)),u.snap){var M=an(g);u.center&&(M.middle=(M.top+M.bottom)/2,M.center=(M.left+M.right)/2),y.push(GC(t,M,f))}_&&(u.center&&(N.middle=(N.top+N.bottom)/2,N.center=(N.left+N.right)/2),y.push(GC(t,N,f))),y.forEach(function(W){var q=W.vertical.posInfos,Y=W.horizontal.posInfos;m.push.apply(m,oe([],F(q.filter(function(te){var ee=te.guidelineInfos;return ee.some(function(he){var ve=he.guideline;return!ve.hide})}).map(function(te){return{type:"snap",pos:te.pos}})),!1)),v.push.apply(v,oe([],F(Y.filter(function(te){var ee=te.guidelineInfos;return ee.some(function(he){var ve=he.guideline;return!ve.hide})}).map(function(te){return{type:"snap",pos:te.pos}})),!1)),b.push.apply(b,oe([],F(nk(q)),!1)),w.push.apply(w,oe([],F(nk(Y)),!1))})}var L=ik(t,[k,A],[E,T],m,v),I=L.boundMap,R=L.innerBoundMap;_&&ik(t,[N.left,N.right],[N.top,N.bottom],m,v,u.externalBounds);var z=oe(oe([],F(b),!1),F(w),!1),j=z.filter(function(W){return W.element&&!W.gapRects}),D=z.filter(function(W){return W.gapRects}).sort(function(W,q){return W.gap-q.gap});me(t,"onSnap",{guidelines:z.filter(function(W){var q=W.element;return!q}),elements:j,gaps:D},!0);var $=hs(t,"boundMap",I,function(W){return JSON.stringify(W)},ds()),V=hs(t,"innerBoundMap",R,function(W){return JSON.stringify(W)},ds());return(I===$||R===V)&&me(t,"onBound",{bounds:I,innerBounds:R},!0),oe(oe(oe(oe(oe(oe([],F(AG(t,j,[d,p],O,e)),!1),F(DG(t,D,[d,p],O,e)),!1),F(ek(t,"horizontal",w,[i,n],O,e)),!1),F(ek(t,"vertical",b,[i,n],O,e)),!1),F(ZC(t,"horizontal",v,d,n,S,0,e)),!1),F(ZC(t,"vertical",m,p,i,C,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Yf(t)},drag:function(t){var e=t.state;Yf(t)||(e.guidelines=dy(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(VG(t,e)||fy(t,e))return!0;if(!e.isRequest&&e.inputEvent)return Rt(e.inputEvent.target,Te("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Yf(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Yf(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function GG(t,e){return[t[0]*e[0],t[1]*e[1]]}function Te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return aW.apply(void 0,oe([nw],F(t),!1))}function YR(t){t()}function qG(t){return!t||t==="none"?[1,0,0,1,0,0]:Dn(t)?t:Mc(t)}function qu(t,e,r){return Bp(e,wa(r,e),t,wa(r.map(function(n){return-n}),e))}function KG(t,e,r){if(e==="%"){var n=pw(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function YG(t){var e=XG(gw(t,":before"));return e.map(function(r,n){var i=nf(r),o=i.value,a=i.unit;return o*KG(t,a,n===0)})}function $p(t){return t?t.split(" "):["0","0"]}function XG(t){return $p(t.transformOrigin)}function XR(t){var e=Fr(t),r=e("transform");if(r&&r!=="none")return r;if("transform"in t){var n=t.transform,i=n.baseVal;if(!i)return"";var o=i.length;if(!o)return"";for(var a=[],s=function(u){var c=i[u].matrix;a.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return c[f]}).join(", "),")"))},l=0;l<o;++l)s(l);return a.join(" ")}return""}function Dc(t,e,r,n,i){var o,a,s=Yb(t)||Ro(t),l=!1,u,c;if(!t||r)u=t;else{var f=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentElement,d=t.parentElement;f?(l=!0,c=d,u=f):u=d}for(var p=!1,h=t===e||u===e,g="relative",m=1,v=parseFloat(i==null?void 0:i("zoom"))||1,b=i==null?void 0:i("position");u&&u!==s;){e===u&&(h=!0);var w=Fr(u),y=u.tagName.toLowerCase(),x=XR(u),S=w("willChange"),C=parseFloat(w("zoom"))||1;if(g=w("position"),n&&C!==1){m=C;break}if(!r&&n&&v!==1&&b&&b!=="absolute"||y==="svg"||g!=="static"||x&&x!=="none"||S==="transform")break;var E=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentNode,k=u.parentNode;E&&(l=!0,c=k);var T=k;if(T&&T.nodeType===11){u=T.host,p=!0,g=Fr(u)("position");break}u=T,g="relative"}return{offsetZoom:m,hasSlot:l,parentSlotElement:c,isCustomElement:p,isStatic:g==="static",isEnd:h||!u||u===s,offsetParent:u||s}}function JG(t,e){var r,n=t.tagName.toLowerCase(),i=t.offsetLeft,o=t.offsetTop,a=Fr(t),s=Vb(i),l=!s,u,c;return!l&&(n!=="svg"||e.ownerSVGElement)?(u=yR?YG(t):$p(a("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice(),l=!0,n==="svg"?(i=0,o=0):(r=F(e7(t,u,t===e&&e.tagName.toLowerCase()==="g"),4),i=r[0],o=r[1],u[0]=r[2],u[1]=r[3])):(u=$p(a("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice()),{tagName:n,isSVG:s,hasOffset:l,offset:[i||0,o||0],origin:u,targetOrigin:c}}function JR(t,e){var r=Fr(t),n=Fr(Ro(t)),i=n("position");if(!e&&(!i||i==="static"))return[0,0];var o=parseInt(n("marginLeft"),10),a=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(a=0),(r("left")!=="auto"||r("right")!=="auto")&&(o=0)),[o,a]}function py(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=Rn(r,3,4))})}function QG(t){for(var e=t.parentElement,r=!1,n=Ro(t);e;){var i=gw(e).transform;if(i&&i!=="none"){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function sg(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(cR(t,!e).join(","),")")}function pw(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function ZG(t,e){var r,n=pw(t),i=n.width,o=n.height,a=n.clientWidth,s=n.clientHeight,l=a/i,u=s/o,c=t.preserveAspectRatio.baseVal,f=c.align,d=c.meetOrSlice,p=[0,0],h=[l,u],g=[0,0];if(f!==1){var m=(f-2)%3,v=Math.floor((f-2)/3);p[0]=i*m/2,p[1]=o*v/2;var b=d===2?Math.max(u,l):Math.min(l,u);h[0]=b,h[1]=b,g[0]=(a-i)/2*m,g[1]=(s-o)/2*v}var w=Jb(h,e);return r=F(g,2),w[e*(e-1)]=r[0],w[e*(e-1)+1]=r[1],qu(w,e,p)}function e7(t,e,r){if(!t.getBBox||!r&&t.tagName.toLowerCase()==="g")return[0,0,0,0];var n=Fr(t),i=n("transform-box")==="fill-box",o=t.getBBox(),a=pw(t.ownerSVGElement),s=o.x-a.x,l=o.y-a.y,u=i?e[0]:e[0]-s,c=i?e[1]:e[1]-l;return[s,l,u,c]}function mt(t,e,r){return dr(t,ba(e,r),r)}function Da(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return mt(t,i,n)})}function an(t){var e=t.map(function(u){return u[0]}),r=t.map(function(u){return u[1]}),n=Math.min.apply(Math,oe([],F(e),!1)),i=Math.min.apply(Math,oe([],F(r),!1)),o=Math.max.apply(Math,oe([],F(e),!1)),a=Math.max.apply(Math,oe([],F(r),!1)),s=o-n,l=a-i;return{left:n,top:i,right:o,bottom:a,width:s,height:l}}function ok(t,e,r,n){var i=Da(t,e,r,n);return an(i)}function t7(t,e,r,n,i){var o,a=t.target,s=t.origin,l=e.matrix,u=ZR(a),c=u.offsetWidth,f=u.offsetHeight,d=r.getBoundingClientRect(),p=[0,0];r===Ro(r)&&(p=JR(a,!0));for(var h=a.getBoundingClientRect(),g=h.left-d.left+r.scrollLeft-(r.clientLeft||0)+p[0],m=h.top-d.top+r.scrollTop-(r.clientTop||0)+p[1],v=h.width,b=h.height,w=Bp(n,i,l),y=ok(w,c,f,n),x=y.left,S=y.top,C=y.width,E=y.height,k=mt(w,s,n),T=Oe(k,[x,S]),A=[g+T[0]*v/C,m+T[1]*b/E],O=[0,0],_=0;++_<10;){var N=ri(i,n);o=F(Oe(mt(N,A,n),mt(N,k,n)),2),O[0]=o[0],O[1]=o[1];var M=Bp(n,i,wa(O,n),l),L=ok(M,c,f,n),I=L.left,R=L.top,z=I-g,j=R-m;if(Q(z)<2&&Q(j)<2)break;A[0]-=z,A[1]-=j}return O.map(function(D){return Math.round(D)})}function r7(t,e,r){var n=t.length===16,i=n?4:3,o=e.map(function(l){return mt(t,l,i)}),a=r.left,s=r.top;return o.map(function(l){return[l[0]+a,l[1]+s]})}function dn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function QR(t,e){return dn([e[0]-t[0],e[1]-t[1]])}function vu(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=Et(t,e));var i=QR(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function Vp(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,o=r.reduce(function(s,l){return s+l[0]},0)/i,a=r.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function xa(t,e){var r=t[e];return Dn(r)?B(B({},t),r):t}function ZR(t){var e=t&&!Vb(t.offsetWidth),r=0,n=0,i=0,o=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=1/0,g=1/0,m=1/0,v=1/0,b=0,w=0,y=!1;if(t)if(!e&&t.ownerSVGElement){var x=t.getBBox();y=!0,r=x.width,n=x.height,a=r,s=n,l=r,u=n,i=r,o=n}else{var S=Fr(t),C=t.style,E=S("boxSizing")==="border-box",k=parseFloat(S("borderLeftWidth"))||0,T=parseFloat(S("borderRightWidth"))||0,A=parseFloat(S("borderTopWidth"))||0,O=parseFloat(S("borderBottomWidth"))||0,_=parseFloat(S("paddingLeft"))||0,N=parseFloat(S("paddingRight"))||0,M=parseFloat(S("paddingTop"))||0,L=parseFloat(S("paddingBottom"))||0,I=_+N,R=M+L,z=k+T,j=A+O,D=I+z,$=R+j,V=S("position"),W=0,q=0;if("clientLeft"in t){var Y=null;if(V==="absolute"){var te=Dc(t,Ro(t));Y=te.offsetParent}else Y=t.parentElement;if(Y){var ee=Fr(Y);W=parseFloat(ee("width")),q=parseFloat(ee("height"))}}c=Math.max(I,Qe(S("minWidth"),W)||0),f=Math.max(R,Qe(S("minHeight"),q)||0),h=Qe(S("maxWidth"),W),g=Qe(S("maxHeight"),q),isNaN(h)&&(h=1/0),isNaN(g)&&(g=1/0),b=Qe(C.width,0)||0,w=Qe(C.height,0)||0,a=parseFloat(S("width"))||0,s=parseFloat(S("height"))||0,l=Q(a-b)<1?Y0(c,b||a,h):a,u=Q(s-w)<1?Y0(f,w||s,g):s,r=l,n=u,i=l,o=u,E?(m=h,v=g,d=c,p=f,l=r-D,u=n-$):(m=h+D,v=g+$,d=c+D,p=f+$,r=l+D,n=u+$),i=l+I,o=u+R}return{svg:y,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:o,contentWidth:l,contentHeight:u,inlineCSSWidth:b,inlineCSSHeight:w,cssWidth:a,cssHeight:s,minWidth:c,minHeight:f,maxWidth:h,maxHeight:g,minOffsetWidth:d,minOffsetHeight:p,maxOffsetWidth:m,maxOffsetHeight:v}}function e2(t,e){return Et(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Xf(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function t2(t,e){var r=t===Ro(t)||t===Yb(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow=Fr(t)("overflow")!=="visible",B(B({},e),n)}function $m(t,e,r,n){var i=t.left,o=t.right,a=t.top,s=t.bottom,l=e.top,u=e.left,c={left:u+i,top:l+a,right:u+o,bottom:l+s,width:o-i,height:s-a};return r&&n?t2(r,c):c}function Ku(t,e){var r=0,n=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();r=a.left,n=a.top,i=a.width,o=a.height}var s={left:r,top:n,width:i,height:o,right:r+i,bottom:n+o};return t&&e?t2(t,s):s}function n7(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),o=i.offsetWidth,a=i.offsetHeight,s=i.svg,l=i.transformOrigin;return!r&&s&&n?bw(n,o,a):l}function r2(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{var o=r.target;i=n2(o,n)}return i}function n2(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function hw(t,e){return[qe(e,t[0]),qe(e,t[1]),qe(e,t[2]),qe(e,t[3])]}function pn(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,o=t.pos3,a=t.pos4;return hw([n,i,o,a],[e,r])}function hy(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(t)})}function ps(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];(n==null?void 0:n.isIdle())===!1&&hy(t,e),n==null||n.unset(),t[r]=null}function wr(t,e){if(e){var r=Tl(e);r.nextStyle=B(B({},r.nextStyle),t)}return{style:t,cssText:Cl(t).map(function(n){return"".concat(yW(n,"-"),": ").concat(t[n],";")}).join("")}}function i2(t,e,r){var n=e.afterTransform||e.transform;return B(B({},wr(B(B(B({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function Ie(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var o=B(B({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var a;(a=e.stop)===null||a===void 0||a.call(e)}});return i.isStartEvent?n||(i.lastEvent=o):i.isStartEvent=!0,o}function Wr(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),B(B({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function lg(t,e,r){t._emitter.on(e,r)}function me(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function gw(t,e){return go(t).getComputedStyle(t,e)}function Jf(t,e,r){var n={},i={};return t.filter(function(o){var a=o.name;if(n[a]||!e.some(function(s){return o[s]}))return!1;if(!r&&o.ableGroup){if(i[o.ableGroup])return!1;i[o.ableGroup]=!0}return n[a]=!0,!0})}function gy(t,e){return t===e||t==null&&e==null}function i7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Vb(i))return i}return t[r]}function o2(t,e){var r=[],n=[];return t.forEach(function(i,o){var a=e(i,o,t),s=n.indexOf(a),l=r[s]||[];s===-1&&(n.push(a),r.push(l)),l.push(i)}),r}function o7(t,e){var r=[],n={};return t.forEach(function(i,o){var a=e(i,o,t),s=n[a];s||(s=[],n[a]=s,r.push(s)),s.push(i)}),r}function a2(t){return t.reduce(function(e,r){return e.concat(r)},[])}function tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Q(n)-Q(r)}),t[0]}function rl(t,e,r){return dr(ri(t,r),ba(e,r),r)}function s2(t,e){var r,n=t.is3d,i=t.rootMatrix,o=n?4:3;return r=F(rl(i,[e.distX,e.distY],o),2),e.distX=r[0],e.distY=r[1],e}function Xr(t,e,r,n){if(!r[0]&&!r[1])return e;var i=mt(t,[rk(r[0]||1),0],n),o=mt(t,[0,rk(r[1]||1)],n),a=mt(t,[r[0]/dn(i),r[1]/dn(o)],n);return qe(e,a)}function xn(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function Wp(t){return Q(t)<=kr?0:t}function mw(t){return function(e){if(!e.isDragging(t))return"";var r=K9(e,t),n=r.deg;return n?Te("view-control-rotation".concat(n)):""}}function vw(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(o){return n.requestAble===o})?n.parentDirection:!1;var i=n.inputEvent.target;return Rt(i,Te("direction"))&&(!t||Rt(i,Te(t)))}}function a7(t,e,r){var n,i=Qs(t,{"x%":function(x){return x/100*e.offsetWidth},"y%":function(x){return x/100*e.offsetHeight}}),o=t.slice(0,r<0?void 0:r),a=t.slice(0,r<0?void 0:r+1),s=t[r]||"",l=r<0?[]:t.slice(r),u=r<0?[]:t.slice(r+1),c=i.slice(0,r<0?void 0:r),f=i.slice(0,r<0?void 0:r+1),d=(n=i[r])!==null&&n!==void 0?n:Qs([""])[0],p=r<0?[]:i.slice(r),h=r<0?[]:i.slice(r+1),g=d?[d]:[],m=Ya(c),v=Ya(f),b=Ya(p),w=Ya(h),y=et(m,b,4);return{transforms:t,beforeFunctionMatrix:m,beforeFunctionMatrix2:v,targetFunctionMatrix:Ya(g),afterFunctionMatrix:b,afterFunctionMatrix2:w,allFunctionMatrix:y,beforeFunctions:c,beforeFunctions2:f,targetFunction:g[0],afterFunctions:p,afterFunctions2:h,beforeFunctionTexts:o,beforeFunctionTexts2:a,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}function s7(t){return!t||!Dn(t)||Xb(t)?!1:Kt(t)||"length"in t}function Jn(t,e){return t?Xb(t)?t:Mi(t)?e?document.querySelector(t):t:Wb(t)?t():sR(t)?t:"current"in t?t.current:t:null}function yw(t,e){if(!t)return[];var r=s7(t)?[].slice.call(t):[t];return r.reduce(function(n,i){return Mi(i)&&e?oe(oe([],F(n),!1),F([].slice.call(document.querySelectorAll(i))),!1):(Kt(i)?n.push(yw(i,e)):n.push(Jn(i,e)),n)},[])}function l7(t,e,r){var n=Et(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function ak(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,o=ri(r,i);return n||(o=Rn(o,3,4)),o[12]=0,o[13]=0,o[14]=0,NW(o,e)}function l2(t,e,r,n,i){var o=F(t,2),a=o[0],s=o[1],l=0,u=0;if(i&&a&&s){var c=Et([0,0],e),f=Et([0,0],n),d=dn(e),p=Math.cos(c-f)*d;if(!n[0])u=p,l=u*r;else if(!n[1])l=p,u=l/r;else{var h=n[0]*a,g=n[1]*s,m=Math.atan2(h+e[0],g+e[1]),v=Math.atan2(h,g);m<0&&(m+=Math.PI*2),v<0&&(v+=Math.PI*2);var b=0;Q(m-v)<Math.PI/2||Q(m-v)>Math.PI/2*3||(v+=Math.PI),b=m-v,b>Math.PI*2?b-=Math.PI*2:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var w=dn([h+e[0],g+e[1]])*Math.cos(b);l=w*Math.sin(v)-h,u=w*Math.cos(v)-g,n[0]<0&&(l*=-1),n[1]<0&&(u*=-1)}}else l=n[0]*e[0],u=n[1]*e[1];return[l,u]}function u2(t,e,r,n){var i,o=r.ratio,a=r.startOffsetWidth,s=r.startOffsetHeight,l=0,u=0,c=n.distX,f=n.distY,d=n.pinchScale,p=n.parentDistance,h=n.parentDist,g=n.parentScale,m=r.fixedDirection,v=[0,1].map(function(C){return Q(t[C]-m[C])}),b=[0,1].map(function(C){var E=v[C];return E!==0&&(E=2/E),E});if(h)l=h[0],u=h[1],e&&(l?u||(u=l/o):l=u*o);else if(Oc(d))l=(d-1)*a,u=(d-1)*s;else if(g)l=(g[0]-1)*a,u=(g[1]-1)*s;else if(p){var w=a*v[0],y=s*v[1],x=dn([w,y]);l=p/x*w*b[0],u=p/x*y*b[1]}else{var S=oi({datas:r,distX:c,distY:f});S=b.map(function(C,E){return S[E]*C}),i=F(l2([a,s],S,o,t,e),2),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function my(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=F(t.split(" "),2),n=r[0],i=r[1],o=my(n||""),a=my(i||""),s=B(B({},o),a),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function bw(t,e,r){var n=my(t,!0),i=n.x,o=n.y;return[Qe(i,e)||0,Qe(o,r)||0]}function u7(t,e,r){var n=t.map(function(o){return Oe(o,e)}),i=n.map(function(o){return of(o,r)});return{prev:n,next:i,result:i.map(function(o){return qe(o,e)})}}function c2(t,e){return t.length===e.length&&t.every(function(r,n){var i=e[n],o=Kt(r),a=Kt(i);return o&&a?c2(r,i):!o&&!a?r===i:!1})}function hs(t,e,r,n,i){var o=t._store,a=o[e];if(!(e in o))if(i!=null)o[e]=i,a=i;else return o[e]=r,r;return a===r||n(a)===n(r)?a:(o[e]=r,r)}function vr(t){return t>=0?1:-1}function Q(t){return Math.abs(t)}function Vm(t,e){return xW(t).map(function(r){return e(r)})}function f2(t){return Oc(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var c7=lf("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,l=a.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),f=(s===!0?t.controlAbles:l.filter(function(g){return s.indexOf(g.name)>-1})).filter(function(g){return g.canPinch&&g[c]}),d=Ie(t,e,{});n&&(d.targets=n);var p=me(t,u,d);r.isPinch=p!==!1,r.ables=f;var h=r.isPinch;return h?(f.forEach(function(g){if(o[g.name]=o[g.name]||{},!!g[c]){var m=B(B({},e),{datas:o[g.name],parentRotate:i,isPinch:!0});g[c](t,m)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},h):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,l=e.angle;if(r.isPinch){var u=i*(1-1/n),c=Ie(t,e,{});s&&(c.targets=s);var f="onPinch".concat(s?"Group":"");me(t,f,c);var d=r.ables,p="drag".concat(s?"Group":"","Control");return d.forEach(function(h){h[p]&&h[p](t,B(B({},e),{datas:o[h.name],inputEvent:a,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(r.isPinch){var s="onPinch".concat(o?"Group":"","End"),l=Wr(t,e,{isDrag:n});o&&(l.targets=o),me(t,s,l);var u=r.ables,c="drag".concat(o?"Group":"","ControlEnd");return u.forEach(function(f){f[c]&&f[c](t,B(B({},e),{isDrag:n,datas:a[f.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,B(B({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,B(B({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,B(B({},e),{targets:t.props.targets}))}}),sk=vw("scalable"),f7={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:RR("scalable"),dragControlCondition:sk,viewClassName:mw("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.parentDirection,a=r2(o,n,i,r),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target,d=s.pos1,p=s.pos2,h=s.pos4;if(!a||!f)return!1;n||Aa(t,e),r.datas={},r.transform=c,r.prevDist=[1,1],r.direction=a,r.startOffsetWidth=l,r.startOffsetHeight=u,r.startValue=[1,1];var g=!a[0]&&!a[1]||a[0]||!a[1];ng(t,e,"scale"),r.isWidth=g;function m(S){r.ratio=S&&isFinite(S)?S:0}r.startPositions=pn(t.state);function v(S){var C=jR(r.startPositions,S);r.fixedDirection=C.fixedDirection,r.fixedPosition=C.fixedPosition,r.fixedOffset=C.fixedOffset}r.setFixedDirection=v,m(xi(d,p)/xi(p,h)),v([-a[0],-a[1]]);var b=function(S){r.minScaleSize=S},w=function(S){r.maxScaleSize=S};b([-1/0,-1/0]),w([1/0,1/0]);var y=Ie(t,e,B(B({direction:a,set:function(S){r.startValue=S},setRatio:m,setFixedDirection:v,setMinScaleSize:b,setMaxScaleSize:w},rg(t,e)),{dragStart:mr.dragStart(t,new Zs().dragStart([0,0],e))})),x=me(t,"onScaleStart",y);return r.startFixedDirection=r.fixedDirection,x!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),r.isScale?y:!1},dragControl:function(t,e){eg(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,a=e.dragClient,s=e.isRequest,l=e.useSnap,u=e.resolveMatrix,c=r.prevDist,f=r.direction,d=r.startOffsetWidth,p=r.startOffsetHeight,h=r.isScale,g=r.startValue,m=r.isWidth,v=r.ratio;if(!h)return!1;var b=t.props,w=b.throttleScale,y=b.parentMoveable,x=f;!f[0]&&!f[1]&&(x=[1,1]);var S=v&&(n??b.keepRatio)||!1,C=t.state,E=[g[0],g[1]];function k(){var J=u2(x,S,r,e),ue=J.distWidth,Ae=J.distHeight,ye=d?(d+ue)/d:1,Z=p?(p+Ae)/p:1;g[0]||(E[0]=ue/d),g[1]||(E[1]=Ae/p);var fe=(x[0]||S?ye:1)*E[0],Ce=(x[1]||S?Z:1)*E[1];return fe===0&&(fe=vr(c[0])*Gf),Ce===0&&(Ce=vr(c[1])*Gf),[fe,Ce]}var T=k();if(!o&&t.props.groupable){var A=C.snapRenderInfo||{},O=A.direction;Kt(O)&&(O[0]||O[1])&&(C.snapRenderInfo={direction:f,request:e.isRequest})}me(t,"onBeforeScale",Ie(t,e,{scale:T,setFixedDirection:function(J){return r.setFixedDirection(J),T=k(),T},startFixedDirection:r.startFixedDirection,setScale:function(J){T=J}},!0));var _=[T[0]/E[0],T[1]/E[1]],N=a,M=[0,0],L=vr(_[0]*_[1]),I=!a&&!i&&o;if(I||u?N=aw(t,r.targetAllTransform,[0,0],[0,0],r):a||(N=r.fixedPosition),o||(M=UG(t,_,f,!l&&s,r)),S){x[0]&&x[1]&&M[0]&&M[1]&&(Math.abs(M[0]*d)>Math.abs(M[1]*p)?M[1]=0:M[0]=0);var R=!M[0]&&!M[1];if(R&&(m?_[0]=Ne(_[0]*E[0],w)/E[0]:_[1]=Ne(_[1]*E[1],w)/E[1]),x[0]&&!x[1]||M[0]&&!M[1]||R&&m){_[0]+=M[0];var z=d*_[0]*E[0]/v;_[1]=vr(L*_[0])*Q(z/p/E[1])}else if(!x[0]&&x[1]||!M[0]&&M[1]||R&&!m){_[1]+=M[1];var j=p*_[1]*E[1]*v;_[0]=vr(L*_[1])*Q(j/d/E[0])}}else _[0]+=M[0],_[1]+=M[1],M[0]||(_[0]=Ne(_[0]*E[0],w)/E[0]),M[1]||(_[1]=Ne(_[1]*E[1],w)/E[1]);_[0]===0&&(_[0]=vr(c[0])*Gf),_[1]===0&&(_[1]=vr(c[1])*Gf),T=GG(_,[E[0],E[1]]);var D=[d,p],$=[d*T[0],p*T[1]];$=iR($,r.minScaleSize,r.maxScaleSize,S?v:!1),T=Vm(2,function(J){return D[J]?$[J]/D[J]:$[J]}),_=Vm(2,function(J){return T[J]/E[J]});var V=Vm(2,function(J){return c[J]?_[J]/c[J]:_[J]}),W="scale(".concat(_.join(", "),")"),q="scale(".concat(T.join(", "),")"),Y=tg(r,q,W),te=!g[0]||!g[1],ee=U9(t,te?q:W,r.fixedDirection,N,r.fixedOffset,r,te),he=I?ee:Oe(ee,r.prevInverseDist||[0,0]);if(r.prevDist=_,r.prevInverseDist=ee,T[0]===c[0]&&T[1]===c[1]&&he.every(function(J){return!J})&&!y&&!I)return!1;var ve=Ie(t,e,B({offsetWidth:d,offsetHeight:p,direction:f,scale:T,dist:_,delta:V,isPinch:!!o},TR(t,Y,he,o,e)));return me(t,"onScale",ve),ve},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Wr(t,e,{});return me(t,"onScaleEnd",n),n},dragGroupControlCondition:sk,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=_n(t,"resizable",e);r.moveableScale=t.scale;var o=Ei(t,this,"dragControlStart",e,function(u,c){return jp(t,u,r,c)}),a=function(u){n.setFixedDirection(u),o.forEach(function(c,f){c.setFixedDirection(u),jp(t,c.moveable,r,i[f])})};r.setFixedDirection=a;var s=B(B({},n),{targets:t.props.targets,events:o,setFixedDirection:a}),l=me(t,"onScaleGroupStart",s);return r.isScale=l!==!1,r.isScale?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){lg(t,"onBeforeScale",function(c){me(t,"onBeforeScaleGroup",Ie(t,e,B(B({},c),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=n.dist,o=r.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var a=t.props.keepRatio,s=r.fixedPosition,l=Ei(t,this,"dragControl",e,function(c,f){var d=F(dr(af(t.rotation/180*Math.PI,3),[f.datas.originalX*i[0],f.datas.originalY*i[1],1],3),2),p=d[0],h=d[1];return B(B({},f),{parentDist:null,parentScale:i,parentKeepRatio:a,dragClient:qe(s,[p,h])})}),u=B({targets:t.props.targets,events:l},n);return me(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e);var i=Ei(t,this,"dragControlEnd",e),o=Wr(t,e,{targets:t.props.targets,events:i});return me(t,"onScaleGroupEnd",o),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return e+=i.deltaWidth,r+=i.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function Li(t,e){return t.map(function(r,n){return Lp(r,e[n],1,2)})}function lk(t,e,r){var n=Et(t,e),i=Et(t,r),o=i-n;return o>=0?o:o+2*Math.PI}function d7(t,e){var r=lk(t[0],t[1],t[2]),n=lk(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var p7={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:mw("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,o=r.warpable,a=r.zoom;if(n||i||!o)return[];var s=t.state,l=s.pos1,u=s.pos2,c=s.pos3,f=s.pos4,d=Li(l,u),p=Li(u,l),h=Li(l,c),g=Li(c,l),m=Li(c,f),v=Li(f,c),b=Li(u,f),w=Li(f,u);return oe([e.createElement("div",{className:Te("line"),key:"middeLine1",style:vu(d,m,a)}),e.createElement("div",{className:Te("line"),key:"middeLine2",style:vu(p,v,a)}),e.createElement("div",{className:Te("line"),key:"middeLine3",style:vu(h,b,a)}),e.createElement("div",{className:Te("line"),key:"middeLine4",style:vu(g,w,a)})],F(PR(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Rt(r,Te("direction"))&&Rt(r,Te("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,o=n.target,a=n2(o,r);if(!a||!i)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,c=s.targetTransform,f=s.targetMatrix,d=s.width,p=s.height,h=s.left,g=s.top;r.datas={},r.targetTransform=c,r.warpTargetMatrix=u?f:Rn(f,3,4),r.targetInverseMatrix=lR(ri(r.warpTargetMatrix,4),3,4),r.direction=a,r.left=h,r.top=g,r.poses=[[0,0],[d,0],[0,p],[d,p]].map(function(b){return Oe(b,l)}),r.nextPoses=r.poses.map(function(b){var w=F(b,2),y=w[0],x=w[1];return dr(r.warpTargetMatrix,[y,x,0,1],4)}),r.startValue=at(4),r.prevMatrix=at(4),r.absolutePoses=pn(s),r.posIndexes=kR(a),Aa(t,e),ng(t,e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:a};var m=Ie(t,e,B({set:function(b){r.startValue=b}},rg(t,e))),v=me(t,"onWarpStart",m);return v!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,o=e.distY,a=r.targetInverseMatrix,s=r.prevMatrix,l=r.isWarp,u=r.startValue,c=r.poses,f=r.posIndexes,d=r.absolutePoses;if(!l)return!1;if(eg(t,e,"matrix3d"),Ol(t,"warpable")){var p=f.map(function(k){return d[k]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=ag(t,n,{horizontal:p.map(function(k){return k[1]+o}),vertical:p.map(function(k){return k[0]+i})}),g=h.horizontal,m=h.vertical;o-=g.offset,i-=m.offset}var v=oi({datas:r,distX:i,distY:o},!0),b=r.nextPoses.slice();if(f.forEach(function(k){b[k]=qe(b[k],v)}),!D9.every(function(k){return d7(k.map(function(T){return c[T]}),k.map(function(T){return b[T]}))}))return!1;var w=Qb(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!w.length)return!1;var y=et(a,w,4),x=ER(r,y,!0),S=et(ri(s,4),x,4);r.prevMatrix=x;var C=et(u,x,4),E=tg(r,"matrix3d(".concat(C.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return ow(e,E),me(t,"onWarp",Ie(t,e,B({delta:S,matrix:C,dist:x,multiply:et,transform:E},wr({transform:E},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,me(t,"onWarpEnd",Wr(t,e,{})),n):!1}},h7=Te("area-pieces"),Qf=Te("area-piece"),d2=Te("avoid"),g7=Te("view-dragging");function Wm(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;aR(e,d2),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function uk(t){return t.createElement("div",{key:"area_pieces",className:h7},t.createElement("div",{className:Qf}),t.createElement("div",{className:Qf}),t.createElement("div",{className:Qf}),t.createElement("div",{className:Qf}))}var p2={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,o=r.groupable,a=r.passDragArea,s=t.getState(),l=s.width,u=s.height,c=s.renderPoses,f=a?Te("area","pass"):Te("area");if(o)return[e.createElement("div",{key:"area",ref:la(t,"areaElement"),className:f}),uk(e)];if(!n||!i)return[];var d=Qb([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),p=d.length?sg(d,!0):"none";return[e.createElement("div",{key:"area",ref:la(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),uk(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,o=e.inputEvent;if(!o)return!1;r.isDragArea=!1;var a=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,c=s.rootMatrix,f=s.is3d,d=l.left,p=l.top,h=an(u),g=h.left,m=h.top,v=h.width,b=h.height,w=f?4:3,y=F(rl(c,[n-d,i-p],w),2),x=y[0],S=y[1];x-=g,S-=m;var C=[{left:g,top:m,width:v,height:S-10},{left:g,top:m,width:x-10,height:b},{left:g,top:m+S+10,width:v,height:b-S-10},{left:g+x+10,top:m,width:v-x-10,height:b}],E=[].slice.call(a.nextElementSibling.children);C.forEach(function(k,T){E[T].style.cssText="left: ".concat(k.left,"px;top: ").concat(k.top,"px; width: ").concat(k.width,"px; height: ").concat(k.height,"px;")}),oR(a,d2),s.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,Wm(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||Wm(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Wm(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&nR(function(){e.disableNativeEvent=!1})}},m7=lf("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,o=r.groupable,a=t.getState(),s=a.beforeOrigin,l=a.rotation,u=a.svg,c=a.allMatrix,f=a.is3d,d=a.left,p=a.top,h=a.offsetWidth,g=a.offsetHeight,m;if(!o&&u&&i){var v=F(bw(i,h,g),2),b=v[0],w=v[1],y=f?4:3,x=mt(c,[b,w],y);m=Vp(l,n,Oe(x,[d,p]))}else m=Vp(l,n,s);return[e.createElement("div",{className:Te("control","origin"),style:m,key:"beforeOrigin"})]}});function v7(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var y7={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=n===void 0?t.getContainer():n,o=r.scrollOptions,a=new XW,s=Jn(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var l=e.isControl?"controlGesto":"targetGesto",u=e.targets;a.on("scroll",function(c){var f=c.container,d=c.direction,p=Ie(t,e,{scrollContainer:f,direction:d}),h=u?"onScrollGroup":"onScroll";u&&(p.targets=u),me(t,h,p)}).on("move",function(c){var f=c.offsetX,d=c.offsetY,p=c.inputEvent;t[l].scrollBy(f,d,p.inputEvent,!1)}).on("scrollDrag",function(c){var f=c.next;f(t[l].getCurrentEvent())}),a.dragStart(e,B({container:s},o))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,o=i===void 0?t.getContainer():i,a=n.scrollThreshold,s=a===void 0?0:a,l=n.scrollThrottleTime,u=l===void 0?0:l,c=n.getScrollPosition,f=c===void 0?v7:c,d=n.scrollOptions;return r.drag(e,B({container:o,threshold:s,throttleTime:u,getScrollPosition:function(p){return f({scrollContainer:p.container,direction:p.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,B(B({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,B(B({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,B(B({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,B(B({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,B(B({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,B(B({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,B(B({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;(e=r.dragScroll)===null||e===void 0||e.dragEnd(),r.dragScroll=null}},h2={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","requestStyles"],events:["changeTargets"]},b7=lf("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=f2(r.padding||{}),i=n.left,o=n.top,a=n.right,s=n.bottom,l=t.getState(),u=l.renderPoses,c=l.pos1,f=l.pos2,d=l.pos3,p=l.pos4,h=[c,f,d,p],g=[];return i>0&&g.push([0,2]),o>0&&g.push([0,1]),a>0&&g.push([1,3]),s>0&&g.push([2,3]),g.map(function(m,v){var b=F(m,2),w=b[0],y=b[1],x=h[w],S=h[y],C=u[w],E=u[y],k=Qb([0,0],[100,0],[0,100],[100,100],x,S,C,E);if(k.length)return e.createElement("div",{key:"padding".concat(v),className:Te("padding"),style:{transform:sg(k,!0)}})})}}),ck=["nw","ne","se","sw"];function Zf(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var w7=[1,2,5,6],S7=[0,3,4,7],Uo=[1,-1,-1,1],$o=[1,1,-1,-1];function ww(t,e,r,n,i,o,a,s){i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=r),s===void 0&&(s=n);var l=[],u=!1,c=t.filter(function(d){return!d.virtual}),f=c.map(function(d){var p=d.horizontal,h=d.vertical,g=d.pos;if(h&&!u&&(u=!0,l.push("/")),u){var m=Math.max(0,h===1?g[1]-o:s-g[1]);return l.push(xn(m,n,e)),m}else{var m=Math.max(0,p===1?g[0]-i:a-g[0]);return l.push(xn(m,r,e)),m}});return{radiusPoses:c,styles:l,raws:f}}function g2(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var o=t[i];o.sub&&(o.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),o.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function m2(t,e,r,n,i,o,a){var s,l,u,c;o===void 0&&(o=[0,0]),a===void 0&&(a=!1);var f=t.indexOf("/"),d=(f>-1?t.slice(0,f):t).length,p=t.slice(0,d),h=t.slice(d+1),g=p.length,m=h.length,v=m>0,b=F(p,4),w=b[0],y=w===void 0?"0px":w,x=b[1],S=x===void 0?y:x,C=b[2],E=C===void 0?y:C,k=b[3],T=k===void 0?S:k,A=F(h,4),O=A[0],_=O===void 0?y:O,N=A[1],M=N===void 0?v?_:S:N,L=A[2],I=L===void 0?v?_:E:L,R=A[3],z=R===void 0?v?M:T:R,j=[y,S,E,T].map(function(Y){return Qe(Y,e)}),D=[_,M,I,z].map(function(Y){return Qe(Y,r)}),$=j.slice(),V=D.slice();s=F(Zf([$[0],$[1]],e),2),$[0]=s[0],$[1]=s[1],l=F(Zf([$[3],$[2]],e),2),$[3]=l[0],$[2]=l[1],u=F(Zf([V[0],V[3]],r),2),V[0]=u[0],V[3]=u[1],c=F(Zf([V[1],V[2]],r),2),V[1]=c[0],V[2]=c[1];var W=a?$:$.slice(0,Math.max(o[0],g)),q=a?V:V.slice(0,Math.max(o[1],m));return oe(oe([],F(W.map(function(Y,te){var ee=ck[te];return{virtual:te>=g,horizontal:Uo[te],vertical:0,pos:[n+Y,i+($o[te]===-1?r:0)],sub:!0,raw:j[te],direction:ee}})),!1),F(q.map(function(Y,te){var ee=ck[te];return{virtual:te>=m,horizontal:0,vertical:$o[te],pos:[n+(Uo[te]===-1?e:0),i+Y],sub:!0,raw:D[te],direction:ee}})),!1)}function x7(t,e,r,n,i){i===void 0&&(i=e.length);var o=g2(t.slice(n)),a=o.horizontalRange,s=o.verticalRange,l=r-n,u=0;if(l===0)u=i;else if(l>0&&l<a[1])u=a[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(r,u),e.splice(r,u)}function E7(t,e,r,n,i,o,a,s,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var f=g2(t.slice(r)),d=f.horizontalRange,p=f.verticalRange;if(n>-1)for(var h=Uo[n]===1?o-u:s-o,g=d[1];g<=n;++g){var m=$o[g]===1?c:l,v=0;if(n===g?v=o:g===0?v=u+h:Uo[g]===-1&&(v=s-(e[r][0]-u)),t.splice(r+g,0,{horizontal:Uo[g],vertical:0,pos:[v,m]}),e.splice(r+g,0,[v,m]),g===0)break}else if(i>-1){var b=$o[i]===1?a-c:l-a;if(d[1]===0&&p[1]===0){var w=[u+b,c];t.push({horizontal:Uo[0],vertical:0,pos:w}),e.push(w)}for(var y=p[0],g=p[1];g<=i;++g){var v=Uo[g]===1?u:s,m=0;if(i===g?m=a:g===0?m=c+b:$o[g]===1?m=e[r+y][1]:$o[g]===-1&&(m=l-(e[r+y][1]-c)),t.push({horizontal:0,vertical:$o[g],pos:[v,m]}),e.push([v,m]),g===0)break}}}function C7(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var r=t.map(function(i,o){return i.horizontal?e[o]:null}).filter(function(i){return i!=null}),n=t.map(function(i,o){return i.vertical?e[o]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var k7=[[0,-1,"n"],[1,0,"e"]],T7=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Sw(t,e,r){var n=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e,l=s.type,u=s.poses,c=l==="rect",f=l==="circle";if(l==="polygon")return r.map(function(S){return"".concat(xn(S[0],o,n)," ").concat(xn(S[1],a,n))});if(c||l==="inset"){var d=r[1][1],p=r[3][0],h=r[7][0],g=r[5][1];if(c)return[d,p,g,h].map(function(S){return"".concat(S,"px")});var m=[d,o-p,a-g,h].map(function(S,C){return xn(S,C%2?o:a,n)});if(r.length>8){var v=F(Oe(r[4],r[0]),2),b=v[0],w=v[1];m.push.apply(m,oe(["round"],F(ww(u.slice(8).map(function(S,C){return B(B({},S),{pos:r[C]})}),n,b,w,h,d,p,g).styles),!1))}return m}else if(f||l==="ellipse"){var y=r[0],x=xn(Q(r[1][1]-y[1]),f?Math.sqrt((o*o+a*a)/2):a,n),m=f?[x]:[xn(Q(r[2][0]-y[0]),o,n),x];return m.push("at",xn(y[0],o,n),xn(y[1],a,n)),m}}function Gp(t,e,r,n){var i=[n,(n+e)/2,e],o=[t,(t+r)/2,r];return T7.map(function(a){var s=F(a,3),l=s[0],u=s[1],c=s[2],f=i[l+1],d=o[u+1];return{vertical:Q(u),horizontal:Q(l),direction:c,pos:[f,d]}})}function v2(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var i=n.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[Q(e[1]-e[0]),Q(r[1]-r[0])]}function fk(t,e,r,n,i){var o,a,s,l,u,c,f,d,p;if(t){var h=i;if(!h){var g=Fr(t),m=g("clipPath");h=m!=="none"?m:g("clip")}if(!((!h||h==="none"||h==="auto")&&(h=n,!h))){var v=rR(h),b=v.prefix,w=b===void 0?h:b,y=v.value,x=y===void 0?"":y,S=w==="circle",C=" ";if(w==="polygon"){var E=ea(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%");C=",";var k=E.map(function(Ke){var lt=F(Ke.split(" "),2),tt=lt[0],Ye=lt[1];return{vertical:1,horizontal:1,pos:[Qe(tt,e),Qe(Ye,r)]}}),T=Sa(k.map(function(Ke){return Ke.pos}));return{type:w,clipText:h,poses:k,splitter:C,left:T.minX,right:T.maxX,top:T.minY,bottom:T.maxY}}else if(S||w==="ellipse"){var A="",O="",_=0,N=0,E=Eo(x);if(S){var M="";o=F(E,4),a=o[0],M=a===void 0?"50%":a,s=o[2],A=s===void 0?"50%":s,l=o[3],O=l===void 0?"50%":l,_=Qe(M,Math.sqrt((e*e+r*r)/2)),N=_}else{var L="",I="";u=F(E,5),c=u[0],L=c===void 0?"50%":c,f=u[1],I=f===void 0?"50%":f,d=u[3],A=d===void 0?"50%":d,p=u[4],O=p===void 0?"50%":p,_=Qe(L,e),N=Qe(I,r)}var R=[Qe(A,e),Qe(O,r)],k=oe([{vertical:1,horizontal:1,pos:R,direction:"nesw"}],F(k7.slice(0,S?1:2).map(function(tt){return{vertical:Q(tt[1]),horizontal:tt[0],direction:tt[2],sub:!0,pos:[R[0]+tt[0]*_,R[1]+tt[1]*N]}})),!1);return{type:w,clipText:h,radiusX:_,radiusY:N,left:R[0]-_,top:R[1]-N,right:R[0]+_,bottom:R[1]+N,poses:k,splitter:C}}else if(w==="inset"){var E=Eo(x||"0 0 0 0"),z=E.indexOf("round"),j=(z>-1?E.slice(0,z):E).length,D=E.slice(j+1),$=F(E.slice(0,j),4),V=$[0],W=$[1],q=W===void 0?V:W,Y=$[2],te=Y===void 0?V:Y,ee=$[3],he=ee===void 0?q:ee,ve=F([V,te].map(function(tt){return Qe(tt,r)}),2),J=ve[0],ue=ve[1],Ae=F([he,q].map(function(tt){return Qe(tt,e)}),2),ye=Ae[0],Z=Ae[1],fe=e-Z,Ce=r-ue,Re=m2(D,fe-ye,Ce-J,ye,J),k=oe(oe([],F(Gp(J,fe,Ce,ye)),!1),F(Re),!1);return{type:"inset",clipText:h,poses:k,top:J,left:ye,right:fe,bottom:Ce,radius:D,splitter:C}}else if(w==="rect"){var E=ea(x||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));C=",";var Ee=F(E.map(function(jt){var nr=nf(jt).value;return nr}),4),_e=Ee[0],Z=Ee[1],ue=Ee[2],ye=Ee[3],k=Gp(_e,Z,ue,ye);return{type:"rect",clipText:h,poses:k,top:_e,right:Z,bottom:ue,left:ye,values:E,splitter:C}}}}}function O7(t,e,r,n,i){var o=t[e],a=o.direction,s=o.sub,l=t.map(function(){return[0,0]}),u=a?a.split(""):[];if(n&&e<8){var c=u.filter(function(_){return _==="w"||_==="e"}),f=u.filter(function(_){return _==="n"||_==="s"}),d=c[0],p=f[0];l[e]=r;var h=F(v2(t),2),g=h[0],m=h[1],v=g&&m?g/m:0;if(v&&i){var b=(e+4)%8,w=t[b].pos,y=[0,0];a.indexOf("w")>-1?y[0]=-1:a.indexOf("e")>-1&&(y[0]=1),a.indexOf("n")>-1?y[1]=-1:a.indexOf("s")>-1&&(y[1]=1);var x=l2([g,m],r,v,y,!0),S=g+x[0],C=m+x[1],E=w[1],k=w[1],T=w[0],A=w[0];y[0]===-1?T=A-S:y[0]===1?A=T+S:(T=T-S/2,A=A+S/2),y[1]===-1?E=k-C:(y[1]===1||(E=k-C/2),k=E+C);var O=Gp(E,A,k,T);t.forEach(function(_,N){l[N][0]=O[N].pos[0]-_.pos[0],l[N][1]=O[N].pos[1]-_.pos[1]})}else t.forEach(function(_,N){var M=_.direction;M&&(M.indexOf(d)>-1&&(l[N][0]=r[0]),M.indexOf(p)>-1&&(l[N][1]=r[1]))}),d&&(l[1][0]=r[0]/2,l[5][0]=r[0]/2),p&&(l[3][1]=r[1]/2,l[7][1]=r[1]/2)}else a&&!s?u.forEach(function(_){var N=_==="n"||_==="s";t.forEach(function(M,L){var I=M.direction,R=M.horizontal,z=M.vertical;!I||I.indexOf(_)===-1||(l[L]=[N||!R?0:r[0],!N||!z?0:r[1]])})}):l[e]=r;return l}function _7(t,e){var r=F(xR(t,e),2),n=r[0],i=r[1],o=e.datas,a=o.clipPath,s=o.clipIndex,l=a,u=l.type,c=l.poses,f=l.splitter,d=c.map(function(b){return b.pos});if(u==="polygon")d.splice(s,0,[n,i]);else if(u==="inset"){var p=w7.indexOf(s),h=S7.indexOf(s),g=c.length;if(E7(c,d,8,p,h,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),g===c.length)return}else return;var m=Sw(t,a,d),v="".concat(u,"(").concat(m.join(f),")");me(t,"onClip",Ie(t,e,B({clipEventType:"added",clipType:u,poses:d,clipStyles:m,clipStyle:v,distX:0,distY:0},wr({clipPath:v},e))))}function M7(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,o=n,a=o.type,s=o.poses,l=o.splitter,u=s.map(function(p){return p.pos}),c=u.length;if(a==="polygon")s.splice(i,1),u.splice(i,1);else if(a==="inset"){if(i<8||(x7(s,u,i,8,c),c===s.length))return}else return;var f=Sw(t,n,u),d="".concat(a,"(").concat(f.join(l),")");me(t,"onClip",Ie(t,e,B({clipEventType:"removed",clipType:a,poses:u,clipStyles:f,clipStyle:d,distX:0,distY:0},wr({clipPath:d},e))))}var A7={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,o=r.clipArea,a=r.zoom,s=r.groupable,l=t.getState(),u=l.target,c=l.width,f=l.height,d=l.allMatrix,p=l.is3d,h=l.left,g=l.top,m=l.pos1,v=l.pos2,b=l.pos3,w=l.pos4,y=l.clipPathState,x=l.snapBoundInfos,S=l.rotation;if(!u||s)return[];var C=fk(u,c,f,i||"inset",y||n);if(!C)return[];var E=p?4:3,k=C.type,T=C.poses,A=T.map(function(Z){var fe=mt(d,Z.pos,E);return[fe[0]-h,fe[1]-g]}),O=[],_=[],N=k==="rect",M=k==="inset",L=k==="polygon";if(N||M||L){var I=M?A.slice(0,8):A;_=I.map(function(Z,fe){var Ce=fe===0?I[I.length-1]:I[fe-1],Re=Et(Ce,Z),Ee=QR(Ce,Z);return e.createElement("div",{key:"clipLine".concat(fe),className:Te("line","clip-line","snap-control"),"data-clip-index":fe,style:{width:"".concat(Ee,"px"),transform:"translate(".concat(Ce[0],"px, ").concat(Ce[1],"px) rotate(").concat(Re,"rad) scaleY(").concat(a,")")}})})}if(O=A.map(function(Z,fe){return e.createElement("div",{key:"clipControl".concat(fe),className:Te("control","clip-control","snap-control"),"data-clip-index":fe,style:{transform:"translate(".concat(Z[0],"px, ").concat(Z[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})}),M&&O.push.apply(O,oe([],F(A.slice(8).map(function(Z,fe){return e.createElement("div",{key:"clipRadiusControl".concat(fe),className:Te("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+fe,style:{transform:"translate(".concat(Z[0],"px, ").concat(Z[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})})),!1)),k==="circle"||k==="ellipse"){var R=C.left,z=C.top,j=C.radiusX,D=C.radiusY,$=F(Oe(mt(d,[R,z],E),mt(d,[0,0],E)),2),V=$[0],W=$[1],q="none";if(!o){for(var Y=Math.max(10,j/5,D/5),te=[],ee=0;ee<=Y;++ee){var he=Math.PI*2/Y*ee;te.push([j+(j-a)*Math.cos(he),D+(D-a)*Math.sin(he)])}te.push([j,-2]),te.push([-2,-2]),te.push([-2,D*2+2]),te.push([j*2+2,D*2+2]),te.push([j*2+2,-2]),te.push([j,-2]),q="polygon(".concat(te.map(function(Z){return"".concat(Z[0],"px ").concat(Z[1],"px")}).join(", "),")")}O.push(e.createElement("div",{key:"clipEllipse",className:Te("clip-ellipse","snap-control"),style:{width:"".concat(j*2,"px"),height:"".concat(D*2,"px"),clipPath:q,transform:"translate(".concat(-h+V,"px, ").concat(-g+W,"px) ").concat(sg(d))}}))}if(o){var ve=an(oe([m,v,b,w],F(A),!1)),J=ve.width,ue=ve.height,Ae=ve.left,ye=ve.top;if(L||N||M){var te=M?A.slice(0,8):A;O.push(e.createElement("div",{key:"clipArea",className:Te("clip-area","snap-control"),style:{width:"".concat(J,"px"),height:"".concat(ue,"px"),transform:"translate(".concat(Ae,"px, ").concat(ye,"px)"),clipPath:"polygon(".concat(te.map(function(fe){return"".concat(fe[0]-Ae,"px ").concat(fe[1]-ye,"px")}).join(", "),")")}}))}}return x&&["vertical","horizontal"].forEach(function(Z){var fe=x[Z],Ce=Z==="horizontal";fe.isSnap&&_.push.apply(_,oe([],F(fe.snap.posInfos.map(function(Re,Ee){var _e=Re.pos,Ke=Oe(mt(d,Ce?[0,_e]:[_e,0],E),[h,g]),lt=Oe(mt(d,Ce?[c,_e]:[_e,f],E),[h,g]);return Ac(e,"",Ke,lt,a,"clip".concat(Z,"snap").concat(Ee),"guideline")})),!1)),fe.isBound&&_.push.apply(_,oe([],F(fe.bounds.map(function(Re,Ee){var _e=Re.pos,Ke=Oe(mt(d,Ce?[0,_e]:[_e,0],E),[h,g]),lt=Oe(mt(d,Ce?[c,_e]:[_e,f],E),[h,g]);return Ac(e,"",Ke,lt,a,"clip".concat(Z,"bounds").concat(Ee),"guideline","bounds","bold")})),!1))}),oe(oe([],F(O),!1),F(_),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,B(B({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,o=n.customClipPath,a=r.target,s=r.width,l=r.height,u=e.inputEvent?e.inputEvent.target:null,c=u&&u.getAttribute("class")||"",f=e.datas,d=fk(a,s,l,i||"inset",o);if(!d)return!1;var p=d.clipText,h=d.type,g=d.poses,m=me(t,"onClipStart",Ie(t,e,{clipType:h,clipStyle:p,poses:g.map(function(v){return v.pos})}));return m===!1?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,r.clipPathState=p,Aa(t,e),!0)},dragControl:function(t,e){var r,n,i,o=e.datas,a=e.originalDatas,s=e.isDragTarget;if(!o.isClipStart)return!1;var l=o,u=l.isControl,c=l.isLine,f=l.isArea,d=l.clipIndex,p=l.clipPath;if(!p)return!1;var h=xa(t.props,"clippable"),g=h.keepRatio,m=0,v=0,b=a.draggable,w=oi(e);s&&b?(r=F(b.prevBeforeDist,2),m=r[0],v=r[1]):(n=F(w,2),m=n[0],v=n[1]);var y=[m,v],x=t.state,S=x.width,C=x.height,E=!f&&!u&&!c,k=p.type,T=p.poses,A=p.splitter,O=T.map(function(le){return le.pos});E&&(m=-m,v=-v);var _=!u||T[d].direction==="nesw",N=k==="inset"||k==="rect",M=T.map(function(){return[0,0]});if(u&&!_){var L=T[d],I=L.horizontal,R=L.vertical,z=[m*Q(I),v*Q(R)];M=O7(T,d,z,N,g)}else _&&(M=O.map(function(){return[m,v]}));var j=O.map(function(le,de){return qe(le,M[de])}),D=oe([],F(j),!1);x.snapBoundInfos=null;var $=p.type==="circle",V=p.type==="ellipse";if($||V){var W=an(j),q=Q(W.bottom-W.top),Y=Q(V?W.right-W.left:q),te=j[0][1]+q,ee=j[0][0]-Y,he=j[0][0]+Y;$&&(D.push([he,W.bottom]),M.push([1,0])),D.push([W.left,te]),M.push([0,1]),D.push([ee,W.bottom]),M.push([1,0])}var ve=VR((h.clipHorizontalGuidelines||[]).map(function(le){return Qe("".concat(le),C)}),(h.clipVerticalGuidelines||[]).map(function(le){return Qe("".concat(le),S)}),S,C),J=[],ue=[];if($||V)J=[D[4][0],D[2][0]],ue=[D[1][1],D[3][1]];else if(N){var Ae=[D[0],D[2],D[4],D[6]],ye=[M[0],M[2],M[4],M[6]];J=Ae.filter(function(le,de){return ye[de][0]}).map(function(le){return le[0]}),ue=Ae.filter(function(le,de){return ye[de][1]}).map(function(le){return le[1]})}else J=D.filter(function(le,de){return M[de][0]}).map(function(le){return le[0]}),ue=D.filter(function(le,de){return M[de][1]}).map(function(le){return le[1]});var Z=[0,0],fe=XC(ve,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:C},J,ue,5),Ce=fe.horizontal,Re=fe.vertical,Ee=Ce.offset,_e=Re.offset;if(Ce.isBound&&(Z[1]+=Ee),Re.isBound&&(Z[0]+=_e),(V||$)&&M[0][0]===0&&M[0][1]===0){var W=an(j),Ke=W.bottom-W.top,lt=V?W.right-W.left:Ke,tt=Re.isBound?Q(_e):Re.snapIndex===0?-_e:_e,Ye=Ce.isBound?Q(Ee):Ce.snapIndex===0?-Ee:Ee;lt-=tt,Ke-=Ye,$&&(Ke=LR(Re,Ce)>0?Ke:lt,lt=Ke);var rt=D[0];D[1][1]=rt[1]-Ke,D[2][0]=rt[0]+lt,D[3][1]=rt[1]+Ke,D[4][0]=rt[0]-lt}else if(N&&g&&u){var jt=F(v2(T),2),nr=jt[0],gn=jt[1],Ra=nr&&gn?nr/gn:0,Pa=T[d],Ai=Pa.direction||"",Di=D[1][1],te=D[5][1],ee=D[7][0],he=D[3][0];Q(Ee)<=Q(_e)?Ee=vr(Ee)*Q(_e)/Ra:_e=vr(_e)*Q(Ee)*Ra,Ai.indexOf("w")>-1?ee-=_e:Ai.indexOf("e")>-1?he-=_e:(ee+=_e/2,he-=_e/2),Ai.indexOf("n")>-1?Di-=Ee:Ai.indexOf("s")>-1?te-=Ee:(Di+=Ee/2,te-=Ee/2);var _l=Gp(Di,he,te,ee);D.forEach(function(Fe,vt){var je;je=F(_l[vt].pos,2),Fe[0]=je[0],Fe[1]=je[1]})}else D.forEach(function(le,de){var Se=M[de];Se[0]&&(le[0]-=_e),Se[1]&&(le[1]-=Ee)});var P=Sw(t,p,j),H="".concat(k,"(").concat(P.join(A),")");if(x.clipPathState=H,$||V)J=[D[4][0],D[2][0]],ue=[D[1][1],D[3][1]];else if(N){var Ae=[D[0],D[2],D[4],D[6]];J=Ae.map(function(de){return de[0]}),ue=Ae.map(function(de){return de[1]})}else J=D.map(function(le){return le[0]}),ue=D.map(function(le){return le[1]});if(x.snapBoundInfos=XC(ve,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:C},J,ue,1),b){var G=x.is3d,ie=x.allMatrix,ce=G?4:3,be=Z;s&&(be=[y[0]+Z[0]-w[0],y[1]+Z[1]-w[1]]),b.deltaOffset=et(ie,[be[0],be[1],0,0],ce)}return me(t,"onClip",Ie(t,e,B({clipEventType:"changed",clipType:k,poses:j,clipStyle:H,clipStyles:P,distX:m,distY:v},wr((i={},i[k==="rect"?"clip":"clipPath"]=H,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,o=n.isLine,a=n.isClipStart,s=n.isControl;return a?(me(t,"onClipEnd",Wr(t,e,{})),i&&(s?M7(t,e):o&&_7(t,e)),i||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},D7={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":Rt(e.inputEvent.target,Te("origin"))},dragControlStart:function(t,e){var r=e.datas;Aa(t,e);var n=Ie(t,e,{dragStart:mr.dragStart(t,new Zs().dragStart([0,0],e))}),i=me(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var o=F(oi(e),2),a=o[0],s=o[1],l=t.state,u=l.width,c=l.height,f=l.offsetMatrix,d=l.targetMatrix,p=l.is3d,h=t.props.originRelative,g=h===void 0?!0:h,m=p?4:3,v=[a,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(v=b)}var w=qe(r.startOrigin,v),y=qe(r.startTargetOrigin,v),x=Oe(v,r.prevOrigin),S=cf(f,d,w,m),C=t.getRect(),E=an(Da(S,u,c,m)),k=[C.left-E.left,C.top-E.top];r.prevOrigin=v;var T=[xn(y[0],u,g),xn(y[1],c,g)].join(" "),A=mr.drag(t,uf(e,t.state,k,!!n,!1)),O=Ie(t,e,B(B({width:u,height:c,origin:w,dist:v,delta:x,transformOrigin:T,drag:A},wr({transformOrigin:T,transform:A.transform},e)),{afterTransform:A.transform}));return me(t,"onDragOrigin",O),O},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(me(t,"onDragOriginEnd",Wr(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=r.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(a[0]+=s.deltaOrigin[0],a[1]+=s.deltaOrigin[1]):"origin"in s?(a[0]=s.origin[0]-o[0],a[1]=s.origin[1]-o[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-r.top:"deltaY"in s&&(i+=s.deltaY)),{datas:e,distX:n,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function R7(t,e,r,n){var i=t.filter(function(l){var u=l.virtual,c=l.horizontal;return c&&!u}).length,o=t.filter(function(l){var u=l.virtual,c=l.vertical;return c&&!u}).length,a=-1;if(e===0&&(i===0?a=0:i===1&&(a=1)),e===2&&(i<=2?a=2:i<=3&&(a=3)),e===3&&(o===0?a=4:o<4&&(a=7)),e===1&&(o<=1?a=5:o<=2&&(a=6)),!(a===-1||!t[a].virtual)){var s=t[a];P7(t,a),a<4?s.pos[0]=r:s.pos[1]=n}}function P7(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function N7(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function dk(t,e,r,n,i){n===void 0&&(n=[0,0]);var o=[];return!t||t==="0px"?o=[]:o=Eo(t),m2(o,e,r,0,0,n,i)}function pk(t,e,r,n,i){var o=t.state,a=o.width,s=o.height,l=ww(i,t.props.roundRelative,a,s),u=l.raws,c=l.styles,f=l.radiusPoses,d=C7(f,u),p=d.horizontals,h=d.verticals,g=c.join(" ");o.borderRadiusState=g;var m=Ie(t,e,B({horizontals:p,verticals:h,borderRadius:g,width:a,height:s,delta:n,dist:r},wr({borderRadius:g},e)));return me(t,"onRound",m),m}function hk(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],a=t.getTargets()[0];a&&((o==null?void 0:o.props.target)===a?(i=(r=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=i):(i=gw(a).borderRadius,n.borderRadius=i))}return i}var I7={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?Te("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,o=r.height,a=r.allMatrix,s=r.is3d,l=r.left,u=r.top,c=r.borderRadiusState,f=t.props,d=f.minRoundControls,p=d===void 0?[0,0]:d,h=f.maxRoundControls,g=h===void 0?[4,4]:h,m=f.zoom,v=f.roundPadding,b=v===void 0?0:v,w=f.isDisplayShadowRoundControls,y=f.groupable;if(!n)return null;var x=c||hk(t),S=s?4:3,C=dk(x,i,o,p,!0);if(!C)return null;var E=0,k=0,T=y?[0,0]:[l,u];return C.map(function(A,O){var _=A.horizontal,N=A.vertical,M=A.direction||"",L=oe([],F(A.pos),!1);k+=Math.abs(_),E+=Math.abs(N),_&&M.indexOf("n")>-1&&(L[1]-=b),N&&M.indexOf("w")>-1&&(L[0]-=b),_&&M.indexOf("s")>-1&&(L[1]+=b),N&&M.indexOf("e")>-1&&(L[0]+=b);var I=Oe(mt(a,L,S),T),R=w&&w!=="horizontal",z=A.vertical?E<=g[1]&&(R||!A.virtual):k<=g[0]&&(w||!A.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(O),className:Te("control","border-radius",A.vertical?"vertical":"",A.virtual?"virtual":""),"data-radius-index":O,style:{display:z?"block":"none",transform:"translate(".concat(I[0],"px, ").concat(I[1],"px) scale(").concat(m,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,l=a?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(u=parseInt(c.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!a&&!s)return!1;var f=Ie(t,e,{}),d=me(t,"onRoundStart",f);if(d===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=a,n.isLine=s,Aa(t,e);var p=t.props,h=p.roundRelative,g=p.minRoundControls,m=g===void 0?[0,0]:g,v=t.state,b=v.width,w=v.height;n.isRound=!0,n.prevDist=[0,0];var y=hk(t),x=dk(y||"",b,w,m,!0)||[];return n.controlPoses=x,v.borderRadiusState=ww(x,h,b,w).styles.join(" "),f},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,o=F(oi(e),2),a=o[0],s=o[1],l=[a,s],u=Oe(l,r.prevDist),c=t.props.maxRoundControls,f=c===void 0?[4,4]:c,d=t.state,p=d.width,h=d.height,g=n[i],m=g.vertical,v=g.horizontal,b=n.map(function(y){var x=y.horizontal,S=y.vertical,C=[x*v*l[0],S*m*l[1]];if(x){if(f[0]===1)return C;if(f[0]<4&&x!==v)return C}else{if(f[1]===0)return C[1]=S*v*l[0]/p*h,C;if(m){if(f[1]===1)return C;if(f[1]<4&&S!==m)return C}}return[0,0]});b[i]=l;var w=n.map(function(y,x){return B(B({},y),{pos:qe(y.pos,b[x])})});return i<4?w.slice(0,i+1).forEach(function(y){y.virtual=!1}):w.slice(4,i+1).forEach(function(y){y.virtual=!1}),r.prevDist=[a,s],pk(t,e,l,u,w)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var o=n.isControl,a=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,c=u.filter(function(v){var b=v.virtual;return b}).length,f=t.props.roundClickable,d=f===void 0?!0:f;if(i&&d){if(o&&(d===!0||d==="control"))N7(u,a);else if(s&&(d===!0||d==="line")){var p=F(xR(t,e),2),h=p[0],g=p[1];R7(u,l,h,g)}c!==u.filter(function(v){var b=v.virtual;return b}).length&&pk(t,e,[0,0],[0,0],u)}var m=Wr(t,e,{});return me(t,"onRoundEnd",m),r.borderRadiusState="",m},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=_n(t,"roundable",e),a=B({targets:t.props.targets,events:o.map(function(s,l){return B(B({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},r);return me(t,"onRoundGroupStart",a),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=_n(t,"roundable",e),a=B({targets:t.props.targets,events:o.map(function(s,l){return B(B(B({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),wr({borderRadius:r.borderRadius},s))})},r);return me(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=_n(t,"roundable",e);lg(t,"onRound",function(s){var l=B({targets:t.props.targets,events:i.map(function(u,c){return B(B(B({},u),{target:n[c],moveable:r[c],currentTarget:r[c]}),wr({borderRadius:s.borderRadius},u))})},s);me(t,"onRoundGroup",l)});var o=this.dragControlEnd(t,e);if(!o)return!1;var a=B({targets:t.props.targets,events:i.map(function(s,l){var u;return B(B({},s),{target:n[l],moveable:r[l],currentTarget:r[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},o);return me(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}};function L7(t,e){var r=e?4:3,n=at(r),i="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var y2={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,o=r.inlineTransform,a=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(cR(i,!0),")"),s=!o||o==="none"?a:o;e.datas.startTransforms=L7(s,n)?[]:Eo(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Ie(t,e,{setTransform:function(r){e.datas.startTransforms=Kt(r)?r:Eo(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Ie(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),me(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),me(t,"onBeforeRender",Ie(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),me(t,"onBeforeRenderEnd",Ie(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=_n(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(a,s){var l=i[s];return r.setTransform(l,a),r.resetStyle(a),r.fillDragStartParams(l,a)});me(t,"onBeforeRenderGroupStart",Ie(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=_n(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(a,s){var l=i[s];return r.resetStyle(a),r.fillDragParams(l,a)});me(t,"onBeforeRenderGroup",Ie(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),me(t,"onBeforeRenderGroupEnd",Ie(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},b2={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){me(t,"onRenderStart",Ie(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){me(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){me(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){me(t,"onRenderGroupStart",Ie(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=_n(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(a,s){var l=i[s];return r.fillDragParams(l,a)});me(t,"onRenderGroup",Ie(t,e,B(B({isPinch:!!e.isPinch,targets:t.props.targets,transform:qf(e),transformObject:{}},wr(Kf(e))),{events:o})))},dragGroupEnd:function(t,e){var r=this,n=_n(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(a,s){var l=i[s];return r.fillDragEndParams(l,a)});me(t,"onRenderGroupEnd",Ie(t,e,B({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:qf(e)},wr(Kf(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return Qs(Fp(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),Ie(t,e,B({isPinch:!!e.isPinch,transformObject:r,transform:qf(e)},wr(Kf(e))))},fillDragEndParams:function(t,e){var r={};return Qs(Fp(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),Ie(t,e,B({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:qf(e)},wr(Kf(e))))}};function Yu(t,e,r,n,i,o,a){o.clientDistX=o.distX,o.clientDistY=o.distY;var s=i==="Start",l=i==="End",u=i==="After",c=t.state.target,f=o.isRequest,d=n.indexOf("Control")>-1;if(!c||s&&d&&!f&&t.areaElement===o.inputEvent.target)return!1;var p=oe([],F(e),!1);if(f){var h=o.requestAble;p.some(function(O){return O.name===h})||p.push.apply(p,oe([],F(t.props.ables.filter(function(O){return O.name===h})),!1))}if(!p.length||p.every(function(O){return O.dragRelation}))return!1;var g=o.inputEvent,m;l&&g&&(m=document.elementFromPoint(o.clientX,o.clientY)||g.target);var v=!1,b=function(){var O;v=!0,(O=o.stop)===null||O===void 0||O.call(o)},w=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());w&&t.updateRect(i,!0,!1);var y=o.datas,x=d?"controlGesto":"targetGesto",S=t[x],C=function(O,_,N){if(!(_ in O)||S!==t[x])return!1;var M=O.name,L=y[M]||(y[M]={});if(s&&(L.isEventStart=!N||!O[N]||O[N](t,o)),!L.isEventStart)return!1;var I=O[_](t,B(B({},o),{stop:b,datas:L,originalDatas:y,inputTarget:m}));return t._emitter.off(),s&&I===!1&&(L.isEventStart=!1),I};w&&p.forEach(function(O){O.unset&&O.unset(t)}),C(y2,"drag".concat(n).concat(i));var E=0,k=0;r.forEach(function(O){if(v)return!1;var _="".concat(O).concat(n).concat(i),N="".concat(O).concat(n,"Condition");i===""&&!f&&s2(t.state,o);var M=p.filter(function(R){return R[_]});M=M.filter(function(R,z){return R.name&&M.indexOf(R)===z});var L=M.filter(function(R){return C(R,_,N)}),I=L.length;v&&++E,I&&++k,!v&&s&&M.length&&!I&&(E+=M.filter(function(R){var z=R.name,j=y[z];return j.isEventStart?R.dragRelation!=="strong":!1}).length?1:0)}),(!u||k)&&C(b2,"drag".concat(n).concat(i));var T=S!==t[x]||E===r.length;if((l||v||T)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(O){O.state.gestos={}}),p.forEach(function(O){O.unset&&O.unset(t)})),s&&!T&&!f&&k&&t.props.preventDefault&&(o==null||o.preventDefault()),t.isUnmounted||T)return!1;if(!s&&k&&!a||l){var A=t.props.flushSync||YR;A(function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()})}return!s&&!l&&!u&&k&&!a&&Yu(t,e,r,n,i+"After",o),!0}function vy(t){return function(e){var r,n=e.inputEvent.target,i=t.areaElement,o=t._dragTarget;return!o||!((r=t.controlGesto)===null||r===void 0)&&r.isFlag()?!1:n===o||o.contains(n)||n===i||!t.isMoveableElement(n)&&!t.controlBox.contains(n)||Rt(n,"moveable-area")||Rt(n,"moveable-padding")||Rt(n,"moveable-edgeDraggable")}}function w2(t,e,r){var n=t.controlBox,i=[],o=t.props,a=o.dragArea,s=t.state.target,l=o.dragTarget;return i.push(n),(!a||l)&&i.push(e),!a&&l&&s&&e!==s&&o.dragTargetSelf&&i.push(s),xw(t,i,"targetAbles",r,{dragStart:vy(t),pinchStart:vy(t)})}function xw(t,e,r,n,i){i===void 0&&(i={});var o=r==="targetAbles",a=t.props,s=a.pinchOutside,l=a.pinchThreshold,u=a.preventClickEventOnDrag,c=a.preventClickDefault,f=a.checkInput,d=a.dragFocusedInput,p=a.preventDefault,h=p===void 0?!0:p,g=a.dragContainer,m=Jn(g,!0),v={preventDefault:h,preventRightClick:!0,preventWheelClick:!0,container:m||go(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:o?u:!1,preventClickEventOnDragStart:o?c:!1,preventClickEventByCondition:o?null:function(y){return t.controlBox.contains(y.target)},checkInput:o?f:!1,dragFocusedInput:d},b=new l9(e,v),w=n==="Control";return["drag","pinch"].forEach(function(y){["Start","","End"].forEach(function(x){b.on("".concat(y).concat(x),function(S){var C,E=S.eventType,k=y==="drag"&&S.isPinch;if(i[E]&&!i[E](S)){S.stop();return}if(!k){var T=y==="drag"?[y]:["drag",y],A=oe([],F(t[r]),!1),O=Yu(t,A,T,n,x,S);O?(t.props.stopPropagation||x==="Start"&&w)&&((C=S==null?void 0:S.inputEvent)===null||C===void 0||C.stopPropagation()):S.stop()}})})}),b}var B7=function(){function t(e,r,n){var i=this;this.target=e,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(o){var a=i.eventName,s=i.moveable;s.state.disableNativeEvent||i.ables.forEach(function(l){l[a](s,{inputEvent:o})})},e.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function z7(t,e,r,n){var i;r===void 0&&(r=e);var o=_R(t,e),a=o.matrixes,s=o.is3d,l=o.targetMatrix,u=o.transformOrigin,c=o.targetOrigin,f=o.offsetContainer,d=o.hasFixed,p=o.zoom,h=Q9(f,r),g=h.matrixes,m=h.is3d,v=h.offsetContainer,b=h.zoom,w=n||m||s,y=w?4:3,x=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,S=l,C=at(y),E=at(y),k=at(y),T=at(y),A=a.length,O=g.map(function(z){return B(B({},z),{matrix:z.matrix?oe([],F(z.matrix),!1):void 0})}).reverse();a.reverse(),!s&&w&&(S=Rn(S,3,4),py(a)),!m&&w&&py(O),O.forEach(function(z){E=et(E,z.matrix,y)});var _=r||Ro(t),N=((i=O[0])===null||i===void 0?void 0:i.target)||Dc(_,_,!0).offsetParent,M=O.slice(1).reduce(function(z,j){return et(z,j.matrix,y)},at(y));a.forEach(function(z,j){if(A-2===j&&(k=C.slice()),A-1===j&&(T=C.slice()),!z.matrix){var D=a[j+1],$=t7(z,D,N,y,et(M,C,y));z.matrix=wa($,y)}C=et(C,z.matrix,y)});var L=!x&&s;S||(S=at(L?4:3));var I=sg(x&&S.length===16?Rn(S,4,3):S,L),R=E;return E=lR(E,y,y),{hasZoom:p!==1||b!==1,hasFixed:d,matrixes:a,rootMatrix:E,originalRootMatrix:R,beforeMatrix:k,offsetMatrix:T,allMatrix:C,targetMatrix:S,targetTransform:I,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:c,is3d:w,offsetContainer:f,offsetRootContainer:v}}function F7(t,e,r,n){r===void 0&&(r=e);var i=0,o=0,a=0,s={},l=ZR(t);if(t&&(i=l.offsetWidth,o=l.offsetHeight),t){var u=z7(t,e,r,n),c=Ps(u.allMatrix,u.transformOrigin,i,o);s=B(B({},u),c);var f=Ps(u.allMatrix,[50,50],100,100);a=e2([f.pos1,f.pos2],f.direction)}var d=n?4:3;return B(B(B({hasZoom:!1,width:i,height:o,rotation:a},l),{originalRootMatrix:at(d),rootMatrix:at(d),beforeMatrix:at(d),offsetMatrix:at(d),allMatrix:at(d),targetMatrix:at(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function yy(t,e,r,n,i,o){o===void 0&&(o=[]);var a=1,s=[0,0],l=Xf(),u=Xf(),c=Xf(),f=Xf(),d=[0,0],p={},h=F7(e,r,i,!0);if(e){var g=Fr(e);o.forEach(function(O){p[O]=g(O)});var m=h.is3d?4:3,v=Ps(h.offsetMatrix,qe(h.transformOrigin,uR(h.targetMatrix,m)),h.width,h.height);a=v.direction,s=qe(v.origin,[v.left-h.left,v.top-h.top]),f=Ku(h.offsetRootContainer);var b=Dc(n,n,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var w=Ps(et(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),y=Ps(h.originalRootMatrix,$p(Fr(b)("transformOrigin")).map(function(O){return parseFloat(O)}),b.offsetWidth,b.offsetHeight);if(l=$m(w,f),c=$m(y,f,b,!0),t){var x=w.left,S=w.top;u=$m({left:x,top:S,bottom:S,right:S},f)}}else{l=Ku(e),c=J9(b),t&&(u=Ku(t));var C=c.left,E=c.top,k=c.clientLeft,T=c.clientTop,A=[l.left-C,l.top-E];d=Oe(rl(h.rootMatrix,A,4),[k+h.left,T+h.top])}}return B({targetClientRect:l,containerClientRect:c,moveableClientRect:u,rootContainerClientRect:f,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:d},h)}function gk(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!e||!r||!n||!i)return null;var o=Sa([e,r,n,i]),a=[o.minX,o.minY],s=Oe(t.origin,a);return e=Oe(e,a),r=Oe(r,a),n=Oe(n,a),i=Oe(i,a),B(B({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var nl=function(t){sf(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=B({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},yy(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new ew,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}bW(r._observerId),r._observerId=nR(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return e.prototype.render=function(){var r=this.props,n=this.getState(),i=r.parentPosition,o=r.className,a=r.target,s=r.zoom,l=r.cspNonce,u=r.translateZ,c=r.cssStyled,f=r.groupable,d=r.linePadding,p=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var h=F(i||[0,0],2),g=h[0],m=h[1],v=n.left,b=n.top,w=n.target,y=n.direction,x=n.hasFixed,S=n.offsetDelta,C=r.targets,E=this.isDragging(),k={};this.getEnabledAbles().forEach(function(M){k["data-able-".concat(M.name.toLowerCase())]=!0});var T=this._getAbleClassName(),A=C&&C.length&&(w||f)||a||!this._hasFirstTarget&&this.state.isPersisted,O=this.controlBox||this.props.firstRenderState||this.props.persistData,_=[v-g,b-m];!f&&r.useAccuratePosition&&(_[0]+=S[0],_[1]+=S[1]);var N={position:x?"fixed":"absolute",display:A?"block":"none",visibility:O?"visible":"hidden",transform:"translate3d(".concat(_[0],"px, ").concat(_[1],"px, ").concat(u,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(N["--moveable-line-padding"]=d),p&&(N["--moveable-control-padding"]=p),U.createElement(c,B({cspNonce:l,ref:la(this,"controlBox"),className:"".concat(Te("control-box",y===-1?"reverse":"",E?"dragging":"")," ").concat(T," ").concat(o)},k,{onClick:this._onPreventClick,style:N}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,i=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},e.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),ps(this,!1),ps(this,!0);var o=this.events;for(var a in o){var s=o[a];s&&s.destroy()}},e.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},e.prototype.getAble=function(r){var n=this.props.ables||[];return Vr(n,function(i){return i.name===r})},e.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,i=r.wrapperMoveable,o=r.container;return o||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(nw)>-1},e.prototype.dragStart=function(r){var n=this.targetGesto,i=this.controlGesto;return n&&vy(this)({inputEvent:r})?n.isFlag()||n.triggerDragStart(r):i&&this.isMoveableElement(r.target)&&(i.isFlag()||i.triggerDragStart(r)),this},e.prototype.hitTest=function(r){var n=this.state,i=n.target,o=n.pos1,a=n.pos2,s=n.pos3,l=n.pos4,u=n.targetClientRect;if(!i)return 0;var c;if(Xb(r)){var f=r.getBoundingClientRect();c={left:f.left,top:f.top,width:f.width,height:f.height}}else c=B({width:0,height:0},r);var d=c.left,p=c.top,h=c.width,g=c.height,m=FC([o,a,l,s],u),v=r9(m,[[d,p],[d+h,p],[d+h,p+g],[d,p+g]]),b=pR(m);return!v||!b?0:Math.min(100,v/b*100)},e.prototype.isInside=function(r,n){var i=this.state,o=i.target,a=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.targetClientRect;return o?ey([r,n],FC([a,s,u,l],c)):!1},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0);var o=this.props,a=!o.parentPosition&&!o.wrapperMoveable;a&&el(!0);var s=o.parentMoveable,l=this.state,u=l.target||o.target,c=this.getContainer(),f=s?s._rootContainer:this._rootContainer,d=yy(this.controlBox,u,c,c,f||c,this._getRequestStyles());if(!u&&this._hasFirstTarget&&o.persistData){var p=gk(o.persistData);for(var h in p)d[h]=p[h]}a&&el(),this.updateState(d,s?!1:i)},e.prototype.isDragging=function(r){var n,i,o=this.targetGesto,a=this.controlGesto;if(o!=null&&o.isFlag()){if(!r)return!0;var s=o.getEventData();return!!(!((n=s[r])===null||n===void 0)&&n.isEventStart)}if(a!=null&&a.isFlag()){if(!r)return!0;var s=a.getEventData();return!!(!((i=s[r])===null||i===void 0)&&i.isEventStart)}return!1},e.prototype.updateTarget=function(r){this.updateRect(r,!0)},e.prototype.getRect=function(){var r=this.state,n=pn(this.state),i=F(n,4),o=i[0],a=i[1],s=i[2],l=i[3],u=an(n),c=r.width,f=r.height,d=u.width,p=u.height,h=u.left,g=u.top,m=[r.left,r.top],v=qe(m,r.origin),b=qe(m,r.beforeOrigin),w=r.transformOrigin;return{width:d,height:p,left:h,top:g,pos1:o,pos2:a,pos3:s,pos4:l,offsetWidth:c,offsetHeight:f,beforeOrigin:b,origin:v,transformOrigin:w,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&hy(this,!1),n==null||n.stop()}if(!r||r==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&hy(this,!0),n==null||n.stop()}},e.prototype.getRotation=function(){var r=this.state,n=r.pos1,i=r.pos2,o=r.direction;return l7(n,i,o)},e.prototype.request=function(r,n,i){n===void 0&&(n={});var o=this,a=o.props,s=a.parentMoveable||a.wrapperMoveable||o,l=s.props.ables,u=a.groupable,c=Vr(l,function(v){return v.name===r});if(this.isDragging()||!c||!c.request)return{request:function(){return this},requestEnd:function(){return this}};var f=c.request(o),d=i||n.isInstant,p=f.isControl?"controlAbles":"targetAbles",h="".concat(u?"Group":"").concat(f.isControl?"Control":""),g=oe([],F(s[p]),!1),m={request:function(v){return Yu(o,g,["drag"],h,"",B(B({},f.request(v)),{requestAble:r,isRequest:!0}),d),m},requestEnd:function(){return Yu(o,g,["drag"],h,"End",B(B({},f.requestEnd()),{requestAble:r,isRequest:!0}),d),m}};return Yu(o,g,["drag"],h,"Start",B(B({},f.requestStart(n)),{requestAble:r,isRequest:!0}),d),d?m.request(n).requestEnd():m},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,i=n.padding,o=r.originalBeforeOrigin,a=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,c=r.pos2,f=r.pos3,d=r.pos4,p=r.left,h=r.top,g=r.isPersisted,m=n.zoom||1;if(!i&&m<=1){r.renderPoses=[u,c,f,d],r.renderLines=[[u,c],[c,d],[d,f],[f,u]];return}var v=f2(i||{}),b=v.left,w=v.top,y=v.bottom,x=v.right,S=l?4:3,C=[];g?C=a:this.controlBox&&n.groupable?C=o:C=qe(o,[p,h]);var E=Bp(S,wa(C.map(function(N){return-N}),S),s,wa(a,S)),k=Xr(E,u,[-b,-w],S),T=Xr(E,c,[x,-w],S),A=Xr(E,f,[-b,y],S),O=Xr(E,d,[x,y],S);if(r.renderPoses=[k,T,A,O],r.renderLines=[[k,T],[T,O],[O,A],[A,k]],m){var _=m/2;r.renderLines=[[Xr(E,u,[-b-_,-w],S),Xr(E,c,[x+_,-w],S)],[Xr(E,c,[x,-w-_],S),Xr(E,d,[x,y+_],S)],[Xr(E,d,[x+_,y],S),Xr(E,f,[-b-_,y],S)],[Xr(E,f,[-b,y+_],S),Xr(E,u,[-b,-w-_],S)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,i=r.container,o=r.parentMoveable,a=this.state,s=a.target,l=a.container;if(!(!s&&!n)){this.updateAbles();var u=!gy(s,n),c=u||!gy(l,i);if(c){var f=i||this.controlBox;f&&this.unsetAbles(),this.updateState({target:n,container:i}),!o&&f&&this.updateRect("End",!1,!1),this._isPropTargetChanged=u}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(r,n){var i=this.props;if(this._emitter.trigger(r,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(r,n,!0);var o=i[r];return o&&o(n)},e.prototype.useCSS=function(r,n){var i=this.props.customStyledMap,o=r+n;return i[o]||(i[o]=mR(r,n)),i[o]},e.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,o=n.persistData,a=n.firstRenderState;if(a&&!i)return a;if(!this._hasFirstTarget&&o){var s=gk(o);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},e.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var i=this.props,o=i.triggerAblesSimultaneously,a=this.getEnabledAbles(r),s="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),u="drag".concat(n,"ControlStart"),c=Jf(a,[s,l],o),f=Jf(a,[u],o);this.enabledAbles=a,this.targetAbles=c,this.controlAbles=f},e.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var o in r)i[o]=r[o]}},e.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},e.prototype.renderAbles=function(){var r=this,n=this.props,i=n.triggerAblesSimultaneously,o={createElement:U.createElement};return this.renderState={},o7(a2(Jf(this.getEnabledAbles(),["render"],i).map(function(a){var s=a.render;return s(r,o)||[]})).filter(function(a){return a}),function(a){var s=a.key;return s}).map(function(a){return a[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var o,a,s=(a=(o=i.requestStyle)===null||o===void 0?void 0:o.call(i))!==null&&a!==void 0?a:[];return oe(oe([],F(n),!1),F(s),!1)},oe([],F(this.props.requestStyles||[]),!1));return r},e.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},e.prototype._updateEvents=function(){var r=this.controlBox,n=this.targetAbles.length,i=this.controlAbles.length,o=this._dragTarget,a=!n&&this.targetGesto||this._isTargetChanged(!0);a&&(ps(this,!1),this.updateState({gestos:{}})),i||ps(this,!0),o&&n&&!this.targetGesto&&(this.targetGesto=w2(this,o,"")),!this.controlGesto&&i&&(this.controlGesto=xw(this,r,"controlAbles","Control"))},e.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=Jn(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var r=this.props,n=r,i=n.zoom,o=n.hideDefaultLines,a=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(o||s&&a)return[];var l=this.getState(),u={createElement:U.createElement};return l.renderLines.map(function(c,f){return Ac(u,"",c[0],c[1],i,"render-line-".concat(f))})},e.prototype._isTargetChanged=function(r){var n=this.props,i=n.dragTarget||n.target,o=this._prevOriginalDragTarget,a=this._prevDragArea,s=n.dragArea,l=!s&&o!==i,u=(r||s)&&a!==s;return l||u||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var r=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,o=this.events,a=Cl(o);if(this._isTargetChanged())for(var s in o){var l=o[s];l&&l.destroy(),o[s]=null}if(i){var u=this.enabledAbles;a.forEach(function(c){var f=Jf(u,[c]),d=f.length>0,p=o[c];if(!d){p&&(p.destroy(),o[c]=null);return}p||(p=new B7(i,r,c),o[c]=p),p.setAbles(f)})}},e.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=Jn(r,!0))},e.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=Jn(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(oe(oe([],F(this._getAbleViewClassNames()),!1),[this.isDragging()?g7:""],!1))},e.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,i=o2(r.filter(Boolean),function(u){return u}).map(function(u){var c=F(u,1),f=c[0];return f}),o=this._viewClassNames,a=Zb(o,i),s=a.removed,l=a.added;s.forEach(function(u){aR(n,o[u])}),l.forEach(function(u){oR(n,i[u])}),this._viewClassNames=i},e.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var i=this.getEnabledAbles(),o=this.targetGesto,a=this.controlGesto,s=o!=null&&o.isFlag()?o.getEventData():{},l=a!=null&&a.isFlag()?a.getEventData():{};return i.map(function(u){var c,f,d,p=u.name,h=((c=u.className)===null||c===void 0?void 0:c.call(u,n))||"";return(!((f=s[p])===null||f===void 0)&&f.isEventStart||!((d=l[p])===null||d===void 0)&&d.isEventStart)&&(h+=" ".concat(Te("".concat(p).concat(r,"-dragging")))),h.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(r){var n,i=this.props,o=i.target,a=go(this.getControlBoxElement());if(!a.ResizeObserver||!o||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===o&&this._reiszeObserver)){var s=new a.ResizeObserver(this.checkUpdateRect);s.observe(o,{box:"border-box"}),this._reiszeObserver=s}},e.prototype._updateMutationObserver=function(r){var n=this,i,o=this.props,a=o.target,s=go(this.getControlBoxElement());if(!s.MutationObserver||!a||!o.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(r.target===a&&this._mutationObserver)){var l=new s.MutationObserver(function(u){var c,f;try{for(var d=b9(u),p=d.next();!p.done;p=d.next()){var h=p.value;h.type==="attributes"&&h.attributeName==="style"&&n.checkUpdateRect()}}catch(g){c={error:g}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}});l.observe(a,{attributes:!0}),this._mutationObserver=l}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:YR,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(U.PureComponent),Ew={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,i=n.targets||[],o=t.getState(),a=o.left,s=o.top,l=o.isPersisted,u=n.zoom||1,c=t.renderGroupRects,f=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];l?i=f.map(function(){return null}):f=[];var d=hs(t,"parentPosition",[a,s],function(h){return h.join(",")}),p=hs(t,"requestStyles",t.getRequestChildStyles(),function(h){return h.join(",")});return t.moveables=t.moveables.slice(0,i.length),oe(oe([],F(i.map(function(h,g){return e.createElement(nl,{key:"moveable"+g,ref:ZD(t,"moveables",g),target:h,origin:!1,requestStyles:p,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[a,s],persistData:f[g],zoom:u})})),!1),F(a2(c.map(function(h,g){var m=h.pos1,v=h.pos2,b=h.pos3,w=h.pos4,y=[m,v,b,w];return[[0,1],[1,3],[3,2],[2,0]].map(function(x,S){var C=F(x,2),E=C[0],k=C[1];return Ac(e,"",Oe(y[E],d),Oe(y[k],d),u,"group-rect-".concat(g,"-").concat(S))})}))),!1)}},j7=lf("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,o=t.isMoveableElement(i),a=!o&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||a)){var s=r.contains(i);me(t,"onClick",Ie(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,o=i.indexOf(n),a=o>-1,s=!1;o===-1&&(o=Ti(i,function(l){return l.contains(n)}),s=o>-1),me(t,"onClickGroup",Ie(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:o,isTarget:a,containsTarget:s,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function za(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),B(B({},t),{datas:e})}var H7=lf("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?DR(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Rt(i,Te("direction"))&&Rt(i,Te("edge"))&&Rt(i,Te("edgeDraggable"))},dragStart:function(t,e){return mr.dragStart(t,za(e))},drag:function(t,e){return mr.drag(t,za(e))},dragEnd:function(t,e){return mr.dragEnd(t,za(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Rt(i,Te("direction"))&&Rt(i,Te("line"))},dragGroupStart:function(t,e){return mr.dragGroupStart(t,za(e))},dragGroup:function(t,e){return mr.dragGroup(t,za(e))},dragGroupEnd:function(t,e){return mr.dragGroupEnd(t,za(e))},unset:function(t){return mr.unset(t)}}),S2={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},U7=[y2,h2,WG,c7,mr,H7,cy,f7,p7,OG,y7,b7,m7,D7,A7,I7,Ew,S2,j7,p2,b2];function mk(t,e){var r=F(t,3),n=r[0],i=r[1],o=r[2];return(n*e[0]+i*e[1]+o)/Math.sqrt(n*n+i*i)}function ed(t,e){var r=F(t,2),n=r[0],i=r[1];return-n*e[0]-i*e[1]}function vk(t,e){return Math.max.apply(Math,oe([],F(t.map(function(r){var n=F(r,4),i=n[0],o=n[1],a=n[2],s=n[3];return Math.max(i[e],o[e],a[e],s[e])})),!1))}function yk(t,e){return Math.min.apply(Math,oe([],F(t.map(function(r){var n=F(r,4),i=n[0],o=n[1],a=n[2],s=n[3];return Math.min(i[e],o[e],a[e],s[e])})),!1))}function $7(t,e){var r,n,i,o=[0,0],a=[0,0],s=[0,0],l=[0,0],u=0,c=0;if(!t.length)return{pos1:o,pos2:a,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:c,rotation:e};var f=Ne(e,kr);if(f%90){var d=f/180*Math.PI,p=Math.tan(d),h=-1/p,g=[ay,UC],m=[[0,0],[0,0]],v=[ay,UC],b=[[0,0],[0,0]];t.forEach(function(V){V.forEach(function(W){var q=mk([-p,1,0],W),Y=mk([-h,1,0],W);g[0]>q&&(m[0]=W,g[0]=q),g[1]<q&&(m[1]=W,g[1]=q),v[0]>Y&&(b[0]=W,v[0]=Y),v[1]<Y&&(b[1]=W,v[1]=Y)})});var w=F(m,2),y=w[0],x=w[1],S=F(b,2),C=S[0],E=S[1],k=[-p,1,ed([-p,1],y)],T=[-p,1,ed([-p,1],x)],A=[-h,1,ed([-h,1],C)],O=[-h,1,ed([-h,1],E)];r=F([[k,A],[k,O],[T,A],[T,O]].map(function(V){var W=F(V,2),q=W[0],Y=W[1];return tw(q,Y)[0]}),4),o=r[0],a=r[1],s=r[2],l=r[3],u=v[1]-v[0],c=g[1]-g[0]}else{var _=yk(t,0),N=yk(t,1),M=vk(t,0),L=vk(t,1);if(o=[_,N],a=[M,N],s=[_,L],l=[M,L],u=M-_,c=L-N,f%180){var I=[s,o,l,a];n=F(I,4),o=n[0],a=n[1],s=n[2],l=n[3],u=L-N,c=M-_}}if(f%360>180){var I=[l,s,a,o];i=F(I,4),o=i[0],a=i[1],s=i[2],l=i[3]}var R=Sa([o,a,s,l]),z=R.minX,j=R.minY,D=R.maxX,$=R.maxY;return{pos1:o,pos2:a,pos3:s,pos4:l,width:u,height:c,minX:z,minY:j,maxX:D,maxY:$,rotation:e}}function x2(t,e){var r=e.map(function(n){if(Kt(n)){var i=x2(t,n),o=i.length;return o>1?i:o===1?i[0]:null}else{var a=Vr(t,function(s){var l=s.manager;return l.props.target===n});return a?(a.finded=!0,a.manager):null}}).filter(Boolean);return r.length===1&&Kt(r[0])?r[0]:r}var V7=function(t){sf(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new dR,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){var o;i===void 0&&(i=!0);var a=this.state;if(!this.controlBox||a.isPersisted)return;el(!0),this.moveables.forEach(function(ee){ee.updateRect(r,!1,!1)});var s=this.props,l=this.moveables,u=a.target||s.target,c=l.map(function(ee){return{finded:!1,manager:ee}}),f=this.props.targetGroups||[],d=x2(c,f),p=s.useDefaultGroupRotate;d.push.apply(d,oe([],F(c.filter(function(ee){var he=ee.finded;return!he}).map(function(ee){var he=ee.manager;return he})),!1));var h=[],g=!n||r!==""&&s.updateGroup,m=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var v=(o=s.persistData)===null||o===void 0?void 0:o.rotation;v!=null&&(m=v)}function b(ee,he,ve){var J=ee.map(function(Re){if(Kt(Re)){var Ee=b(Re,he),_e=[Ee.pos1,Ee.pos2,Ee.pos3,Ee.pos4];return h.push(Ee),{poses:_e,rotation:Ee.rotation}}else return{poses:pn(Re.state),rotation:Re.getRotation()}}),ue=J.map(function(Re){var Ee=Re.rotation;return Ee}),Ae=0,ye=ue[0],Z=ue.every(function(Re){return Math.abs(ye-Re)<.1});g?Ae=!p&&Z?ye:m:Ae=!p&&!ve&&Z?ye:he;var fe=J.map(function(Re){var Ee=Re.poses;return Ee}),Ce=$7(fe,Ae);return Ce}var w=b(d,this.rotation,!0);g&&(this.rotation=w.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=f,this.renderGroupRects=h;var y=this.transformOrigin,x=this.rotation,S=this.scale,C=w.width,E=w.height,k=w.minX,T=w.minY,A=u7([[0,0],[C,0],[0,E],[C,E]],bw(y,C,E),this.rotation/180*Math.PI),O=Sa(A.result),_=O.minX,N=O.minY,M=" rotate(".concat(x,"deg)")+" scale(".concat(vr(S[0]),", ").concat(vr(S[1]),")"),L="translate(".concat(-_,"px, ").concat(-N,"px)").concat(M);this.controlBox.style.transform="translate3d(".concat(k,"px, ").concat(T,"px, ").concat(this.props.translateZ||0,")"),u.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(y,";")+"width:".concat(C,"px;height:").concat(E,"px;")+"transform: ".concat(L),a.width=C,a.height=E;var I=this.getContainer(),R=yy(this.controlBox,u,this.controlBox,this.getContainer(),this._rootContainer||I,[]),z=[R.left,R.top],j=F(pn(R),4),D=j[0],$=j[1],V=j[2],W=j[3],q=Sa([D,$,V,W]),Y=[q.minX,q.minY],te=vr(S[0]*S[1]);R.pos1=Oe(D,Y),R.pos2=Oe($,Y),R.pos3=Oe(V,Y),R.pos4=Oe(W,Y),R.left=k-R.left+Y[0],R.top=T-R.top+Y[1],R.origin=Oe(qe(z,R.origin),Y),R.beforeOrigin=Oe(qe(z,R.beforeOrigin),Y),R.originalBeforeOrigin=qe(z,R.originalBeforeOrigin),R.transformOrigin=Oe(qe(z,R.transformOrigin),Y),u.style.transform="translate(".concat(-_-Y[0],"px, ").concat(-N-Y[1],"px)")+M,el(),this.updateState(B(B({},R),{posDelta:Y,direction:te,beforeDirection:te}),i)},e.prototype.getRect=function(){return B(B({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.triggerEvent=function(r,n,i){if(i||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},e.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var o,a,s=(a=(o=i.requestChildStyle)===null||o===void 0?void 0:o.call(i))!==null&&a!==void 0?a:[];return oe(oe([],F(n),!1),F(s),!1)},[]);return r},e.prototype.getMoveables=function(){return oe([],F(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,oe(oe([],F(this.props.ables),!1),[Ew],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Jn(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var r=this.state,n=this.props,i=this._prevDragTarget,o=n.dragTarget||this.areaElement,a=n.targets,s=this.differ.update(a),l=s.added,u=s.changed,c=s.removed,f=l.length||c.length;(f||this._prevOriginalDragTarget!==this._originalDragTarget)&&(ps(this,!1),ps(this,!0),this.updateState({gestos:{}})),i!==o&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=w2(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=xw(this,this.controlBox,"controlAbles","GroupControl")));var d=!gy(r.container,n.container);d&&(r.container=n.container),(d||f||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||u.length||a.length&&!c2(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!f},e.prototype._updateObserver=function(){},e.defaultProps=B(B({},nl.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(nl),W7=function(t){sf(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}return e.prototype.render=function(){var r=this,n,i=this.props,o=i.cspNonce,a=i.cssStyled,s=i.persistData,l=i.targets||[],u=l.length,c=this.isUnmounted||!u,f=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return c&&!u&&f.length?l=f.map(function(){return null}):c||(f=[]),U.createElement(a,{cspNonce:o,ref:la(this,"controlBox"),className:Te("control-box")},l.map(function(d,p){var h,g,m=(g=(h=i.individualGroupableProps)===null||h===void 0?void 0:h.call(i,d,p))!==null&&g!==void 0?g:{};return U.createElement(nl,B({key:"moveable"+p,ref:ZD(r,"moveables",p)},i,m,{target:d,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:f[p]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0),el(!0),this.moveables.forEach(function(o){o.updateRect(r,n,i)}),el()},e.prototype.getRect=function(){return B(B({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.request=function(r,n,i){n===void 0&&(n={});var o=this.moveables.map(function(l){return l.request(r,B(B({},n),{isInstant:!1}),!1)}),a=i||n.isInstant,s={request:function(l){return o.forEach(function(u){return u.request(l)}),this},requestEnd:function(){return o.forEach(function(l){return l.requestEnd()}),this}};return a?s.request(n).requestEnd():s},e.prototype.dragStart=function(r){var n=r.target,i=Vr(this.moveables,function(o){var a=o.getTargets()[0],s=o.getControlBoxElement(),l=o.getDragElement();return!a||!l?!1:l===n||l.contains(n)||l!==a&&a===n||a.contains(n)||s===n||s.contains(n)});return i&&i.dragStart(r),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return oe([],F(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(nl);function E2(t,e){var r=[];return t.forEach(function(n){if(n){if(Mi(n)){e[n]&&r.push.apply(r,oe([],F(e[n]),!1));return}Kt(n)?r.push.apply(r,oe([],F(E2(n,e)),!1)):r.push(n)}}),r}function C2(t,e){var r=[];return t.forEach(function(n){if(n){if(Mi(n)){e[n]&&r.push.apply(r,oe([],F(e[n]),!1));return}Kt(n)?r.push(C2(n,e)):r.push(n)}}),r}function k2(t,e){return t.length!==e.length||t.some(function(r,n){var i=e[n];return!r&&!i?!1:r!=i?Kt(r)&&Kt(i)?k2(r,i):!0:!1})}var G7=function(t){sf(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new dR,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return e.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(o){var a=o.css;a&&a.forEach(function(s){r[s]=!0})});var i=Cl(r).join(`
`);this.defaultStyled=mR("div",sW(nw,A9+i))},e.getTotalAbles=function(){return oe([h2,Ew,S2,p2],F(this.defaultAbles),!1)},e.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,o=i.ables,a=i.props,s=v9(i,["ables","props"]),l=F(this._updateRefs(!0),2),u=l[0],c=l[1],f=E2(u,c),d=f.length>1,p=n.getTotalAbles(),h=oe(oe([],F(p),!1),F(o||[]),!1),g=B(B(B({},s),a||{}),{ables:h,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var m=null,v=this.moveable,b=s.persistData;if(b!=null&&b.children&&(d=!0),s.individualGroupable)return U.createElement(W7,B({key:"individual-group",ref:la(this,"moveable")},g,{target:null,targets:f}));if(d){var w=C2(u,c);if(v&&!v.props.groupable&&!v.props.individualGroupable){var y=v.props.target;y&&f.indexOf(y)>-1&&(m=B({},v.state))}return U.createElement(V7,B({key:"group",ref:la(this,"moveable")},g,(r=s.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:f,targetGroups:w,firstRenderState:m}))}else{var x=f[0];if(v&&(v.props.groupable||v.props.individualGroupable)){var S=v.moveables||[],C=Vr(S,function(E){return E.props.target===x});C&&(m=B({},C.state))}return U.createElement(nl,B({key:"single",ref:la(this,"moveable")},g,{target:x,firstRenderState:m}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs()},e.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(i){n=i})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(r){var n=this.refTargets,i=yw(this.props.target||this.props.targets),o=typeof document<"u",a=k2(n,i),s=this.selectorMap,l={};return this.refTargets.forEach(function u(c){if(Mi(c)){var f=s[c];f?l[c]=s[c]:o&&(a=!0,l[c]=[].slice.call(document.querySelectorAll(c)))}else Kt(c)&&c.forEach(u)}),this._tmpRefTargets=i,this._tmpSelectorMap=l,[i,l,!r&&a]},e.prototype._checkChangeTargets=function(){var r,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var o=this._differ.update(this._elementTargets),a=o.added,s=o.removed,l=a.length||s.length;l&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var u=F(this._updateRefs(),3),c=u[0],f=u[1],d=u[2];this.refTargets=c,this.selectorMap=f,d&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,y9([lW(P9)],e.prototype,"moveable",void 0),e}(U.PureComponent),q7=function(t){sf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=U7,e}(G7);const K7=({editor:t})=>{const e=()=>{const r=document.querySelector(".ProseMirror-selectednode");if(r){const n=t.state.selection;t.commands.setImage({src:r.src,width:Number(r.style.width.replace("px","")),height:Number(r.style.height.replace("px",""))}),t.commands.setNodeSelection(n.from)}};return X.jsx(X.Fragment,{children:X.jsx(q7,{target:document.querySelector(".ProseMirror-selectednode"),container:null,origin:!1,edge:!1,throttleDrag:0,keepRatio:!0,resizable:!0,throttleResize:0,onResize:({target:r,width:n,height:i,delta:o})=>{o[0]&&(r.style.width=`${n}px`),o[1]&&(r.style.height=`${i}px`)},onResizeEnd:()=>{e()},scalable:!0,throttleScale:0,renderDirections:["w","e"],onScale:({target:r,transform:n})=>{r.style.transform=n}})})};function Y7({className:t="relative min-h-[500px] w-full max-w-screen-lg border-stone-200 bg-white sm:rounded-lg sm:border sm:shadow-lg",defaultValue:e="",extensions:r=[],editorProps:n={},onUpdate:i=()=>{},onDebouncedUpdate:o=()=>{},debounceDuration:a=750,storageKey:s="immersive__content",disableLocalStorage:l=!1,onEditorInit:u=()=>{}}){const[c,f]=bV(s,e),[d,p]=U.useState(!1),h=wV(async({editor:m})=>{const v=m.getJSON();o(m),l||f(v)},a),g=Kj({extensions:[...yV,...r],editorProps:{...x$,...n},onUpdate:m=>{i(m.editor),h(m)},autofocus:"start"});return U.useEffect(()=>{g&&u(g)},[g]),U.useEffect(()=>{if(!g||d)return;const m=l?e:c;m&&(g.commands.setContent(m),p(!0))},[g,e,c,d,l]),X.jsxs("div",{onClick:()=>{g==null||g.chain().focus().run()},className:t,children:[g&&X.jsx(eW,{editor:g}),(g==null?void 0:g.isActive("image"))&&X.jsx(K7,{editor:g}),X.jsx(Wj,{editor:g})]})}var T2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var s=r.apply(null,o);s&&n.push(s)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&n.push(l)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(T2);var ff=T2.exports;const qp=cl(ff),X7="/drafts-assets/img/copy-05f33554.svg",J7="/drafts-assets/img/success-456d3b71.svg",Q7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAu7SURBVHgB7ZxvbtvIFcDfkFJib9pCQZsgdoo19wRxThDlBLGB3W37KfYJnJzA8glin8DKpwJJAMcnMHOCVU5gJujGabZFiCJZ/5E4r++RlC1RpDiaIWXvij9AtkSRFPXezPs3jwKoqKioqKioqKioqKioqJglBMw4uOc0TuCkAT1wBrfbaPv1et0Tq54PJTJzCmCBf+19WRNC3AMpmrTFGbs/gG8J6KAUbyzLcud/+OhCgcyUAo5f3XocSNimL90AfTxLiDbUrOfzqx89MGRmFHC8d8cJusFPhsIfxoK2ZdtbJoqwYEboBt3lQoXPSFiT3eDw+OXtTdBkZhQgUJTmTCVi6+uLW4c8y2BCZsoH/Pri9iHmOF1DfECxfuNvn16rHjBbTvif5Adqwa5AaPJrIcCVCG/paQcFev1ZQs8b/LADexmEvEd78v7K5ktI6+k3f//3ttK+UKHE/179ecUKrBVS2mOV/VWVUClgQsJZZAUtJUWgWM0zR5UCNPny4taaBWIzx6f4Vt2+Py5MnZkoqGj+8OMvbRFYDwUIb8xuDQpT98ad50rMgEPHacxBdwUlOTwBTRpZDo2s0OnRF/TpeQcROsLCnQXPPPssks97jca1Xv2AahbLmTuh2CJT1Ep761IVcOT8tQkYcBLTVD4IRWvh/YctuEIoKCHTFF2KAo6+XdykzGiNnjqgQ4FK+Prq9oqQ8JiKbsuJwlyHw1RRs3dUSg3snKUd/ARZ4SqVLW58/8t6cvNUFfDBWVwRiM9AV/CDCHxI5sgFAyh7ZYEt5+6oWPPhUNWWVqbNP6vfuHkzUd6eihM+cu44R0sLByR8vjgHCoDKwytgwJe9Wyz4fOEzUc3n4PjlX5rjdvvT9/99jTRrst6/dvbrk+S20hXw0VnYEGjxSGtCgVCN/gEY0IWuB5PhSBS5SqCAIds0CtwY2QQlEUY2eMojvgnl4C28O/oODLiI5UPB7UO/JEEzg8oVpODUWZYb2395eeugX+5IYpHpnP/hP27/dQ1K4JNzdzmIhO/AFYZjefrXTnnLpcc2O1a05UEi2WpgL9il/w+zzsuzQET1oxGktJrx+UMKN0FscgKUbHIcKBHBlceSmf/HR++0fnY/mWxRTtI8e3E303/0ar0OZFwf5TJDprNQBRw5i5t0cUpVQFNwCgpgbq76fiDkSPjYxe7KuGPIGXfS3sNErlCYCaLYfpfOvgZTAqMy8liiDLtHK2HBspSwRI6bMmyIM2zwqRTtkVF+s+h9GFsw+yPZbLLr7qBdT47k0QsMr6+Z8k7j857T6IejhSggFL6YnvAZ2xJu2nYW+jycrpGCHgk8W+aSBjtZSqp41pzT30aafEIhskcS3Vrwfm5nfmDopC/sOmJuCNvJemPu5IQHQTEKuAzhJ+mP9LCsgafNvqBxSORjcSix2KXvspSZYY8uaY5doJGW9CkpS3+z1nPorxc+BQMuU/i0DvuMfA6PwiUa6Sv94p0RAltHzt13qTOBVshICYNb/PGnqtP7AeShrYArMPJp1GLYjaA8zlVAyedsJzdz4odDHzS2DK2MVhTE0c5lm50ScTiPSW5Mlj5oxr0ZdxKBgQMKTKyAUPiILfgdE6TXiIZMji1w/FIjCifzzV7N6z+dSAHhyPidCz8Lsj5PzxMyxK3BckIawuZuilR8TvD6L5R9AFc0KcPdgxnAAhxxsGPKFqmQyUoNU0UiQVOfASi4/uHADCBBdsCAuNTtpJ47kUAqKYDrO1BeVfNKQYFmx3Td2T6xM0NU8g1u4vPGw6aH6/mFxNnj8SC6oug/2VsRZbHh5yKIhoXglH4dAtdJAW0wJK0kzT7kmx8/DZXQ832AtDa5TQ+KhFaNSLBvScAdG+zOV6h733lqd6JEWe8J1XcElRn4AfdopU1tZSsfrwjhM3bPXk+2QYqeNdmacNy1cACGhK0lAsmu4vMTmHutKmxVeJZCaCLFY0B9U8nm5867o/tQINEtUH5jftX3IP0zs6Ei1SGYOV4qcoVC3y5a6FlEyrBaFCpytdKBSUHRRgv2a2Qubns/GzljFTIVQDWRNS5QgR4s+K2iprMO8ayg7yC4h9MBPRSqpGZkK0Bj9EemRu5Mc8TnMTAjlLqaMyhNEakK0LT9Xtyr48EVhBTBs4ELbQ5oQg51+877o6dQIKkK+LC0uEcRinrfDZKdt+aeTDrq50gYVHfhz7nHnWk4UGOnC+PuBLbBb21axD7ph6kGhLMBBQ8sBzSha+yciusPi5rhIwqIL/IQVKG6yML7jy2YgDrZZvoibBKaExzGxa+dHmQ3PqnA3w/R4gGmH7qSo6aFm3UogJFMWICYaORPInwS/DIlHgckfHbuTZgMvq4DOsfunMEIZhN5Kq5xS4kHulAp/oOz8AQKYEQBMooaVPDY7Cjuy8LfIMEbd8jROdbIbB3YkUK0CM0H+SsOGkATyso3OSkEQ4YUEJYdVKcmfQFVO0ijnrvPtqEg6Fx0nbBXB1AdLCPwTJACtTus2V/NyTPjWZCYAXYTVBBkAxWjHR759K8FJcBKras22Kaw6B1tgzDwKcIotA0ZUgAiPlI6CqTSyGFbjSUJP4ZNwB4Y3AFP9aQd0MeJEz5tkj7AgXxc1dFPtprj7lKrl2yOyMRpm4JTuOaa+AJlq5HBuQLYoajYfxSwDwrEo38N9PFFtAKlUo/ZAE3Yj0mj0NbszvtzBdSh66gcwCVklf0CgyiFoVF9vwuwTnE/VyfdnN0bNYPoyhLjOxzK5FwBNi14KB7jqexEo/9Bzi6deIRzgpU0AfuDmS/t9y7nXLyPtjNGsC6tblW7uAjZKPhuDSdtI5cXuMMgmdHWIme9Ge/zOXFYnjKZe/Ab5FwBIpwBxfWYcZycVCjXd24APPRT2vpIIS0KKT3Oktl30PM3MvIDfAejAyUiaPDpfnNLzUdlcq4Astm0PKjygRZPdQ/0WPXH9FSSzW/X4hoRK6LgGZmJjBI7LYRhi+K5D+jSuqzKAYHEpsp+IjEyePR3FUYLCf45aIAKfiILoWm++B4D01WzcwXEZQUv9wDVn2shEzL4GhVnjdCfXS5oEFV/9SIoNDQ/zHAiJkTu6GPbThfdzNuvm+giU/29NtRI3Fhp2mVqaW2CLrTeDYYkMmHZBhWilaU8eEa554dQmKhSRqYLUiyHDFyOptkKR79Zl7cLhgwpICwxKMwCoqlSDyeHyosW506XRumzcfvXo1WxNZiAePS3QAeD0Y8IhfxyS0promyp1EZoffRZWh/9ICfRsuJg4W6lHilhxMzEmaxO8+8qaGB4j4MnLCykvJ6+JkyjmwUMCheishA/mGTFH8r7u/R4G9t8TrSaMCF0nvXuBB3LfY6cu48BFc1tCijEat6dlapkhr+khG1SgkqRS0sJhvg0ddfPojLGRJgKX2cNfBzjO+O+XWyrLDqE99wKsZ43KuIuiAPDzNZl36LTJWF8d0/BwmdyE8AJZkLYN3NsXd/KW6qMuyL4nJMU0Fx6bOmEm3Gnxy6YrEeXIHxGKQOnL9BSDD0Z5S6yeDmxGVdOnURfkN/vC6L6UdvX+GmCsJNanm0IAU9M2tppDeRpuHxZAsolEI1fuyq9rzKLogRPeLawVsts0p2oBqXZZxkqgqpIbtlti2FLpZQPChB8GOefWtdbZfe4ahUBw1KE3j1jLglnH8HuLHj/csGQ/k8UoAwe0XlXwMy5R4RdEmFntwtTwKjiW0DDq8u2nuJqzgdohczybUA/gPrwPbnQbfRo7TVes3Bo0xIN0SYUIfA+Uxb8xccWAM8IEs4GTVujdeBpE2b8Al0yVzvTFvzFNRRI/1YhWmPdKPC+reIR4czbP4br7cu+j6G0RafB+7YEiuUp3GWZSX+k09M3V0Hog0xr1a9vpnhWPJAgnDJnCPkU7rigB76lJVR3Gvd66TI1BaTB1VR2rhY9MGqLWeo3OvFrUlL6rBFhldXHqGr7jgTty/C+YtlZuKJ36FRUVFRUVFRUVFRUVFRUVFRUVPwf2IH0QsKW+70AAAAASUVORK5CYII=",Z7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAiZSURBVHgB7Z1NbBRlGMefd3YLCKJbPi5wWQ+Ej0pYEjDGCwWjV9poMSYi5QoxwM2ICe1BgyeoiVzbqomBkpRePKndkwchYUnsB+FgPdALyBaQCt2deXyeWVbL7MzO1zvvzHbnlzTb7s5uZ5//+/6f92veAUhJSUlJaVcEJJgd4+V8pgLdIIw9KCAHKAqAkBMa5JAelx8rBCygAQv0OEevLYDAW2hoJY3+njrSWYKEkigBuq6UCxTsbjqtw3RmBWuQg8LikHAkAk4AasUkCRK7AK+PlbsNgAOA2E9nkwcVUK0QiNc6stpQqbdzDmIkNgF2Xy33GIinEMhiYoQCUAQ0RqeObBqBGFAqQGG8nFuqwikh8LQse5EG1wrDGFQthDIBuq7c70dNO0denIcko1iIyAUoUGKtCLwQt9X4hQJT6siK3qhzhAYRsmusfG5J4M1WCz5D51xYquIf/B0gQiKpAeT1+UoVh1sx8LaQLa3KiINR1AbpNYCblRW9NUu9I5S3lnSc3Hm53AOSkSoAV1cDcDJxLRwZkAhCw3HZliTNgmonhgPQFoiB6b7OQZCAFAFoCGEYBfVk2wjqy4xMvb/xOIQktADtGPw6MkQIlQPYdto1+Ayi6A+bEwLXgPbyfDeC54RAAuy8fL9HaNo4pPyHBuLg732dRfCJbwG4k8Vt4sSP6ahnYVVW7PXbWfOdA9LgO5Lj3j/4xJcApu+nwXeEe/+7xv4a8PMezxZkWg8NTkGKKwLFXq/Tnp5rAFWvNOl6hYbfvR7qSQBzMoUqAaR4gq2IY+blWE8CmDNZKb7gmPEUrNtxrgKYSqaJ1z88hF01Trsd5ipAWvrDIE65HdFUgLT0hya3m0YNmh3QvAYI7RikhMLQtKa1wLEfsBLb/fs3Z+GNzR3m4/ZcBl7pEHB30YCJuSX4ZvofiIpm40RZpzct6ZxAEr121xMc7Le3rILD+VVmwK1sXavBiV1rIhXAAF7vCkW717LObxOHoUXhQB/dtgZ6KOhb1ka68sYbQrCVD9i+ZPdk13i5gFW8CS0EB51LOZd2LvV+eFxBeHNiAaLEaXjC/kyr5hJxaAXcLMYL808MiBrDXHYPHgVIuP3ULebQlg7YQck0LHcXdYgarRbTi9bn7QUQwFeiJA4u7Sd3veTbYtyYWYheAKextIZv8tz/E7Owql7aP9q2OrDFuHFbgQBEji+5mrXMmDUIoOl6Xof4Ww5RlXY7HlXUVPeMoXfTw8jy5xq+nc4XwsUENxl786sDl3ZuzZy/tQi/3K3A8IH1nvODohoAqDfGtrF4CbFHpf9zoPdRKf+YbCZoaefAf3vnKXx/55lZmk9Sx8pr8Pm9qmoAaNqr1qcavrFAyKk4nfqwQFhv/+1eFT6//sQcUmA4+CfIurwyo6j0M8JA9xqAPPoZURcgTGfJyjwF/DMK/HUSoM6X+9aZn++H2woFQK1x1XhjDahdBC0VGZ2lOla7Yfgzv37r5UCiXr9XAWWgBwFkre2XWdrrWO2G4cG04e715mMQlPl/DXcBwiKztNexsxsmbPAZ62eqRpoAHIQv9q+T2m63s5s6/H/YdsKIrNL/nZAWrbAl0Yqd3dQ5Si2nT/eshbCoGANyozEJ864jAfIAjyjKEIDt5nxpEX6et0+OfpuZzZhRXwMaxrwbk7DBW734F+CTX/82Syb3ZINOgnxHVnOJZqacEmOQZmYzlPu/8CCAWQPAP+zXl6afmj/cC2WPPkTJeCf9vt7Fp9luvqIhhFmHEsk+72dowSsq5gGWQ53cOetzDQIYgLcEhBsP4kDyD5dohsXg4LFFbc9lYes6DR4vodkGZ6tpVhJltHTs4AJjl1+ihKz9ofU52xogeyyIAxykukcVfGYmjhaQwIYZsYZvRuMVidlNKqrgM3E0QTOG5i6ArmeKkAA48FEFn1E6BPEcQzTmgIZvOPth55ywydaqYX++NrcEUTGv2P+JBbtVEfZFDCERNnT2xpNIFkxxAladAwTYx9ShjuMEJARu1r7740OpJTaOBGw4xNRegKxWhATBdvQOicDTjTKEiCMBa2gfU1sBpnrJq2w6DXHD/Yr+4mPKDc8gDMoTMDpvHuvczBA4CgmEa8PZG4tmfghaG9QnYGdL15xfSJYNWeEWEtuS3yQdRwI2dO2i02uOAvB6duGwpDpJ1JO0V1uKofVT5Ka90+tNezqaEEPQAtRt6b2fHrnay8Sf4fKHb1A0tXLX6aSuqw/KrbYHHF9wcdJmzmD+eWtKGZR8p49seK3ZIe5XSSK2RC1YznJbqtcIHp3lOQuV0KjyoPsxLpj7PVfwprKdzVcKHko/41oDSr2dC16UTHkRrzHzvKSga+zB5IrajDVaStN9G/Z6OdD7eC+KM5DiCaMqer0e61mAWlcaUytyBQebtfut+F7VlFpREzwm3uX4nnLSq+J4EiZsEgcF39DFQfCJbwHMGTP07nHtAlKO9GM9dQJNutb2PUjzwf/g4MwHndcgAKGWL9d2CBRtvp8QDk73bRyAgITfvHvs/ghCe25rIwBHp/o29kMI5Gxf34YiyAg+I2XhzVTfpv72ygk4KCP4jNTL8dojJ4TzfCvSr4fkWxTqBl5YaaOnFCgelOwNskO6y+fKZ8cP5byWwcmVIgJPK3IHNEg738NnR8fKsCS5lmMl8l2ZuDZksjjealsf1+6yKs5Efe9hZdtidV0p9yPgucTbEo3p8GQKBX4EFKB8X7KkCsFJls5raDGrXZyjWUBQhHIB6rAQIPBYEm7obBhiKOhYjoT/Hy+cI0TGOC1q95HPgwp43avAUV79J7tZ6ZfYBVgO1YoCnVE3RYg3uCsgyFmPJGrX51IyFRMU/GLUidUPiRLACguiaZDX0SjwRlLmXkZ8U01h7mn0gjimhyN1lvgyW4ElNOAhlfCS3gHF2YhvypySkpKSkhKEfwFfN9pE8udgbAAAAABJRU5ErkJggg==",eq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbRSURBVHgB7VxbbBVVFN1WsT6CImpQqnLFxChqEBWtBiX4QUwkfKgUH/gg/qkQweLzCwz6YaOJFCT8qFFDqp+KxEal+IExxlcE8YEWA8Qq4iNa36XuxXDhdN07Z+6ceZ2W2clKeu/s2Xvf1Zkz++yzz4iUUkopw1gOsxw7VjFLcY3ipAjdkSq/KroU3Yq/4pw4TfGVYrDEPmxTXC4NyhWKf0UKD9o3/Km4UiKkWfGtB8H6io8kGNoOSBMReK3iDCklTC5UzDS/YALnSClRMtX8wAQeJ6VEyUTzQ5OUEleaQj+UEl9KAhPKEeIm6xUrxV3uUNwg+ctuxd2KP4zvrlLcLynJOmksH/pFMVncZZziRxEZzBE/KS6lOCqKPTHtvCwWaZRA4DOhpDKmXK34R+IF74p+xTzy36LodbCVGoHAcjofY+pkC1hWOPwAF/AtinRts6OtVAncK8GVZMrbFv1FpDtK8XVMn3GxlHzin/xmAnupEgj0SXA7VAWJ5g8hugOKi8jnBYrfHfw2ghelNtNYk9Bm6gRWAzXldosurrjDSf8+R782bKpD3rIU7GZCIHAT2XrGottJuijWbkzgm/GN4gTysTAl25kRiHRgkmFrrOILi/515LsiQXqU9Aci1zubbM9W/J2C7UwJBHAVjTLstSr+s/zQceR/rgQPJlf/vynOIZsoQfUnsJkrgUA72bSNb911Yuhy9IuK8fVk61Rxy/UKJRC3YathEw8MW9rAqc0YxXYHv2znZMWnDnYKJxD4fD8RVcGY1Beii1v2MooDCzhx1mUepPORKCfJ9QonEFhGtudZdLcojiT9pxr0gye6ma7g71UJY/eCQGAW2e+06K4iXSxwfRxh/3WprSgtTyFubwj8TjHesD9a7FO3GymesyT8CfqJ1BYzHkgxdi8IBF4gH60WXZScTiP99jp6vRLkjaYkTYG8JRCYT34WWXQx+JttJBjT3jKO10uUL5H0EmUvCUTx9HzDDwjqsejfS3Ehn9slQf1wGh2rKL7PKG5vCAQwSzEH/AkS3LJh+ly1wS16F30HYrdlGLNXBAI8S7GlNphHH2OJFcc+zDhe7wjEvLiVfNrqc0+HxIlx8bmMY/WSQABrKWYHxNESzFzC9G+uE+cTOcTZEIFFrAufK0PXUlAEuNOi3yG1KYu3zZ55XIFVcNJsq9pgxmH+szFLeTfHWEOvwCIJRFoynvz3WPS52lKRoAX3kCUQ6CL/IDRsoRs54MWkvyTneL0jEFhAMcy16KK+N5r0X8o5Xu8IRBl+EsWx2qK/gnRx1e7IMV7vCATek6GzFPxt69Xm1KZN8ikk1BDoS3vbZvqMhBvdW4Mh+k/K0F5u/KjV4oEUcQViAfyokHgWW857jXSRkG/JIV6vbmHMSo6nGLjC/Ibl/MWki/a1rPe4eEMgxrgK+ccuAe5aQFV6d4gNkMU7iDoyjtsLApHT8QL4FDlY3rqNjrVZbKFqw6X97gxjL5xAPCB4AbwiQ5c9kZbwLCVO1eY8CdKjEUngI+QT7R31Fpr4IRG1IMU91wtSjtsLAh+v47PHor+EdDHeDYTooiPiFNJfm0LM3hC4hnyhJLUy4hyQwmNlu0V/Hemi5J/2LKUQAmGXB/qlDZ6LshWnOraHBKc2sxPE7QWBeEqOJT9xmx076HwUZcNW4jClm0r6nQ5xe0FgrwSrb6bMkfjzVuR708nOrRF+zYQcC1CuXfmFEYhi50Syj2ZH14ZyzFrGkD3bGMo7qbCYNeDoO3cCEegMsn2mBFXoJHbXkk0QutWiz/lme0L/uRG4kOxWJL1OUd5xZJv/Yk8cpzYbEvrPnMBHySZ6pjelYLeKXXVIsS1IrSddPICS7NPLlMDOOjZfSWizHrAbipsqbakNL0jNT+A7MwLRVdVM9rJsduR8Dw+sny363JT0vKPfTAj8QIKmblOymotW0S/B7WiKrdcGT3GzjRjFCpeHWuoEIlE+nezc4mDHBWgB5lmKbQcotxHPcPA5hEDXHetV2SlBH/QO4zvMApLsZo8j2EKLYeIe47uHJOjaCmv/wPJB9T1YGxSPKR6WlCTOFYhcjxe6MQ71Sfz/ahKgODtd3AVz9K0x/KVyC4O8Njp3ggRX5GAB6FWcKO6CMlmj+/RSuYXf2W/MfNMR9oW0SDFSkaCZ/VlxF6xNz5SEUtTC+nCClwvrw1ZKAhMKEzggpUTJXvMDE7hHSomSneYHJvBVKSVKNtoOIqksXz4bDjQvNUuEoMWifAltLbCboOH3hWHt4kuRwoP2BZhbT6lHlG2/BUo/eCktXv3bIofei7jRw7Nd8b4Exdp+KaWUUkaa/A+q3osQ3mz71gAAAABJRU5ErkJggg==";var df={},tq=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},O2={},qr={};let Cw;const rq=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];qr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};qr.getSymbolTotalCodewords=function(e){return rq[e]};qr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};qr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Cw=e};qr.isKanjiModeEnabled=function(){return typeof Cw<"u"};qr.toSJIS=function(e){return Cw(e)};var ug={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(ug);function _2(){this.buffer=[],this.length=0}_2.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var nq=_2;function pf(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}pf.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};pf.prototype.get=function(t,e){return this.data[t*this.size+e]};pf.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};pf.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var iq=pf,M2={};(function(t){const e=qr.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,o=e(n),a=o===145?26:Math.ceil((o-13)/(2*i-2))*2,s=[o-7];for(let l=1;l<i-1;l++)s[l]=s[l-1]-a;return s.push(6),s.reverse()},t.getPositions=function(n){const i=[],o=t.getRowColCoords(n),a=o.length;for(let s=0;s<a;s++)for(let l=0;l<a;l++)s===0&&l===0||s===0&&l===a-1||s===a-1&&l===0||i.push([o[s],o[l]]);return i}})(M2);var A2={};const oq=qr.getSymbolSize,bk=7;A2.getPositions=function(e){const r=oq(e);return[[0,0],[r-bk,0],[0,r-bk]]};var D2={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let a=0,s=0,l=0,u=null,c=null;for(let f=0;f<o;f++){s=l=0,u=c=null;for(let d=0;d<o;d++){let p=i.get(f,d);p===u?s++:(s>=5&&(a+=e.N1+(s-5)),u=p,s=1),p=i.get(d,f),p===c?l++:(l>=5&&(a+=e.N1+(l-5)),c=p,l=1)}s>=5&&(a+=e.N1+(s-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(i){const o=i.size;let a=0;for(let s=0;s<o-1;s++)for(let l=0;l<o-1;l++){const u=i.get(s,l)+i.get(s,l+1)+i.get(s+1,l)+i.get(s+1,l+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const o=i.size;let a=0,s=0,l=0;for(let u=0;u<o;u++){s=l=0;for(let c=0;c<o;c++)s=s<<1&2047|i.get(u,c),c>=10&&(s===1488||s===93)&&a++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let o=0;const a=i.data.length;for(let l=0;l<a;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/a/5)-10)*e.N4};function r(n,i,o){switch(n){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,o){const a=o.size;for(let s=0;s<a;s++)for(let l=0;l<a;l++)o.isReserved(l,s)||o.xor(l,s,r(i,l,s))},t.getBestMask=function(i,o){const a=Object.keys(t.Patterns).length;let s=0,l=1/0;for(let u=0;u<a;u++){o(u),t.applyMask(u,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),c<l&&(l=c,s=u)}return s}})(D2);var cg={};const eo=ug,td=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rd=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];cg.getBlocksCount=function(e,r){switch(r){case eo.L:return td[(e-1)*4+0];case eo.M:return td[(e-1)*4+1];case eo.Q:return td[(e-1)*4+2];case eo.H:return td[(e-1)*4+3];default:return}};cg.getTotalCodewordsCount=function(e,r){switch(r){case eo.L:return rd[(e-1)*4+0];case eo.M:return rd[(e-1)*4+1];case eo.Q:return rd[(e-1)*4+2];case eo.H:return rd[(e-1)*4+3];default:return}};var R2={},fg={};const Xu=new Uint8Array(512),Kp=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)Xu[r]=e,Kp[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)Xu[r]=Xu[r-255]})();fg.log=function(e){if(e<1)throw new Error("log("+e+")");return Kp[e]};fg.exp=function(e){return Xu[e]};fg.mul=function(e,r){return e===0||r===0?0:Xu[Kp[e]+Kp[r]]};(function(t){const e=fg;t.mul=function(n,i){const o=new Uint8Array(n.length+i.length-1);for(let a=0;a<n.length;a++)for(let s=0;s<i.length;s++)o[a+s]^=e.mul(n[a],i[s]);return o},t.mod=function(n,i){let o=new Uint8Array(n);for(;o.length-i.length>=0;){const a=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],a);let s=0;for(;s<o.length&&o[s]===0;)s++;o=o.slice(s)}return o},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let o=0;o<n;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(R2);const P2=R2;function kw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}kw.prototype.initialize=function(e){this.degree=e,this.genPoly=P2.generateECPolynomial(this.degree)};kw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=P2.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(n,i),o}return n};var aq=kw,N2={},Po={},Tw={};Tw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ai={};const I2="[0-9]+",sq="[A-Z $%*+\\-./:]+";let Rc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Rc=Rc.replace(/u/g,"\\u");const lq="(?:(?![A-Z0-9 $%*+\\-./:]|"+Rc+`)(?:.|[\r
]))+`;ai.KANJI=new RegExp(Rc,"g");ai.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ai.BYTE=new RegExp(lq,"g");ai.NUMERIC=new RegExp(I2,"g");ai.ALPHANUMERIC=new RegExp(sq,"g");const uq=new RegExp("^"+Rc+"$"),cq=new RegExp("^"+I2+"$"),fq=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ai.testKanji=function(e){return uq.test(e)};ai.testNumeric=function(e){return cq.test(e)};ai.testAlphanumeric=function(e){return fq.test(e)};(function(t){const e=Tw,r=ai;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,a){if(t.isValid(o))return o;try{return n(o)}catch{return a}}})(Po);(function(t){const e=qr,r=cg,n=ug,i=Po,o=Tw,a=7973,s=e.getBCHDigit(a);function l(d,p,h){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,h,d))return g}function u(d,p){return i.getCharCountIndicator(d,p)+4}function c(d,p){let h=0;return d.forEach(function(g){const m=u(g.mode,p);h+=m+g.getBitsLength()}),h}function f(d,p){for(let h=1;h<=40;h++)if(c(d,h)<=t.getCapacity(h,p,i.MIXED))return h}t.from=function(p,h){return o.isValid(p)?parseInt(p,10):h},t.getCapacity=function(p,h,g){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const m=e.getSymbolTotalCodewords(p),v=r.getTotalCodewordsCount(p,h),b=(m-v)*8;if(g===i.MIXED)return b;const w=b-u(g,p);switch(g){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(p,h){let g;const m=n.from(h,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,m);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),m)},t.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let h=p<<12;for(;e.getBCHDigit(h)-s>=0;)h^=a<<e.getBCHDigit(h)-s;return p<<12|h}})(N2);var L2={};const by=qr,B2=1335,dq=21522,wk=by.getBCHDigit(B2);L2.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;by.getBCHDigit(i)-wk>=0;)i^=B2<<by.getBCHDigit(i)-wk;return(n<<10|i)^dq};var z2={};const pq=Po;function il(t){this.mode=pq.NUMERIC,this.data=t.toString()}il.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};il.prototype.getLength=function(){return this.data.length};il.prototype.getBitsLength=function(){return il.getBitsLength(this.data.length)};il.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,o*3+1))};var hq=il;const gq=Po,Gm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ol(t){this.mode=gq.ALPHANUMERIC,this.data=t}ol.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ol.prototype.getLength=function(){return this.data.length};ol.prototype.getBitsLength=function(){return ol.getBitsLength(this.data.length)};ol.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Gm.indexOf(this.data[r])*45;n+=Gm.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Gm.indexOf(this.data[r]),6)};var mq=ol,vq=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319&&n>i+1){var a=e.charCodeAt(i+1);a>=56320&&a<=57343&&(o=(o-55296)*1024+a-56320+65536,i+=1)}if(o<128){r.push(o);continue}if(o<2048){r.push(o>>6|192),r.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128);continue}if(o>=65536&&o<=1114111){r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const yq=vq,bq=Po;function al(t){this.mode=bq.BYTE,typeof t=="string"&&(t=yq(t)),this.data=new Uint8Array(t)}al.getBitsLength=function(e){return e*8};al.prototype.getLength=function(){return this.data.length};al.prototype.getBitsLength=function(){return al.getBitsLength(this.data.length)};al.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var wq=al;const Sq=Po,xq=qr;function sl(t){this.mode=Sq.KANJI,this.data=t}sl.getBitsLength=function(e){return e*13};sl.prototype.getLength=function(){return this.data.length};sl.prototype.getBitsLength=function(){return sl.getBitsLength(this.data.length)};sl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=xq.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Eq=sl,F2={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var o={},a={};a[n]=0;var s=e.PriorityQueue.make();s.push(n,0);for(var l,u,c,f,d,p,h,g,m;!s.empty();){l=s.pop(),u=l.value,f=l.cost,d=r[u]||{};for(c in d)d.hasOwnProperty(c)&&(p=d[c],h=f+p,g=a[c],m=typeof a[c]>"u",(m||g>h)&&(a[c]=h,s.push(c,h),o[c]=u))}if(typeof i<"u"&&typeof a[i]>"u"){var v=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(v)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],o=n;o;)i.push(o),r[o],o=r[o];return i.reverse(),i},find_path:function(r,n,i){var o=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(F2);var Cq=F2.exports;(function(t){const e=Po,r=hq,n=mq,i=wq,o=Eq,a=ai,s=qr,l=Cq;function u(v){return unescape(encodeURIComponent(v)).length}function c(v,b,w){const y=[];let x;for(;(x=v.exec(w))!==null;)y.push({data:x[0],index:x.index,mode:b,length:x[0].length});return y}function f(v){const b=c(a.NUMERIC,e.NUMERIC,v),w=c(a.ALPHANUMERIC,e.ALPHANUMERIC,v);let y,x;return s.isKanjiModeEnabled()?(y=c(a.BYTE,e.BYTE,v),x=c(a.KANJI,e.KANJI,v)):(y=c(a.BYTE_KANJI,e.BYTE,v),x=[]),b.concat(w,y,x).sort(function(C,E){return C.index-E.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function d(v,b){switch(b){case e.NUMERIC:return r.getBitsLength(v);case e.ALPHANUMERIC:return n.getBitsLength(v);case e.KANJI:return o.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function p(v){return v.reduce(function(b,w){const y=b.length-1>=0?b[b.length-1]:null;return y&&y.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function h(v){const b=[];for(let w=0;w<v.length;w++){const y=v[w];switch(y.mode){case e.NUMERIC:b.push([y,{data:y.data,mode:e.ALPHANUMERIC,length:y.length},{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.ALPHANUMERIC:b.push([y,{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.KANJI:b.push([y,{data:y.data,mode:e.BYTE,length:u(y.data)}]);break;case e.BYTE:b.push([{data:y.data,mode:e.BYTE,length:u(y.data)}])}}return b}function g(v,b){const w={},y={start:{}};let x=["start"];for(let S=0;S<v.length;S++){const C=v[S],E=[];for(let k=0;k<C.length;k++){const T=C[k],A=""+S+k;E.push(A),w[A]={node:T,lastCount:0},y[A]={};for(let O=0;O<x.length;O++){const _=x[O];w[_]&&w[_].node.mode===T.mode?(y[_][A]=d(w[_].lastCount+T.length,T.mode)-d(w[_].lastCount,T.mode),w[_].lastCount+=T.length):(w[_]&&(w[_].lastCount=T.length),y[_][A]=d(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,b))}}x=E}for(let S=0;S<x.length;S++)y[x[S]].end=0;return{map:y,table:w}}function m(v,b){let w;const y=e.getBestModeForData(v);if(w=e.from(b,y),w!==e.BYTE&&w.bit<y.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(y));switch(w===e.KANJI&&!s.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new r(v);case e.ALPHANUMERIC:return new n(v);case e.KANJI:return new o(v);case e.BYTE:return new i(v)}}t.fromArray=function(b){return b.reduce(function(w,y){return typeof y=="string"?w.push(m(y,null)):y.data&&w.push(m(y.data,y.mode)),w},[])},t.fromString=function(b,w){const y=f(b,s.isKanjiModeEnabled()),x=h(y),S=g(x,w),C=l.find_path(S.map,"start","end"),E=[];for(let k=1;k<C.length-1;k++)E.push(S.table[C[k]].node);return t.fromArray(p(E))},t.rawSplit=function(b){return t.fromArray(f(b,s.isKanjiModeEnabled()))}})(z2);const dg=qr,qm=ug,kq=nq,Tq=iq,Oq=M2,_q=A2,wy=D2,Sy=cg,Mq=aq,Yp=N2,Aq=L2,Dq=Po,Km=z2;function Rq(t,e){const r=t.size,n=_q.getPositions(e);for(let i=0;i<n.length;i++){const o=n[i][0],a=n[i][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||r<=o+s))for(let l=-1;l<=7;l++)a+l<=-1||r<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?t.set(o+s,a+l,!0,!0):t.set(o+s,a+l,!1,!0))}}function Pq(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Nq(t,e){const r=Oq.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],o=r[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?t.set(i+a,o+s,!0,!0):t.set(i+a,o+s,!1,!0)}}function Iq(t,e){const r=t.size,n=Yp.getEncodedBits(e);let i,o,a;for(let s=0;s<18;s++)i=Math.floor(s/3),o=s%3+r-8-3,a=(n>>s&1)===1,t.set(i,o,a,!0),t.set(o,i,a,!0)}function Ym(t,e,r){const n=t.size,i=Aq.getEncodedBits(e,r);let o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(n-15+o,8,a,!0),o<8?t.set(8,n-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(n-8,8,1,!0)}function Lq(t,e){const r=t.size;let n=-1,i=r-1,o=7,a=0;for(let s=r-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,s-l)){let u=!1;a<e.length&&(u=(e[a]>>>o&1)===1),t.set(i,s-l,u),o--,o===-1&&(a++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Bq(t,e,r){const n=new kq;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Dq.getCharCountIndicator(l.mode,t)),l.write(n)});const i=dg.getSymbolTotalCodewords(t),o=Sy.getTotalCodewordsCount(t,e),a=(i-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const s=(a-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return zq(n,t,e)}function zq(t,e,r){const n=dg.getSymbolTotalCodewords(e),i=Sy.getTotalCodewordsCount(e,r),o=n-i,a=Sy.getBlocksCount(e,r),s=n%a,l=a-s,u=Math.floor(n/a),c=Math.floor(o/a),f=c+1,d=u-c,p=new Mq(d);let h=0;const g=new Array(a),m=new Array(a);let v=0;const b=new Uint8Array(t.buffer);for(let C=0;C<a;C++){const E=C<l?c:f;g[C]=b.slice(h,h+E),m[C]=p.encode(g[C]),h+=E,v=Math.max(v,E)}const w=new Uint8Array(n);let y=0,x,S;for(x=0;x<v;x++)for(S=0;S<a;S++)x<g[S].length&&(w[y++]=g[S][x]);for(x=0;x<d;x++)for(S=0;S<a;S++)w[y++]=m[S][x];return w}function Fq(t,e,r,n){let i;if(Array.isArray(t))i=Km.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const c=Km.rawSplit(t);u=Yp.getBestVersionForData(c,r)}i=Km.fromString(t,u||40)}else throw new Error("Invalid data");const o=Yp.getBestVersionForData(i,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const a=Bq(e,r,i),s=dg.getSymbolSize(e),l=new Tq(s);return Rq(l,e),Pq(l),Nq(l,e),Ym(l,r,0),e>=7&&Iq(l,e),Lq(l,a),isNaN(n)&&(n=wy.getBestMask(l,Ym.bind(null,l,r))),wy.applyMask(n,l),Ym(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}O2.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=qm.M,i,o;return typeof r<"u"&&(n=qm.from(r.errorCorrectionLevel,qm.M),i=Yp.from(r.version),o=wy.from(r.maskPattern),r.toSJISFunc&&dg.setToSJISFunction(r.toSJISFunc)),Fq(e,i,n,o)};var j2={},Ow={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:o,scale:o?4:a,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const o=t.getScale(n,i);return Math.floor((n+i.margin*2)*o)},t.qrToImageData=function(n,i,o){const a=i.modules.size,s=i.modules.data,l=t.getScale(a,o),u=Math.floor((a+o.margin*2)*l),c=o.margin*l,f=[o.color.light,o.color.dark];for(let d=0;d<u;d++)for(let p=0;p<u;p++){let h=(d*u+p)*4,g=o.color.light;if(d>=c&&p>=c&&d<u-c&&p<u-c){const m=Math.floor((d-c)/l),v=Math.floor((p-c)/l);g=f[s[m*a+v]?1:0]}n[h++]=g.r,n[h++]=g.g,n[h++]=g.b,n[h]=g.a}}})(Ow);(function(t){const e=Ow;function r(i,o,a){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,a,s){let l=s,u=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(u=n()),l=e.getOptions(l);const c=e.getImageWidth(o.modules.size,l),f=u.getContext("2d"),d=f.createImageData(c,c);return e.qrToImageData(d.data,o,l),r(f,u,c),f.putImageData(d,0,0),u},t.renderToDataURL=function(o,a,s){let l=s;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const u=t.render(o,a,l),c=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(c,f.quality)}})(j2);var H2={};const jq=Ow;function Sk(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Xm(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Hq(t,e,r){let n="",i=0,o=!1,a=0;for(let s=0;s<t.length;s++){const l=Math.floor(s%e),u=Math.floor(s/e);!l&&!o&&(o=!0),t[s]?(a++,s>0&&l>0&&t[s-1]||(n+=o?Xm("M",l+r,.5+u+r):Xm("m",i,0),i=0,o=!1),l+1<e&&t[s+1]||(n+=Xm("h",a),a=0)):i++}return n}H2.render=function(e,r,n){const i=jq.getOptions(r),o=e.modules.size,a=e.modules.data,s=o+i.margin*2,l=i.color.light.a?"<path "+Sk(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+Sk(i.color.dark,"stroke")+' d="'+Hq(a,o,i.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof n=="function"&&n(null,d),d};const Uq=tq,xy=O2,U2=j2,$q=H2;function _w(t,e,r,n,i){const o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!Uq())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=r,r=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=n=void 0):a===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,u){try{const c=xy.create(r,n);l(t(c,e,n))}catch(c){u(c)}})}try{const l=xy.create(r,n);i(null,t(l,e,n))}catch(l){i(l)}}df.create=xy.create;df.toCanvas=_w.bind(null,U2.render);df.toDataURL=_w.bind(null,U2.renderToDataURL);df.toString=_w.bind(null,function(t,e,r){return $q.render(t,r)});const Vq="_copyBtn_qnukv_1",Wq="_xShareImg_qnukv_7",Gq="_telegramShareImg_qnukv_14",Jm={copyBtn:Vq,xShareImg:Wq,telegramShareImg:Gq};function $2(t){const{isOpen:e,title:r,url:n,originalUrl:i,onClose:o}=t,[a,s]=U.useState(),{t:l}=yl(),u=U.useMemo(()=>{if(!i)return n;const d=new URL(i);if(!d.pathname)return n;const p=d.pathname.split("/").filter(h=>h!=="");return p.length===0?n:n+"/"+p[p.length-1]},[n,i]);U.useEffect(()=>{!u||!e||df.toDataURL(u,{margin:0}).then(d=>{s(d)})},[u,e,s]);const c=U.useMemo(()=>{let d="";r&&(d=`${r} `),n&&(d+=`${u}`);const p=encodeURIComponent(d);return[{icon:Q7,name:"微博",onClick:()=>{window.open(`https://service.weibo.com/share/share.php?url=${p}`)}},{icon:eq,name:"Twitter",onClick:()=>{window.open(`https://twitter.com/intent/tweet?text=${p}`)}},{icon:Z7,name:"Telegram",onClick:()=>{window.open(`https://t.me/share/url?url=${p}`)}}]},[u]),f=U.useCallback(()=>{const d=document.createElement("input");d.value=u,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),Dt.success(l("copySuccess"))},[u]);return X.jsx(TD,{...t,children:X.jsxs("div",{className:"flex flex-col items-center p-4 w-72",children:[X.jsxs("div",{className:"flex",children:[X.jsx("img",{src:J7,className:" w-8 h-8"}),X.jsx("div",{className:" text-2xl text-black font-bold ml-3",children:l("publish.success")})]}),X.jsx("div",{className:"mt-8 w-36 h-36",children:X.jsx("img",{src:a,className:"w-36 h-36"})}),X.jsx("div",{className:"text-sm mt-4",children:l("scanToRead")}),X.jsxs("div",{className:" mt-3 relative",children:[X.jsx("a",{href:u,target:"_blank",style:{maxWidth:240,color:"#0083E2"},className:" text-sm truncate underline",children:t.url}),X.jsx("div",{className:qp("p-3","cursor-pointer",Jm.copyBtn),children:X.jsx("img",{src:X7,onClick:f})})]}),X.jsx("div",{className:"text-sm pl-4 self-start mt-9 text-gray-700",children:l("publish.shareTo")}),X.jsx("div",{className:"flex mt-4 w-full",children:c.map((d,p)=>X.jsxs("div",{className:"flex flex-1 flex-col items-center cursor-pointer",onClick:d.onClick,children:[X.jsx("img",{src:d.icon,className:qp("w-12","h-12",{[Jm.xShareImg]:p===1,[Jm.telegramShareImg]:p===2})}),X.jsx("div",{className:" mt-1 text-gray-500 text-sm",children:d.name})]},d.name))})]})})}const qq="_content_1kck6_7",Qm={"page-container":"_page-container_1kck6_1",content:qq,"publish-btn":"_publish-btn_1kck6_11"};var V2={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(iu,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",p="year",h="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var M=["th","st","nd","rd"],L=N%100;return"["+N+(M[(L-20)%10]||M[L]||M[0])+"]"}},w=function(N,M,L){var I=String(N);return!I||I.length>=M?N:""+Array(M+1-I.length).join(L)+N},y={s:w,z:function(N){var M=-N.utcOffset(),L=Math.abs(M),I=Math.floor(L/60),R=L%60;return(M<=0?"+":"-")+w(I,2,"0")+":"+w(R,2,"0")},m:function N(M,L){if(M.date()<L.date())return-N(L,M);var I=12*(L.year()-M.year())+(L.month()-M.month()),R=M.clone().add(I,f),z=L-R<0,j=M.clone().add(I+(z?-1:1),f);return+(-(I+(L-R)/(z?R-j:j-R))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:f,y:p,w:c,d:u,D:h,h:l,m:s,s:a,ms:o,Q:d}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},x="en",S={};S[x]=b;var C="$isDayjsObject",E=function(N){return N instanceof O||!(!N||!N[C])},k=function N(M,L,I){var R;if(!M)return x;if(typeof M=="string"){var z=M.toLowerCase();S[z]&&(R=z),L&&(S[z]=L,R=z);var j=M.split("-");if(!R&&j.length>1)return N(j[0])}else{var D=M.name;S[D]=M,R=D}return!I&&R&&(x=R),R||!I&&x},T=function(N,M){if(E(N))return N.clone();var L=typeof M=="object"?M:{};return L.date=N,L.args=arguments,new O(L)},A=y;A.l=k,A.i=E,A.w=function(N,M){return T(N,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var O=function(){function N(L){this.$L=k(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[C]=!0}var M=N.prototype;return M.parse=function(L){this.$d=function(I){var R=I.date,z=I.utc;if(R===null)return new Date(NaN);if(A.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var j=R.match(m);if(j){var D=j[2]-1||0,$=(j[7]||"0").substring(0,3);return z?new Date(Date.UTC(j[1],D,j[3]||1,j[4]||0,j[5]||0,j[6]||0,$)):new Date(j[1],D,j[3]||1,j[4]||0,j[5]||0,j[6]||0,$)}}return new Date(R)}(L),this.init()},M.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},M.$utils=function(){return A},M.isValid=function(){return this.$d.toString()!==g},M.isSame=function(L,I){var R=T(L);return this.startOf(I)<=R&&R<=this.endOf(I)},M.isAfter=function(L,I){return T(L)<this.startOf(I)},M.isBefore=function(L,I){return this.endOf(I)<T(L)},M.$g=function(L,I,R){return A.u(L)?this[I]:this.set(R,L)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(L,I){var R=this,z=!!A.u(I)||I,j=A.p(L),D=function(he,ve){var J=A.w(R.$u?Date.UTC(R.$y,ve,he):new Date(R.$y,ve,he),R);return z?J:J.endOf(u)},$=function(he,ve){return A.w(R.toDate()[he].apply(R.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(ve)),R)},V=this.$W,W=this.$M,q=this.$D,Y="set"+(this.$u?"UTC":"");switch(j){case p:return z?D(1,0):D(31,11);case f:return z?D(1,W):D(0,W+1);case c:var te=this.$locale().weekStart||0,ee=(V<te?V+7:V)-te;return D(z?q-ee:q+(6-ee),W);case u:case h:return $(Y+"Hours",0);case l:return $(Y+"Minutes",1);case s:return $(Y+"Seconds",2);case a:return $(Y+"Milliseconds",3);default:return this.clone()}},M.endOf=function(L){return this.startOf(L,!1)},M.$set=function(L,I){var R,z=A.p(L),j="set"+(this.$u?"UTC":""),D=(R={},R[u]=j+"Date",R[h]=j+"Date",R[f]=j+"Month",R[p]=j+"FullYear",R[l]=j+"Hours",R[s]=j+"Minutes",R[a]=j+"Seconds",R[o]=j+"Milliseconds",R)[z],$=z===u?this.$D+(I-this.$W):I;if(z===f||z===p){var V=this.clone().set(h,1);V.$d[D]($),V.init(),this.$d=V.set(h,Math.min(this.$D,V.daysInMonth())).$d}else D&&this.$d[D]($);return this.init(),this},M.set=function(L,I){return this.clone().$set(L,I)},M.get=function(L){return this[A.p(L)]()},M.add=function(L,I){var R,z=this;L=Number(L);var j=A.p(I),D=function(W){var q=T(z);return A.w(q.date(q.date()+Math.round(W*L)),z)};if(j===f)return this.set(f,this.$M+L);if(j===p)return this.set(p,this.$y+L);if(j===u)return D(1);if(j===c)return D(7);var $=(R={},R[s]=n,R[l]=i,R[a]=r,R)[j]||1,V=this.$d.getTime()+L*$;return A.w(V,this)},M.subtract=function(L,I){return this.add(-1*L,I)},M.format=function(L){var I=this,R=this.$locale();if(!this.isValid())return R.invalidDate||g;var z=L||"YYYY-MM-DDTHH:mm:ssZ",j=A.z(this),D=this.$H,$=this.$m,V=this.$M,W=R.weekdays,q=R.months,Y=R.meridiem,te=function(ve,J,ue,Ae){return ve&&(ve[J]||ve(I,z))||ue[J].slice(0,Ae)},ee=function(ve){return A.s(D%12||12,ve,"0")},he=Y||function(ve,J,ue){var Ae=ve<12?"AM":"PM";return ue?Ae.toLowerCase():Ae};return z.replace(v,function(ve,J){return J||function(ue){switch(ue){case"YY":return String(I.$y).slice(-2);case"YYYY":return A.s(I.$y,4,"0");case"M":return V+1;case"MM":return A.s(V+1,2,"0");case"MMM":return te(R.monthsShort,V,q,3);case"MMMM":return te(q,V);case"D":return I.$D;case"DD":return A.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return te(R.weekdaysMin,I.$W,W,2);case"ddd":return te(R.weekdaysShort,I.$W,W,3);case"dddd":return W[I.$W];case"H":return String(D);case"HH":return A.s(D,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return he(D,$,!0);case"A":return he(D,$,!1);case"m":return String($);case"mm":return A.s($,2,"0");case"s":return String(I.$s);case"ss":return A.s(I.$s,2,"0");case"SSS":return A.s(I.$ms,3,"0");case"Z":return j}return null}(ve)||j.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(L,I,R){var z,j=this,D=A.p(I),$=T(L),V=($.utcOffset()-this.utcOffset())*n,W=this-$,q=function(){return A.m(j,$)};switch(D){case p:z=q()/12;break;case f:z=q();break;case d:z=q()/3;break;case c:z=(W-V)/6048e5;break;case u:z=(W-V)/864e5;break;case l:z=W/i;break;case s:z=W/n;break;case a:z=W/r;break;default:z=W}return R?z:A.a(z)},M.daysInMonth=function(){return this.endOf(f).$D},M.$locale=function(){return S[this.$L]},M.locale=function(L,I){if(!L)return this.$L;var R=this.clone(),z=k(L,I,!0);return z&&(R.$L=z),R},M.clone=function(){return A.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},N}(),_=O.prototype;return T.prototype=_,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",u],["$M",f],["$y",p],["$D",h]].forEach(function(N){_[N[1]]=function(M){return this.$g(M,N[0],N[1])}}),T.extend=function(N,M){return N.$i||(N(M,O,T),N.$i=!0),T},T.locale=k,T.isDayjs=E,T.unix=function(N){return T(1e3*N)},T.en=S[x],T.Ls=S,T.p={},T})})(V2);var Kq=V2.exports;const Yq=cl(Kq);function Xq(t,e){const{url:r}=e;let i=new DOMParser().parseFromString(t,"text/html"),o=i.querySelector("[data-testid='cellInnerDiv']");const a=o.querySelector("[data-testid='tweetText']");let s=o.querySelector(xo())||i.querySelector("title");const l=o.querySelector("[data-testid='videoPlayer']");let u;l||(u=o.querySelector("[data-testid='tweetPhoto']")||void 0);const c=o.querySelector("[data-testid='User-Name']"),f=c==null?void 0:c.children[0],d=c==null?void 0:c.children[1];let p=f.innerText,h=d.innerText,g="";if(s){const y=s.innerText.split(`
`).filter(x=>x.trim());y.length>0&&(g=y[0])}g.length>64&&(g=g.slice(0,64)+"..."),g=`${p}: "${g}"`;const m=o.querySelector("time"),v=m==null?void 0:m.getAttribute("datetime"),b=Yq(new Date(v)).format("MMM D, YYYY"),w=((a==null?void 0:a.innerHTML)||"")+((u==null?void 0:u.innerHTML)||"");return Jq({title:g,content:w,name:p,screenName:h,time:b,url:r})}function Jq(t){const{title:e,content:r,url:n,screenName:i,name:o,time:a}=t;return`<html>
<head>
<meta charset="utf-8">
</head>
<body>
<h1>test<span class="${a$()}">${e}</span></h1>
<div rel="author">twitter.com</div>
<article><blockquote>${r}<p> &mdash; ${o} (${i}) <a href="${n}">${a}</a></p></blockquote></article>
</body>
</html>`}const Qq=["#onetrust-consent-sdk",".article-main__more",".speech-skip-target","[style*='visibility: hidden']",".bottom-of-article","#fullBleedHeaderContent","#dock-container","#bottom-wrapper",{selector:"span",text:"Image|Video"}],Zq=[{id:"twitter",matches:["twitter.com/*/status/*"],showOriginalTitle:!1,titleSelector:"h1",contentSelector:["article"],bylineSelector:"[rel=author]",replaceTags:[{selector:"div",replaceTagName:"span"}],onBeforeParseDocument:Xq,adsRemoveSelectors:[{selector:"span",text:"翻译帖子"},{selector:"span",text:"Translate post"},"[data-testid='Tweet-User-Avatar']","[data-testid='User-Name']",".css-1dbjc4n.r-1r5su4o","[data-testid='reply']","[data-testid='retweet']","[data-testid='like']","[data-testid='bookmark']","[data-testid='app-text-transition-container']"],onArticleEnd:t=>t.content=t.content.replace(/\n/g,"<br/>"),onParseDocumentEnd(t){t.querySelectorAll("[dim_m][lang]").forEach(e=>{var n;const r=document.createElement("br");(n=e.parentElement)==null||n.insertBefore(r,e)}),t.querySelectorAll("img").forEach(e=>{const r=e.getAttribute("src");r&&/emoji/.test(r)&&(e.setAttribute("width","20"),e.setAttribute("height","20"))})}},{id:"bloomberg",matches:["www.bloomberg.com"],contentSelector:[".gridLayout_gridLayout__4EaSq.first-story .gridLayout_topContent__zu2nl",".gridLayout_gridLayout__4EaSq.first-story .styles_ledeContainer___qNar",".gridLayout_gridLayout__4EaSq.first-story .Byline_bylineWrapper-qrnpdFed-cA-",".gridLayout_gridLayout__4EaSq.first-story .body-content"],adsRemoveSelectors:["[data-testid='viewport-element']",".Table_wrapper-AP4PzCTBEd4-",".VideoPlayer_wrapper-txYAIIZsO-k-",".gridLayout_leftContent__rFf_1",".styles_bookmarkSpeech__uZjo0"]},{id:"economist",matches:["www.economist.com"],adsRemoveSelectors:["audio","[data-testid='sharing-modal']",".ds-actioned-link","._newsletterContentPromo","aside[data-component='infobox']"],onFilterContent:t=>{var a,s,l;const e=t.querySelector("section > div span");((e==null?void 0:e.textContent)||"").length<20&&((a=e==null?void 0:e.parentElement)==null||a.remove()),[...t.querySelectorAll("figcaption")].forEach(u=>{var c,f;((c=u.textContent)==null?void 0:c.indexOf("Listen to this story"))==0&&((f=u.parentElement)==null||f.remove())}),[...t.querySelectorAll("p > b")].forEach(u=>{var c,f;((c=u.textContent)==null?void 0:c.indexOf("Read more from"))==0&&((f=u.parentElement)==null||f.remove())});const i=t.querySelector("[data-tracking-id='content-well-chapter-list']");i&&((s=i.nextElementSibling)==null||s.remove(),i.remove());const o=t.querySelector("[data-test-id='horizontal']");((l=(o==null?void 0:o.textContent)||"")==null?void 0:l.indexOf("Discover stories from this section and more in the list of contents "))>=0&&(o==null||o.remove())}},{id:"mastodon",matches:["mastodon.social/@*/*"],bylineSelector:".detailed-status__wrapper .display-name__html",insertAfterSelectors:[".detailed-status__meta"]},{id:"reddit",matches:["www.reddit.com/r/*/comments/*"],bylineSelector:"._2tbHP6ZydRpjI44J3syuqC._23wugcdiaj44hdfugIAlnX.oQctV4n0yUb0uiHDdGnmE",titleSelector:"._2FCtq-QzlfuN-SwVMUZMM3._2v9pwVh0VUYrmhoMv1tHPm.t3_17lmm6w h1"},{id:"ycombinator",matches:["news.ycombinator.com"],bylineSelector:".subtext .hnuser",contentSelector:".titleline",adsRemoveSelectors:[".reply"]},{id:"webdevlaw",matches:["webdevlaw.uk"],bylineSelector:".author-name a"},{id:"theguardian",matches:["www.theguardian.com"],contentSelector:['[data-gu-name="standfirst"]','[data-gu-name="media"]',"#maincontent"],adsRemoveSelectors:[".dcr-v822l1"]},{id:"georeactor",matches:["blog.georeactor.com"],titleSelector:"main > h1"},{id:"scmp",matches:["www.scmp.com"],adsRemoveSelectors:["[data-qa='ArticlePaywallContainer-Container']"]},{id:"aljazeera",matches:["www.aljazeera.com"],adsRemoveSelectors:["#article-newsletter-slot",".ads"]},{id:"npr",matches:["www.npr.org"],adsRemoveSelectors:[".enlarge_measure",".enlarge_html",".toggle-caption",".hide-caption","[aria-label='Image credit']"]},{id:"newstatesman",matches:["www.newstatesman.com"],adsRemoveSelectors:[".c-sponsored-article",".july22-newsletter"]},{id:"newyorker",matches:["www.newyorker.com"],contentSelector:[".ArticlePageChunks-fLyCVG"]},{id:"ao3",matches:["https://archiveofourown.org/works/*/chapters/*"],titleSelector:t=>{const e=t.querySelector("h2.title"),r=t.querySelector("h3.title"),n=xk(e),i=xk(r);return`${(i==null?void 0:i[0])||""} - ${(n==null?void 0:n[0])||""} --- ${(i==null?void 0:i[1])||""} - ${(n==null?void 0:n[1])||""}`}}];function xk(t){if(!t)return null;const e=t.querySelector(xo());let r="";return e&&(r=e.textContent||"",e.remove()),[t.textContent||"",r]}function Mw(t,e=void 0){if(e&&e.documentElement)t=e,e=arguments[2];else if(!t||!t.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(e=e||{},this._getTitle=e.getTitle,this._doc=t,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!e.debug,this._maxElemsToParse=e.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=e.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=e.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(e.classesToPreserve||[]),this._keepClasses=!!e.keepClasses,this._serializer=e.serializer||function(r){return r.innerHTML},this._disableJSONLD=!!e.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let r=function(n){if(n.nodeType==n.TEXT_NODE)return`${n.nodeName} ("${n.textContent}")`;let i=Array.from(n.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${n.localName} ${i}>`};this.log=function(){if(typeof dump<"u"){var n=Array.prototype.map.call(arguments,function(i){return i&&i.nodeName?r(i):i}).join(" ");dump("Reader: (Readability) "+n+`
`)}else if(typeof console<"u"){let i=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?r(o):o);i.unshift("Reader: (Readability)"),console.log.apply(console,i)}}}else this.log=function(){}}Mw.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(t){this._fixRelativeUris(t),this._simplifyNestedElements(t),this._keepClasses||this._cleanClasses(t)},_removeNodes:function(t,e){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var r=t.length-1;r>=0;r--){var n=t[r],i=n.parentNode;i&&(!e||e.call(this,n,r,t))&&i.removeChild(n)}},_replaceNodeTags:function(t,e){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const r of t)this._setNodeTag(r,e)},_forEachNode:function(t,e){Array.prototype.forEach.call(t,e,this)},_findNode:function(t,e){return Array.prototype.find.call(t,e,this)},_someNode:function(t,e){return Array.prototype.some.call(t,e,this)},_everyNode:function(t,e){return Array.prototype.every.call(t,e,this)},_concatNodeLists:function(){var t=Array.prototype.slice,e=t.call(arguments),r=e.map(function(n){return t.call(n)});return Array.prototype.concat.apply([],r)},_getAllNodesWithTag:function(t,e){return t.querySelectorAll?t.querySelectorAll(e.join(",")):[].concat.apply([],e.map(function(r){var n=t.getElementsByTagName(r);return Array.isArray(n)?n:Array.from(n)}))},_cleanClasses:function(t){var e=this._classesToPreserve,r=(t.getAttribute("class")||"").split(/\s+/).filter(function(n){return e.indexOf(n)!=-1}).join(" ");for(r?t.setAttribute("class",r):t.removeAttribute("class"),t=t.firstElementChild;t;t=t.nextElementSibling)this._cleanClasses(t)},_fixRelativeUris:function(t){var e=this._doc.baseURI,r=this._doc.documentURI;function n(a){if(e==r&&a.charAt(0)=="#")return a;try{return new URL(a,e).href}catch{}return a}var i=this._getAllNodesWithTag(t,["a"]);this._forEachNode(i,function(a){var s=a.getAttribute("href");if(s)if(s.indexOf("javascript:")===0)if(a.childNodes.length===1&&a.childNodes[0].nodeType===this.TEXT_NODE){var l=this._doc.createTextNode(a.textContent);a.parentNode.replaceChild(l,a)}else{for(var u=this._doc.createElement("span");a.firstChild;)u.appendChild(a.firstChild);a.parentNode.replaceChild(u,a)}else a.setAttribute("href",n(s))});var o=this._getAllNodesWithTag(t,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(a){var s=a.getAttribute("src"),l=a.getAttribute("poster"),u=a.getAttribute("srcset");if(s&&a.setAttribute("src",n(s)),l&&a.setAttribute("poster",n(l)),u){var c=u.replace(this.REGEXPS.srcsetUrl,function(f,d,p,h){return n(d)+(p||"")+h});a.setAttribute("srcset",c)}})},_simplifyNestedElements:function(t){for(var e=t;e;){if(e.parentNode&&["DIV","SECTION"].includes(e.tagName)&&!(e.id&&e.id.startsWith("readability"))){if(this._isElementWithoutContent(e)){e=this._removeAndGetNext(e);continue}else if(this._hasSingleTagInsideElement(e,"DIV")||this._hasSingleTagInsideElement(e,"SECTION")){for(var r=e.children[0],n=0;n<e.attributes.length;n++)r.setAttribute(e.attributes[n].name,e.attributes[n].value);e.parentNode.replaceChild(r,e),e=r;continue}}e=this._getNextNode(e)}},_getArticleTitle:function(){var t=this._doc,e="",r="";try{e="",typeof e!="string"&&(e=r=this._getInnerText(t.getElementsByTagName("title")[0]))}catch{}var n=!1;function i(u){const c=u.split(/\s+/).length;return c==1&&u.length>=10?u.length:c}if(/ [\|\-\\\/>»] /.test(e))n=/ [\\\/>»] /.test(e),e=r.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),i(e)<3&&(e=r.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(e.indexOf(": ")!==-1){var o=this._concatNodeLists(t.getElementsByTagName("h1"),t.getElementsByTagName("h2")),a=e.trim(),s=this._someNode(o,function(u){return u.textContent.trim()===a});s||(e=r.substring(r.lastIndexOf(":")+1),i(e)<3?e=r.substring(r.indexOf(":")+1):i(r.substr(0,r.indexOf(":")))>5&&(e=r))}else(e.length>150||e.length<15&&this._getTitle)&&(e=this._getTitle(t,"h1"));if(e=e.trim().replace(this.REGEXPS.normalize," "),t.getElementsByTagName("h1").length==1&&e.indexOf("---")>0)return e;var l=i(e);return l<=4&&(!n||l!=i(r.replace(/[\|\-\\\/>»]+/g,""))-1)&&(e=r),e},_prepDocument:function(){var t=this._doc;this._removeNodes(this._getAllNodesWithTag(t,["style"])),t.body&&this._replaceBrs(t.body),this._replaceNodeTags(this._getAllNodesWithTag(t,["font"]),"SPAN")},_nextNode:function(t){for(var e=t;e&&e.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(e.textContent);)e=e.nextSibling;return e},_replaceBrs:function(t){this._forEachNode(this._getAllNodesWithTag(t,["br"]),function(e){for(var r=e.nextSibling,n=!1;(r=this._nextNode(r))&&r.tagName=="BR";){n=!0;var i=r.nextSibling;r.parentNode.removeChild(r),r=i}if(n){var o=this._doc.createElement("p");for(e.parentNode.replaceChild(o,e),r=o.nextSibling;r;){if(r.tagName=="BR"){var a=this._nextNode(r.nextSibling);if(a&&a.tagName=="BR")break}if(!this._isPhrasingContent(r))break;var s=r.nextSibling;o.appendChild(r),r=s}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.removeChild(o.lastChild);o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag:function(t,e){if(this.log("_setNodeTag",t,e),this._docJSDOMParser)return t.localName=e.toLowerCase(),t.tagName=e.toUpperCase(),t;for(var r=t.ownerDocument.createElement(e);t.firstChild;)r.appendChild(t.firstChild);t.parentNode.replaceChild(r,t),t.readability&&(r.readability=t.readability);for(var n=0;n<t.attributes.length;n++)try{r.setAttribute(t.attributes[n].name,t.attributes[n].value)}catch{}return r},_prepArticle:function(t){this._cleanStyles(t),this._markDataTables(t),this._fixLazyImages(t),this._cleanConditionally(t,"form"),this._cleanConditionally(t,"fieldset"),this._clean(t,"object"),this._clean(t,"embed"),this._clean(t,"footer"),this._clean(t,"link"),this._clean(t,"aside");var e=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(t.children,function(r){this._cleanMatchedNodes(r,function(n,i){return this.REGEXPS.shareElements.test(i)&&n.textContent.length<e})}),this._clean(t,"iframe"),this._clean(t,"input"),this._clean(t,"textarea"),this._clean(t,"select"),this._clean(t,"button"),this._cleanHeaders(t),this._cleanConditionally(t,"table"),this._cleanConditionally(t,"ul"),this._cleanConditionally(t,"div"),this._replaceNodeTags(this._getAllNodesWithTag(t,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(t,["p"]),function(r){var n=r.getElementsByTagName("img").length,i=r.getElementsByTagName("embed").length,o=r.getElementsByTagName("object").length,a=r.getElementsByTagName("iframe").length,s=n+i+o+a;return s===0&&!this._getInnerText(r,!1)}),this._forEachNode(this._getAllNodesWithTag(t,["br"]),function(r){var n=this._nextNode(r.nextSibling);n&&n.tagName=="P"&&r.parentNode.removeChild(r)}),this._forEachNode(this._getAllNodesWithTag(t,["table"]),function(r){var n=this._hasSingleTagInsideElement(r,"TBODY")?r.firstElementChild:r;if(this._hasSingleTagInsideElement(n,"TR")){var i=n.firstElementChild;if(this._hasSingleTagInsideElement(i,"TD")){var o=i.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),r.parentNode.replaceChild(o,r)}}})},_initializeNode:function(t){switch(t.readability={contentScore:0},t.tagName){case"DIV":t.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":t.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":t.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":t.readability.contentScore-=5;break}t.readability.contentScore+=this._getClassWeight(t)},_removeAndGetNext:function(t){var e=this._getNextNode(t,!0);return t.parentNode.removeChild(t),e},_getNextNode:function(t,e){if(!e&&t.firstElementChild)return t.firstElementChild;if(t.nextElementSibling)return t.nextElementSibling;do t=t.parentNode;while(t&&!t.nextElementSibling);return t&&t.nextElementSibling},_textSimilarity:function(t,e){var r=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),n=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!r.length||!n.length)return 0;var i=n.filter(a=>!r.includes(a)),o=i.join(" ").length/n.join(" ").length;return 1-o},_checkByline:function(t,e){if(this._articleByline)return!1;if(t.getAttribute!==void 0)var r=t.getAttribute("rel"),n=t.getAttribute("itemprop");return(r==="author"||n&&n.indexOf("author")!==-1||this.REGEXPS.byline.test(e))&&this._isValidByline(t.textContent)?(this._articleByline=t.textContent.trim(),!0):!1},_getNodeAncestors:function(t,e){e=e||0;for(var r=0,n=[];t.parentNode&&(n.push(t.parentNode),!(e&&++r===e));)t=t.parentNode;return n},_grabArticle:function(t){this.log("**** grabArticle ****");var e=this._doc,r=t!==null;if(t=t||this._doc.body,!t)return this.log("No body found in document. Abort."),null;for(var n=t.innerHTML;;){this.log("Starting grabArticle loop");var i=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],a=this._doc.documentElement;let ve=!0;for(;a;){a.tagName==="HTML"&&(this._articleLang=a.getAttribute("lang"));var s=a.className+" "+a.id;if(!this._isProbablyVisible(a)){this.log("Removing hidden node - "+s),a=this._removeAndGetNext(a);continue}if(this._checkByline(a,s)){a=this._removeAndGetNext(a);continue}if(ve&&this._headerDuplicatesTitle(a)){this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),ve=!1,a=this._removeAndGetNext(a);continue}if(i){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&a.tagName!=="BODY"&&a.tagName!=="A"){this.log("Removing unlikely candidate - "+s),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+s),a=this._removeAndGetNext(a);continue}}if((a.tagName==="DIV"||a.tagName==="SECTION"||a.tagName==="HEADER"||a.tagName==="H1"||a.tagName==="H2"||a.tagName==="H3"||a.tagName==="H4"||a.tagName==="H5"||a.tagName==="H6")&&this._isElementWithoutContent(a)){a=this._removeAndGetNext(a);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(a.tagName)!==-1&&o.push(a),a.tagName==="DIV"){for(var l=null,u=a.firstChild;u;){var c=u.nextSibling;if(this._isPhrasingContent(u))l!==null?l.appendChild(u):this._isWhitespace(u)||(l=e.createElement("p"),a.replaceChild(l,u),l.appendChild(u));else if(l!==null){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.removeChild(l.lastChild);l=null}u=c}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var f=a.children[0];a.parentNode.replaceChild(f,a),a=f,o.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),o.push(a))}a=this._getNextNode(a)}var d=[];this._forEachNode(o,function(J){if(!(!J.parentNode||typeof J.parentNode.tagName>"u")){var ue=this._getInnerText(J);if(!(ue.length<25)){var Ae=this._getNodeAncestors(J,5);if(Ae.length!==0){var ye=0;ye+=1,ye+=ue.split(",").length,ye+=Math.min(Math.floor(ue.length/100),3),this._forEachNode(Ae,function(Z,fe){if(!(!Z.tagName||!Z.parentNode||typeof Z.parentNode.tagName>"u")){if(typeof Z.readability>"u"&&(this._initializeNode(Z),d.push(Z)),fe===0)var Ce=1;else fe===1?Ce=2:Ce=fe*3;Z.readability.contentScore+=ye/Ce}})}}}});for(var p=[],h=0,g=d.length;h<g;h+=1){var m=d[h],v=m.readability.contentScore*(1-this._getLinkDensity(m));m.readability.contentScore=v,this.log("Candidate:",m,"with score "+v);for(var b=0;b<this._nbTopCandidates;b++){var w=p[b];if(!w||v>w.readability.contentScore){p.splice(b,0,m),p.length>this._nbTopCandidates&&p.pop();break}}}var y=p[0]||null,x=!1,S;if(y===null||y.tagName==="BODY"){for(y=e.createElement("DIV"),x=!0;t.firstChild;)this.log("Moving child out:",t.firstChild),y.appendChild(t.firstChild);t.appendChild(y),this._initializeNode(y)}else if(y){for(var C=[],E=1;E<p.length;E++)p[E].readability.contentScore/y.readability.contentScore>=.75&&C.push(this._getNodeAncestors(p[E]));var k=3;if(C.length>=k)for(S=y.parentNode;S.tagName!=="BODY";){for(var T=0,A=0;A<C.length&&T<k;A++)T+=Number(C[A].includes(S));if(T>=k){y=S;break}S=S.parentNode}y.readability||this._initializeNode(y),S=y.parentNode;for(var O=y.readability.contentScore,_=O/3;S.tagName!=="BODY";){if(!S.readability){S=S.parentNode;continue}var N=S.readability.contentScore;if(N<_)break;if(N>O){y=S;break}O=S.readability.contentScore,S=S.parentNode}for(S=y.parentNode;S.tagName!="BODY"&&S.children.length==1;)y=S,S=y.parentNode;y.readability||this._initializeNode(y)}var M=e.createElement("DIV");r&&(M.id="readability-content");var L=Math.max(10,y.readability.contentScore*.2);S=y.parentNode;for(var I=S.children,R=0,z=I.length;R<z;R++){var j=I[R],D=!1;if(this.log("Looking at sibling node:",j,j.readability?"with score "+j.readability.contentScore:""),this.log("Sibling has score",j.readability?j.readability.contentScore:"Unknown"),j===y)D=!0;else{var $=0;if(j.className===y.className&&y.className!==""&&($+=y.readability.contentScore*.2),j.readability&&j.readability.contentScore+$>=L)D=!0;else if(j.nodeName==="P"){var V=this._getLinkDensity(j),W=this._getInnerText(j),q=W.length;(q>80&&V<.25||q<80&&q>0&&V===0&&W.search(/\.( |$)/)!==-1)&&(D=!0)}}D&&(this.log("Appending node:",j),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(j.nodeName)===-1&&(this.log("Altering sibling:",j,"to div."),j=this._setNodeTag(j,"DIV")),M.appendChild(j),I=S.children,R-=1,z-=1)}if(this._debug&&this.log("Article content pre-prep: "+M.innerHTML),this._prepArticle(M),this._debug&&this.log("Article content post-prep: "+M.innerHTML),x)y.id="readability-page-1",y.className="page";else{var Y=e.createElement("DIV");for(Y.id="readability-page-1",Y.className="page";M.firstChild;)Y.appendChild(M.firstChild);M.appendChild(Y)}this._debug&&this.log("Article content after paging: "+M.innerHTML);var te=!0,ee=this._getInnerText(M,!0).length;if(ee<this._charThreshold)if(te=!1,t.innerHTML=n,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:M,textLength:ee});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:M,textLength:ee});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:M,textLength:ee});else{if(this._attempts.push({articleContent:M,textLength:ee}),this._attempts.sort(function(J,ue){return ue.textLength-J.textLength}),!this._attempts[0].textLength)return null;M=this._attempts[0].articleContent,te=!0}if(te){var he=[S,y].concat(this._getNodeAncestors(S));return this._someNode(he,function(J){if(!J.tagName)return!1;var ue=J.getAttribute("dir");return ue?(this._articleDir=ue,!0):!1}),M}}},_isValidByline:function(t){return typeof t=="string"||t instanceof String?(t=t.trim(),t.length>0&&t.length<100):!1},_unescapeHtmlEntities:function(t){if(!t)return t;var e=this.HTML_ESCAPE_MAP;return t.replace(/&(quot|amp|apos|lt|gt);/g,function(r,n){return e[n]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(r,n,i){var o=parseInt(n||i,n?16:10);return String.fromCharCode(o)})},_getJSONLD:function(t){var e=this._getAllNodesWithTag(t,["script"]),r;return this._forEachNode(e,function(n){if(!r&&n.getAttribute("type")==="application/ld+json")try{var i=n.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(i);if(!o["@context"]||!o["@context"].match(/^https?\:\/\/schema\.org$/)||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(function(u){return(u["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(r={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var a=this._getArticleTitle(),s=this._textSimilarity(o.name,a)>.75,l=this._textSimilarity(o.headline,a)>.75;l&&!s?r.title=o.headline:r.title=o.name}else typeof o.name=="string"?r.title=o.name.trim():typeof o.headline=="string"&&(r.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?r.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(r.byline=o.author.filter(function(u){return u&&typeof u.name=="string"}).map(function(u){return u.name.trim()}).join(", "))),typeof o.description=="string"&&(r.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(r.siteName=o.publisher.name.trim());return}catch(u){this.log(u.message)}}),r||{}},_getArticleMetadata:function(t){var e={},r={},n=this._doc.getElementsByTagName("meta"),i=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(n,function(a){var s=a.getAttribute("name"),l=a.getAttribute("property"),u=a.getAttribute("content");if(u){var c=null,f=null;l&&(c=l.match(i),c&&(f=c[0].toLowerCase().replace(/\s/g,""),r[f]=u.trim())),!c&&s&&o.test(s)&&(f=s,u&&(f=f.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),r[f]=u.trim()))}}),e.title||(e.title=this._getArticleTitle()),e.byline=t.byline||r["dc:creator"]||r["dcterm:creator"]||r.author,e.excerpt=t.excerpt||r["dc:description"]||r["dcterm:description"]||r["og:description"]||r["weibo:article:description"]||r["weibo:webpage:description"]||r.description||r["twitter:description"],e.siteName=t.siteName||r["og:site_name"],e.title=this._unescapeHtmlEntities(e.title),e.byline=this._unescapeHtmlEntities(e.byline),e.excerpt=this._unescapeHtmlEntities(e.excerpt),e.siteName=this._unescapeHtmlEntities(e.siteName),e},_isSingleImage:function(t){return t.tagName==="IMG"?!0:t.children.length!==1||t.textContent.trim()!==""?!1:this._isSingleImage(t.children[0])},_unwrapNoscriptImages:function(t){var e=Array.from(t.getElementsByTagName("img"));this._forEachNode(e,function(n){for(var i=0;i<n.attributes.length;i++){var o=n.attributes[i];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}n.parentNode.removeChild(n)});var r=Array.from(t.getElementsByTagName("noscript"));this._forEachNode(r,function(n){var i=t.createElement("div");if(i.innerHTML=n.innerHTML,!!this._isSingleImage(i)){var o=n.previousElementSibling;if(o&&this._isSingleImage(o)){var a=o;a.tagName!=="IMG"&&(a=o.getElementsByTagName("img")[0]);for(var s=i.getElementsByTagName("img")[0],l=0;l<a.attributes.length;l++){var u=a.attributes[l];if(u.value!==""&&(u.name==="src"||u.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(u.value))){if(s.getAttribute(u.name)===u.value)continue;var c=u.name;s.hasAttribute(c)&&(c="data-old-"+c),s.setAttribute(c,u.value)}}n.parentNode.replaceChild(i.firstElementChild,o)}}})},_removeScripts:function(t){this._removeNodes(this._getAllNodesWithTag(t,["script"]),function(e){return e.nodeValue="",e.removeAttribute("src"),!0}),this._removeNodes(this._getAllNodesWithTag(t,["noscript"]))},_hasSingleTagInsideElement:function(t,e){return t.children.length!=1||t.children[0].tagName!==e?!1:!this._someNode(t.childNodes,function(r){return r.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(r.textContent)})},_isElementWithoutContent:function(t){return t.nodeType===this.ELEMENT_NODE&&t.textContent.trim().length==0&&(t.children.length==0||t.children.length==t.getElementsByTagName("br").length+t.getElementsByTagName("hr").length)},_hasChildBlockElement:function(t){return this._someNode(t.childNodes,function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)})},_isPhrasingContent:function(t){return t.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(t.tagName)!==-1||(t.tagName==="A"||t.tagName==="DEL"||t.tagName==="INS")&&this._everyNode(t.childNodes,this._isPhrasingContent)},_isWhitespace:function(t){return t.nodeType===this.TEXT_NODE&&t.textContent.trim().length===0||t.nodeType===this.ELEMENT_NODE&&t.tagName==="BR"},_getInnerText:function(t,e){e=typeof e>"u"?!0:e;var r=t.textContent.trim();return e?r.replace(this.REGEXPS.normalize," "):r},_getCharCount:function(t,e){return e=e||",",this._getInnerText(t).split(e).length-1},_cleanStyles:function(t){if(!(!t||t.tagName.toLowerCase()==="svg")){for(var e=0;e<this.PRESENTATIONAL_ATTRIBUTES.length;e++)t.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[e]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(t.tagName)!==-1&&(t.removeAttribute("width"),t.removeAttribute("height"));for(var r=t.firstElementChild;r!==null;)this._cleanStyles(r),r=r.nextElementSibling}},_getLinkDensity:function(t){var e=this._getInnerText(t).length;if(e===0)return 0;var r=0;return this._forEachNode(t.getElementsByTagName("a"),function(n){var i=n.getAttribute("href"),o=i&&this.REGEXPS.hashUrl.test(i)?.3:1;r+=this._getInnerText(n).length*o}),r/e},_getClassWeight:function(t){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var e=0;return typeof t.className=="string"&&t.className!==""&&(this.REGEXPS.negative.test(t.className)&&(e-=25),this.REGEXPS.positive.test(t.className)&&(e+=25)),typeof t.id=="string"&&t.id!==""&&(this.REGEXPS.negative.test(t.id)&&(e-=25),this.REGEXPS.positive.test(t.id)&&(e+=25)),e},_clean:function(t,e){var r=["object","embed","iframe"].indexOf(e)!==-1;this._removeNodes(this._getAllNodesWithTag(t,[e]),function(n){if(r){for(var i=0;i<n.attributes.length;i++)if(this.REGEXPS.videos.test(n.attributes[i].value))return!1;if(n.tagName==="object"&&this.REGEXPS.videos.test(n.innerHTML))return!1}return!0})},_hasAncestorTag:function(t,e,r,n){r=r||3,e=e.toUpperCase();for(var i=0;t.parentNode;){if(r>0&&i>r)return!1;if(t.parentNode.tagName===e&&(!n||n(t.parentNode)))return!0;t=t.parentNode,i++}return!1},_getRowAndColumnCount:function(t){for(var e=0,r=0,n=t.getElementsByTagName("tr"),i=0;i<n.length;i++){var o=n[i].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),e+=o||1;for(var a=0,s=n[i].getElementsByTagName("td"),l=0;l<s.length;l++){var u=s[l].getAttribute("colspan")||0;u&&(u=parseInt(u,10)),a+=u||1}r=Math.max(r,a)}return{rows:e,columns:r}},_markDataTables:function(t){for(var e=t.getElementsByTagName("table"),r=0;r<e.length;r++){var n=e[r],i=n.getAttribute("role");if(i=="presentation"){n._readabilityDataTable=!1;continue}var o=n.getAttribute("datatable");if(o=="0"){n._readabilityDataTable=!1;continue}var a=n.getAttribute("summary");if(a){n._readabilityDataTable=!0;continue}var s=n.getElementsByTagName("caption")[0];if(s&&s.childNodes.length>0){n._readabilityDataTable=!0;continue}var l=["col","colgroup","tfoot","thead","th"],u=function(f){return!!n.getElementsByTagName(f)[0]};if(l.some(u)){this.log("Data table because found data-y descendant"),n._readabilityDataTable=!0;continue}if(n.getElementsByTagName("table")[0]){n._readabilityDataTable=!1;continue}var c=this._getRowAndColumnCount(n);if(c.rows>=10||c.columns>4){n._readabilityDataTable=!0;continue}n._readabilityDataTable=c.rows*c.columns>10}},_fixLazyImages:function(t){this._forEachNode(this._getAllNodesWithTag(t,["img","picture","figure"]),function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){var r=this.REGEXPS.b64DataUrl.exec(e.src);if(r[1]==="image/svg+xml")return;for(var n=!1,i=0;i<e.attributes.length;i++){var o=e.attributes[i];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){n=!0;break}}if(n){var a=e.src.search(/base64\s*/i)+7,s=e.src.length-a;s<133&&e.removeAttribute("src")}}if(!((e.src||e.srcset&&e.srcset!="null")&&e.className.toLowerCase().indexOf("lazy")===-1)){for(var l=0;l<e.attributes.length;l++)if(o=e.attributes[l],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var u=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?u="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(u="src"),u){if(e.tagName==="IMG"||e.tagName==="PICTURE")e.setAttribute(u,o.value);else if(e.tagName==="FIGURE"&&!this._getAllNodesWithTag(e,["img","picture"]).length){var c=this._doc.createElement("img");c.setAttribute(u,o.value),e.appendChild(c)}}}}})},_getTextDensity:function(t,e){var r=this._getInnerText(t,!0).length;if(r===0)return 0;var n=0,i=this._getAllNodesWithTag(t,e);return this._forEachNode(i,o=>n+=this._getInnerText(o,!0).length),n/r},_cleanConditionally:function(t,e){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(t,[e]),function(r){var n=function(x){return x._readabilityDataTable},i=e==="ul"||e==="ol";if(!i){var o=0,a=this._getAllNodesWithTag(r,["ul","ol"]);this._forEachNode(a,x=>o+=this._getInnerText(x).length),i=o/this._getInnerText(r).length>.9}if(e==="table"&&n(r)||this._hasAncestorTag(r,"table",-1,n)||this._hasAncestorTag(r,"code"))return!1;var s=this._getClassWeight(r);this.log("Cleaning Conditionally",r);var l=0;if(s+l<0)return!0;if(this._getCharCount(r,",")<10){for(var u=r.getElementsByTagName("p").length,c=r.getElementsByTagName("img").length,f=r.getElementsByTagName("li").length-100,d=r.getElementsByTagName("input").length,p=this._getTextDensity(r,["h1","h2","h3","h4","h5","h6"]),h=0,g=this._getAllNodesWithTag(r,["object","embed","iframe"]),m=0;m<g.length;m++){for(var v=0;v<g[m].attributes.length;v++)if(this.REGEXPS.videos.test(g[m].attributes[v].value))return!1;if(g[m].tagName==="object"&&this.REGEXPS.videos.test(g[m].innerHTML))return!1;h++}var b=this._getLinkDensity(r),w=this._getInnerText(r).length,y=c>1&&u/c<.5&&!this._hasAncestorTag(r,"figure")||!i&&f>u||d>Math.floor(u/3)||!i&&p<.9&&w<25&&(c===0||c>2)&&!this._hasAncestorTag(r,"figure")||!i&&s<25&&b>.2||s>=25&&b>.5||h===1&&w<75||h>1;return y}return!1})},_cleanMatchedNodes:function(t,e){for(var r=this._getNextNode(t,!0),n=this._getNextNode(t);n&&n!=r;)e.call(this,n,n.className+" "+n.id)?n=this._removeAndGetNext(n):n=this._getNextNode(n)},_cleanHeaders:function(t){let e=this._getAllNodesWithTag(t,["h1","h2"]);this._removeNodes(e,function(r){let n=this._getClassWeight(r)<0;return n&&this.log("Removing header with low class weight:",r),n})},_headerDuplicatesTitle:function(t){if(t.tagName!="H1"&&t.tagName!="H2")return!1;var e=this._getInnerText(t,!1);return this.log("Evaluating similarity of header:",e,this._articleTitle),this._textSimilarity(this._articleTitle,e)>.75},_flagIsActive:function(t){return(this._flags&t)>0},_removeFlag:function(t){this._flags=this._flags&~t},_isProbablyVisible:function(t){return(!t.style||t.style.display!="none")&&!t.hasAttribute("hidden")&&(!t.hasAttribute("aria-hidden")||t.getAttribute("aria-hidden")!="true"||t.className&&t.className.indexOf&&t.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var t=this._doc.getElementsByTagName("*").length;if(t>this._maxElemsToParse)throw new Error("Aborting parsing document; "+t+" elements found")}this._unwrapNoscriptImages(this._doc);var e=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var r=this._getArticleMetadata(e);this._articleTitle=r.title;var n=this._grabArticle();if(!n)return null;this.log("Grabbed: "+n.innerHTML),this._postProcessContent(n);var i=n.textContent;return{title:this._articleTitle,byline:r.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(n),textContent:i,length:i.length,excerpt:r.excerpt,siteName:r.siteName||this._articleSiteName}}};const Ek=["*://*/*","*","*://*"],W2="immersive-translate-wildcard-placeholder.com";function eK(t,e){let r=[];if(!e||(e&&!Array.isArray(e)?r=[e]:r=e,r.length===0))return null;if(r.some(a=>Ek.includes(a)))return t;const n=new URL(t);n.hash="",n.search="";const i=n.href,o=n.hostname;if(r&&r.length>0){const a=r.find(s=>{if(s===o)return!0;if(Ek.includes(s))return!0;if(!s.includes("*")&&s.includes("://")){try{const l=new URL(s);return l.pathname==="/"&&!s.endsWith("/")?l.hostname===o:rK(i,s)}catch{}return!1}else{let l;const u=s;if(s.includes("://")){const g=s.split("://");l=g[0],l==="*"&&g.length>1&&(l="*",s="https://"+g[1])}else l="*",s="https://"+s;const c=s.replace(/\*/g,W2);let f;try{f=new URL(c)}catch{return!1}const d=f.hostname;let p=f.pathname;p==="/"&&(u.replace("://","").includes("/")||(p="/*"));const h=tK(l+":",Ck(d),Ck(p));if(h){const g=new URL(i);return g.port="",h.test(g.href)}else return!1}});if(a)return a}return null}function Ck(t){return t.replaceAll(W2,"*")}function tK(t,e,r){let n="^";return t==="*:"?n+="(http:|https:|file:)":n+=t,n+="//",e&&(t==="file:"||(e==="*"?n+="[^/]+?":(e.match(/^\*\./)&&(n+="[^/]*?",e=e.substring(2)),n+=e.replace(/\./g,"\\.").replace(/\*/g,"[^/]*")))),r?r==="*"||r==="/*"?n+="(/.*)?":r.includes("*")?(n+=r.replace(/\*/g,".*?"),n+="/?"):n+=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):n+="/?",n+="$",new RegExp(n)}function G2(t,e){return eK(t,e)!==null}function rK(t,e){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname&&r.pathname===n.pathname&&r.protocol===n.protocol&&r.port===n.port}const nK=[{id:"chatgpt",matches:["chat.openai.com"],removeSelectors:["[data-projection-id]","[style='width: 260px;']"],onFilterContent(t){var r,n,i,o;let e=t.querySelector("[role=presentation] > div");e&&(e.style.overflow="auto"),t.querySelectorAll('[class="relative flex w-[calc(100%-50px)] flex-col gizmo:w-full lg:w-[calc(100%-115px)] agent-turn"]').forEach(a=>{a.className="relative flex w-[calc(100%-50px)] flex-col lg:w-[calc(100%-115px)] agent-turn"}),e=t.querySelector("#prompt-textarea"),(o=(i=(n=(r=e==null?void 0:e.parentElement)==null?void 0:r.parentElement)==null?void 0:n.parentElement)==null?void 0:i.parentElement)==null||o.remove()}},{id:"openAI",matches:["openai.com"],onFilterContent(t){let e=t.querySelector(".ui-hero .pt-spacing-9");e&&(e.style.paddingTop="20px")}}],iK=["#__imt_after_body_start__","#__imt_before_body_end__","#injected-css","meta[name='__imt_head_end__']",".popup",".header-ads","#onetrust-consent-sdk",'[data-test="modal"]'];class oK{constructor(e,r){ui(this,"config");ui(this,"shareData");this.config=e,this.shareData=r}onBeforeParseDocument(e,r){var n,i;e.length,(i=(n=this.config)==null?void 0:n.onBeforeParseDocument)==null||i.call(n,e,r)}onParseDocumentEnd(e){var i,o,a,s;const r=[...e.querySelectorAll("base")];if(r.length>1){const l=r[0].getAttribute("href"),u=r[r.length-1],c=u.getAttribute("href"),f=new URL(l||""),d=f.protocol,p=f.host;c!=null&&c.startsWith("/")?u.setAttribute("href",`${d}//${p}${c}`):c!=null&&c.startsWith("http")||u.setAttribute("href",`${d}//${p}/${c}`);for(let h=r.length-2;h>=0;h--)r[h].remove()}(i=this.shareData)!=null&&i.target_lang&&((o=e.querySelector("html"))==null||o.setAttribute("lang",this.shareData.target_lang)),['link[rel="canonical"]','link[rel="alternate"]','link[rel="amphtml"]'].forEach(l=>{e.querySelectorAll(l).forEach(u=>{u.remove()})}),e.querySelectorAll("meta[content*='charset=']").forEach(l=>{l.setAttribute("content","text/html; charset=utf-8")}),(s=(a=this.config)==null?void 0:a.onParseDocumentEnd)==null||s.call(a,e)}onFilterContent(e){var r,n,i;[...iK,...((r=this.config)==null?void 0:r.removeSelectors)||[]].forEach(o=>{let a="",s=null;typeof o=="string"?a=o:(a=o.selector,s=new RegExp(o.text)),[...e.querySelectorAll(a)].forEach(u=>{(!s||s.test(u.textContent||""))&&u.remove()})}),(i=(n=this.config)==null?void 0:n.onFilterContent)==null||i.call(n,e)}onArticleEnd(e,r,n){var a,s;(s=(a=this.config)==null?void 0:a.onArticleEnd)==null||s.call(a,e,r);const i=e.querySelector("title"),{zhTitle:o}=_b((i==null?void 0:i.innerText)||"",r);i&&(i.innerText=o),r.cover=sK(r),aK(e,{title:o,description:r.excerpt,cover:r.cover,keywords:n})}}function aK(t,e){["meta[property^='og:']","meta[name^='twitter:']","meta[name='description']","meta[name='keywords']"].forEach(i=>{[...t.querySelectorAll(i)].forEach(a=>{a.remove()})});const n=[{property:"og:type",content:"article"},{property:"og:title",content:e.title},{property:"og:image",content:e.cover},{property:"og:site_name",content:"readit"},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:e.title},{name:"twitter:image",content:e.cover}];e.description&&(n.push({property:"og:description",content:e.description}),n.push({name:"twitter:description",content:e.description}),n.push({name:"description",content:e.description})),e.keywords&&n.push({name:"keywords",content:e.keywords}),n.forEach(i=>{const o=t.createElement("meta");Object.keys(i).forEach(a=>{o.setAttribute(a,i[a])}),t.head.appendChild(o)})}function sK(t){const n=new DOMParser().parseFromString(t.content,"text/html").querySelector("img");return(n==null?void 0:n.getAttribute("src"))||""}async function kk(t,e,r){const n=gK(t),i=new oK(n,r),o=new DOMParser;e=`
    <base href="${t}"></base>
    ${e}
  `,i.onBeforeParseDocument(e,{url:t});const a=o.parseFromString(e,"text/html");i.onParseDocumentEnd(a),i.onFilterContent(a);const s=new Mw(a.cloneNode(!0),{getTitle:Ok}).parse();n!=null&&n.titleSelector&&(s.title=Ok(a,n.titleSelector));const l=a.querySelector("meta[name='keywords']");let u=l==null?void 0:l.getAttribute("content");try{s.excerpt&&(r!=null&&r.target_lang)&&(s.excerpt=await I0.translate(s.excerpt,r.target_lang)),u&&(r!=null&&r.target_lang)&&(u=await I0.translate(u,r.target_lang))}catch(p){console.error(p)}i.onArticleEnd(a,s,u);const c=a.querySelector("body"),f=c==null?void 0:c.firstChild;if(c&&f){const p=document.createElement("div");p.id="__imt_after_body_start__",c.insertBefore(p,f);const h=document.createElement("div");h.id="__imt_before_body_end__",c.appendChild(h)}const d=a.querySelector("head");if(d&&d.firstChild){const p=document.createElement("meta");p.name="__imt_head_start__",d.insertBefore(p,d.firstChild);const h=document.createElement("meta");h.name="__imt_head_end__",d.appendChild(h)}return a!=null&&a.body.innerText?s.innerText=a.body.innerText:s.innerText=s.textContent,a.body&&(a.body.classList.add("notranslate"),a.body.setAttribute("notranslate","true")),a.documentElement&&(a.documentElement.classList.add("notranslate"),a.documentElement.setAttribute("notranslate","true")),s.content=`
    <!DOCTYPE html>
    ${a.documentElement.outerHTML}
  `,s}function Tk(t,e){const r=document.createElement("iframe"),n=new Blob([t],{type:"text/html"});r.src=URL.createObjectURL(n),r.width="100%",r.style.minHeight="100vh",r.setAttribute("notranslate","true"),r.setAttribute("class","notranslate"),r.onload=()=>{e(!1)},document.documentElement.appendChild(r)}function Ok(t,e){var o;const r=(o=t.querySelector(e))==null?void 0:o.cloneNode(!0);if(!r)return"";const n=r.querySelector(xo());let i="";return n&&(i=n.textContent||"",n.remove()),[i,r.textContent||""].join(" --- ")}function $t({doc:t,commonCss:e,pcCss:r,h5Css:n}){const i=t.createElement("style");i.id="injected-css",i.innerHTML=`
  ${e||""}
  @media (min-width: 768px) {
    ${r||""}
  }
  @media (max-width: 767px) {
    ${n||""}
  }
  `,t.head.appendChild(i)}function Pc(t,e=1,r=1,n=1){const i=t.createElement("meta");i.setAttribute("name","viewport"),i.setAttribute("content",`initial-scale=${e}, maximum-scale=${r}, user-scalable=no, width=device-width, minimum-scale=${n}, viewport-fit=cover`),t.head.appendChild(i)}const lK=[{id:"bloomberg",matches:["www.bloomberg.com"],removeSelectors:[".basicLeftRail_share__4jofR",".basicLeftRail_bottom__x8a0Y",".navi-bar__right","[data-component=floating-copy-link]","[class='tup:hidden']",'[class*="FullWidthAd"]'],onFilterContent(t){var r;const e=t.querySelector(".social-share");(r=e==null?void 0:e.parentElement)==null||r.remove(),[...t.querySelectorAll(".main-container > article")].forEach(n=>{n.classList.contains("first-story")||n.remove()})}},{id:"scmp",matches:["www.scmp.com"],removeSelectors:[".global-menu-features__feature-container--notification-widget",".topic-package-thank-you-popup-center","header",'[data-qa="GenericArticle-WidgetsTop"]','[data-qa="GenericArticle-WidgetsBottom"]','[data-qa="GenericArticle-Left"]','[data-qa="variant-base"]','[data-qa="AdSlot-Container"]'],onFilterContent(t){var r;(r=t.querySelectorAll("[class*='lazyload-']"))==null||r.forEach(n=>{var i,o;if((((i=n.parentElement)==null?void 0:i.className)||"").indexOf("-section")>=0){(o=n.parentElement)==null||o.remove();return}n.remove()}),t.querySelectorAll("iframe[allowfullscreen]").forEach(n=>{n.allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"});let e=t.querySelector("[data-qa='SCMPYouTubeVideoPlayer-Container']");e&&(e.style.width="100%",e.style.height="100%",e.querySelectorAll("*").forEach(n=>{n.style.width="100%",n.style.height="100%"})),t.querySelectorAll(".methode-html-wrapper iframe").forEach(n=>{n.style.width="100%",n.style.height="100%"})}},{id:"wsj",matches:["www.wsj.com"],removeSelectors:[".css-ea71j7-MainHeader-CollapsedHeader"],onFilterContent(t){t.querySelectorAll('[role="toolbar"]').forEach(e=>{e.style.height="fit-content"})}},{id:"seekingalpha",matches:["seekingalpha.com"],onFilterContent(t){$t({doc:t,h5Css:`
        footer,[data-test-id="aside-nav-panel"],[data-test-id="grid-container"] {
          display: none !important;
        }
        body {
          --scrollbar-width: 0px; --headerHeight: 0px; --background: #ff7200; --closeColor: #ffffff; --stripBarHeight: 0px; --ctaColor: #ff7200; --ctaTextColor: #ffffff; --sa-aside-width: 0rem;
        }
        `,pcCss:`
          body {
            --scrollbar-width: 0px; --headerHeight: 90px; --ctaColor: #ff7200; --ctaTextColor: #ffffff; --background: #ff7200; --closeColor: #ffffff; --stripBarHeight: 30px; --sa-aside-width: 15rem;
          }
        `})}},{id:"theatlantic",matches:["www.theatlantic.com"],removeSelectors:["#nav-desktop-search"]},{id:"ncbi.nlm.nih.gov",matches:["www.ncbi.nlm.nih.gov"],onFilterContent(t){$t({doc:t,commonCss:`
          #universal_header {
            display: block !important;
          }
        `})}},{id:"nytimes",matches:["www.nytimes.com"],removeSelectors:['[data-testid="onsite-messaging-unit-dock"]'],onFilterContent(t){t.querySelectorAll(".ad").forEach(e=>{var r;(r=e.parentElement)==null||r.remove()})}},{id:"reddit",matches:["www.reddit.com"],removeSelectors:['[slot="post-locked-banner"]',"faceplate-bottom-sheet","faceplate-dialog"],onFilterContent(t){$t({doc:t,commonCss:`
        shreddit-aspect-ratio img,shreddit-aspect-ratio > div, shreddit-dynamic-ad-link > div {
          visibility: visible;
          height: 550px !important;
        }
        left-nav-topic-tracker {
          visibility: visible !important;
        }
        faceplate-batch *, shreddit-async-loader * {
          visibility: visible !important;
        }
        gallery-carousel {
          overflow: scroll !important;
        }
        `,h5Css:`
        trending-gallery-carousel {
          display: flex;
        }
        html {
          overflow-x: hidden;
        }
        ._1nxEQl5D2Bx2jxDILRHemb {
          padding-top: 0 !important;
        }
        `})}},{id:"techcrunch.com",matches:["techcrunch.com"],titleSelector:"h2.fi-main-block__title",onFilterContent(t){$t({doc:t,h5Css:`
          .site-navigation {
            display: none;
          } 
        `})}},{id:"medium.com",matches:["medium.com"],onFilterContent(t){var e;(e=t.querySelector("#imt-inject-preview"))==null||e.remove(),$t({doc:t,pcCss:`
          .mm {
            right: 0;
          }
        `,h5Css:`
          #root,.pw-homefeed-item {
            width: 100vw;
            overflow: hidden;
          }
          .mm {
            display: none;
          }
        `})}},{id:"quora",matches:["www.quora.com"],titleSelector:".puppeteer_test_question_main [class*='QuestionTitle']",onFilterContent(t){const e=t.querySelector(".qu-zIndex--header"),r=t.querySelector("#mainContent");e&&r&&(t.body.innerHTML=(e==null?void 0:e.cloneNode(!0)).outerHTML,t.body.appendChild(r==null?void 0:r.cloneNode(!0)),Pc(t)),$t({doc:t,commonCss:`
        #mainContent {
          margin-top: 60px !important;
        }
        `,pcCss:`
          #mainContent {
            max-width: 700px;
            margin: 0 auto;
          }
          #root {
            max-width: 700px;
            margin: 0 auto;
          }
          .q-sticky.qu-zIndex--header {
            max-width: 700px;
          }
        `,h5Css:`
          #mainContent {
            width: 100vw !important; 
            overflow: hidden;
          }
        `})}},{id:"yahoo",matches:["*.yahoo.com"],removeSelectors:["#sda-LDRB-iframe","#sda-LREC",'[data-wf-sticky-target="#adsStream"]','[data-content="Advertisement"]',".caas-da"],onFilterContent(t){Pc(t),$t({doc:t,h5Css:`
        .caas-share-section,header{
          display:none;
        }
        .caas .caas-container .caas-body-inner-wrapper {
          flex-direction: column;
        }
        .caas-xray-wrapper.caas-xray-wrapper-type-cards .caas-xray-pills-list-wrapper {
          overflow-x: scroll;
        }
        td font${xo()} {
          display: none;
        }
        .caas-title-wrapper {
          padding: 0 5px;
        }
        main {
          max-width: 100vw;
        }
        #module-marketSummary {
          max-width: 100vw;
          overflow-x: scroll;
          padding: 0 20px;
        }
        body {
          overflow-x: hidden;
        }
        `})}},{id:"reuters",matches:["www.reuters.com"],removeSelectors:["iframe",'[data-testid="ResponsiveAdSlot"]'],onFilterContent(t){$t({doc:t,h5Css:`
        [data-testid="SiteHeader"] {
          display: none !important;
        }
        `})}},{id:"foreignpolicy",matches:["foreignpolicy.com"],removeSelectors:[".in-article-subscribe-expandable-container",".in-article-piano-gating-container",".cookie_message_displayed",".header-nav__main font"]},{id:"aeon.co",matches:["aeon.co"],removeSelectors:['[data-test="Cta-MainDonate-banner"]']}],uK=[{id:"pdf-pro",matches:["*.immersivetranslate.com/pdf-pro*"],removeSelectors:[".print-hide"]},{id:"pdf",matches:["chrome-extension://*/pdf/index.html*","app.immersivetranslate.com/pdf*"],removeSelectors:[".im_db",".im_cb"],onFilterContent(t){$t({doc:t,commonCss:`
        #viewerContainer {
          top: 0 !important;
        }`})}},{id:"hackernews",matches:["news.ycombinator.com"],removeSelectors:["form"]},{id:"nexusmods",matches:["www.nexusmods.com"],removeSelectors:[".ads"]},{id:"nature",matches:["www.nature.com"],removeSelectors:["dialog",".u-lazy-ad-wrapper"]},{id:"m.facebook.com",matches:["m.facebook.com"],onFilterContent(t){$t({doc:t,pcCss:`
        #screen-root>div {
          margin: 0 auto;
        }
        `})}},{id:"scholar.google.com",matches:["scholar.google.com"],onFilterContent(t){$t({doc:t,h5Css:`
        #gs_top {
          min-width: 320px;
        }
        #gs_ab {
          max-width: 100%;
          overflow: hidden;
        }
        #gs_bdy_sb,#gs_res_ccl_bot {
          display: none;
        }
        `})}},{id:"archiveofourown",matches:["https://archiveofourown.org"],removeSelectors:["#imt-inject-preview"]},{id:"www.google.com",matches:["www.google.com"],onFilterContent(t){Pc(t),$t({doc:t,commonCss:`
          #searchform {
            position: relative;
            margin-bottom: -65px;
          }
        `,pcCss:`
          header,div[id="gsr"] {
            max-width: 600px;
            margin: 0 auto;
          }
        `,h5Css:`
          .logo + div {
            width: 50vw !important;
            margin: 0;
          }
          .logo + div>div>div:last-child, [type="submit"],#botstuff,.liYKde {
            display: none;
          }
          #center_col {
            margin-left: 0 !important;
          }
          body {
            width: 100vw !important;
            overflow-x: hidden;
          }
          [jscontroller="msmzHf"],[style="width:600px"],block-component>div,div#taw {
            width: 100vw !important;
            display: block !important;
          }
        `})}},{id:"www.wattpad.com",matches:["www.wattpad.com"],removeSelectors:["#imt-inject-preview"]},{id:"www.threads.net",matches:["www.threads.net"],onFilterContent(t){$t({doc:t,commonCss:`
        picture {
          max-width: 100%;
          max-height: 100%;
          overflow: hidden;
        }
        `})}},{id:"www.sec.gov",matches:["www.sec.gov"],onFilterContent(t){Pc(t),$t({doc:t,h5Css:`
        center > div {
          width: 90vw !important;
          margin: 0 auto;
        }
        `})}},{id:"coingeek.com",matches:["coingeek.com"],onFilterContent(t){$t({doc:t,commonCss:`
        #header {
          top: 0 !important;
        }
        `})}}];function _k(t){$t({doc:t,commonCss:`
      [data-testid="cellInnerDiv"] {
        position: relative !important;
        transform: unset !important;
        top: unset !important;
      }
    `,pcCss:`
       main {
        max-width: 600px !important;
        margin: 0 auto !important;
      }
    `,h5Css:`
      .r-1ye8kvj {
        max-width: 100vw !important;
      }
      main {
        overflow-x: hidden !important;
      }
    `})}const cK=[{id:"twitterDetail",matches:["twitter.com/*/status/*"],titleSelector:"h1",removeSelectors:["[role=banner]","[data-testid=sidebarColumn]",'[href="/compose/tweet"]','[data-testid="ScrollSnap-SwipeableList"]',"#layers"],onFilterContent(t){["[role=progressbar]"].forEach(r=>{var n;(n=t.querySelectorAll(r))==null||n.forEach(i=>{var o,a;(a=(o=i.parentElement)==null?void 0:o.parentElement)==null||a.remove()})});const e=t.querySelector("[data-testid=cellInnerDiv]");e!=null&&e.parentElement&&(e.parentElement.style.minHeight="unset"),_k(t)},onArticleEnd(t,e){let r=t.querySelector("[data-testid='cellInnerDiv']");const n=!!r.querySelector(xo());let i=r.querySelector(xo())||t.querySelector("title");if(i){const l=i.innerText.split(`
`).filter(u=>u.trim());l.length>0&&(e.title=l[0])}e.title.length>140&&(e.title=e.title.slice(0,140)+"...");const o=t.querySelector("[data-testid='User-Name']");let s=(o==null?void 0:o.children[0]).innerText;n&&s&&(e.title=`${s}: "${e.title}" - Twitter`)}},{id:"twitter",matches:["twitter.com"],titleSelector:"h1",removeSelectors:["[role=banner]","[data-testid=sidebarColumn]",'[href="/compose/tweet"]','[data-testid="ScrollSnap-SwipeableList"]',"#layers"],onFilterContent(t){var n;const e=t.querySelector("nav");(n=e==null?void 0:e.parentElement)==null||n.remove();const r=t.querySelector("[data-testid=cellInnerDiv]");r!=null&&r.parentElement&&(r.parentElement.style.minHeight="unset"),_k(t)}}];function fK(t){var n;return(n=/v=([a-zA-Z0-9]+)/.exec(t.baseURI))==null?void 0:n[1]}function Mk(t){const e=fK(t),r=t.createElement("iframe");return r.id="video-iframe",r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("src",`https://www.youtube.com/embed/${e}`),r.setAttribute("title","YouTube video player"),r.setAttribute("frameborder","0"),r.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),r.setAttribute("allowfullscreen",""),r}const dK=[{id:"mYoutube",matches:["m.youtube.com"],removeSelectors:["#player-cinematics-container","#player"],onFilterContent(t){const e=t.querySelector("#player-control-container");if(e){const r=Mk(t);e.replaceWith(r)}$t({doc:t,commonCss:`
        .player-placeholder {
          display: none !important;
        }
        #player-container-id {
          position: relative !important;
        }
        .player-container.sticky-player {
          top: 10px !important;
        }
        `,h5Css:`
        #video-iframe {
          height: 220px;
        }
        ytm-mobile-topbar-renderer {
          display: none !important;
        }
        `,pcCss:`
        ytm-item-section-renderer,ytm-mobile-topbar-renderer {
          display: none !important;
        }
        #player-container-id {
          height: 660px !important;
          max-width: 800px !important;
          margin: auto;
        }
        ytm-watch {
          margin-right: 0 !important;
        }
        ytm-app {
          max-width: 800px !important;
          margin: auto;
        }
        `})}},{id:"youtube",matches:["www.youtube.com"],titleSelector:"#title>h1",removeSelectors:[".ytd-watch-next-secondary-results-renderer","#masthead-container","yt-animated-action","#secondary","#subscribe-button",".smartimation__content"],onFilterContent(t){const e=t.querySelector("#player-container-outer");if(e){const r=Mk(t);e.replaceWith(r)}Pc(t),$t({doc:t,commonCss:`
        #columns {
          display: flex !important;
          flex-direction: column !important;
        }
        #primary {
          padding: 0 !important;
          margin: 0 !important;
          border-radius: 20px !important;
        }
        ytd-app {
          position: relative !important;
        }
        `,h5Css:`
        #video-iframe {
          height: 220px;
        }
        #below {
          width: 100vw !important;
        }
        #columns,#primary,#primary *{
          min-width: 100% !important;
        }
        #page-manager {
          margin-top: 10px !important;
        }
        ytd-app {
          overflow-x: hidden;
        }
        `,pcCss:`
        #page-manager {
          margin-top: 20px !important;
        }
        #video-iframe {
          height: 660px;
        }
        #columns {
          max-width: 800px !important;
        }
        `})}}],pK=[...uK,...cK,...dK,...nK,...lK];function hK(t){return Zq.find(e=>G2(t,e.matches))}function gK(t){return pK.find(e=>G2(t,e.matches))}function mK(t,e){var u;const r=hK(t),n=new DOMParser;e=`
    <base href="${t}"></base>
    ${e}
  `,r!=null&&r.onBeforeParseDocument&&(e=r.onBeforeParseDocument(e,{url:t}));let i=n.parseFromString(e,"text/html");r!=null&&r.onParseDocumentEnd&&(r==null||r.onParseDocumentEnd(i)),vK(r,i);const o=i.cloneNode(!0);let a=new Mw(i).parse();if(r!=null&&r.titleSelector&&(typeof(r==null?void 0:r.titleSelector)=="function"?a.title=r==null?void 0:r.titleSelector(o):a.title=wK(o,r==null?void 0:r.titleSelector)),r!=null&&r.contentSelector){const c=Array.isArray(r==null?void 0:r.contentSelector)?r==null?void 0:r.contentSelector:[r==null?void 0:r.contentSelector];let f="";c.forEach(d=>{var p;f+=((p=o.querySelector(d))==null?void 0:p.innerHTML)||""}),a.content=f}r!=null&&r.bylineSelector&&(a.byline=((u=o.querySelector(r.bylineSelector))==null?void 0:u.textContent)||""),a!=null&&a.content&&(i=n.parseFromString(a==null?void 0:a.content,"text/html")),bK(i),yK(i),r!=null&&r.replaceTags&&SK(r,i);const s=i.body.innerHTML;return a&&(a.content=s),l(),r!=null&&r.onArticleEnd&&(r==null||r.onArticleEnd(a)),a&&r&&(a.config=r),a;function l(){var f,d;if(!i)return;const c=i.body.innerHTML;if(a&&(a.content=c),r!=null&&r.insertBeforeSelectors){let p="";(f=r==null?void 0:r.insertBeforeSelectors)==null||f.forEach(h=>{[...o.querySelectorAll(h)].forEach(m=>{p+=m.outerHTML})}),a.content=p+a.content}if(r!=null&&r.insertAfterSelectors){let p="";(d=r==null?void 0:r.insertAfterSelectors)==null||d.forEach(h=>{[...o.querySelectorAll(h)].forEach(m=>{p+=m.outerHTML})}),a.content+=p}}}function vK(t,e){var r;e&&([...Qq,...(t==null?void 0:t.adsRemoveSelectors)||[]].forEach(n=>{let i="",o=null;typeof n=="string"?i=n:(i=n.selector,o=new RegExp(n.text)),[...e.querySelectorAll(i)].forEach(s=>{(!o||o.test(s.textContent||""))&&s.remove()})}),(r=t==null?void 0:t.onFilterContent)==null||r.call(t,e))}function yK(t){if(!t)return;[...t.querySelectorAll("[dim_m][lang]")].forEach(r=>{var u,c;if(r.nodeType!==1)return;const i=r.parentElement,o=(u=i==null?void 0:i.nodeName)==null?void 0:u.toLowerCase();let a=!1,s="span";r.querySelector("br")&&(a=!0,s="p",(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(s=o));const l=document.createElement(s);if(l.setAttribute("lang",r.getAttribute("lang")||""),l.setAttribute("data-type","translation"),((c=r.firstElementChild)==null?void 0:c.nodeName)=="BR"&&r.firstElementChild.remove(),a){for(;r.firstChild;)l.appendChild(r.firstChild);r.replaceWith(l)}else l.append(r.textContent||""),r.replaceWith(l)})}function bK(t){if(!t)return;[...t.querySelectorAll("img")].forEach(r=>{r.getAttribute("src")})}function wK(t,e){const r=t.querySelector(e);if(!r)return"";const n=r.querySelector(xo());let i="";return n&&(i=n.textContent||"",n.remove()),[r.textContent||"",i].join(" --- ")}function SK(t,e){t!=null&&t.replaceTags&&(t==null||t.replaceTags.forEach(r=>{const{selector:n,replaceTagName:i}=r;[...e.querySelectorAll(n)].forEach(a=>{const s=document.createElement(i);s.innerHTML=a.innerHTML,a.replaceWith(s)})}))}function Ak(t){let r=new DOMParser().parseFromString(t,"text/html");const n=r.querySelector("[data-type=page-title]"),i=r.querySelector("img[src]");n==null||n.remove();let o=r.body.innerText||"";return o.startsWith("查看原文地址")&&(o=o.slice(6)),o.length>300&&o.substr(0,300)+"",{title:(n==null?void 0:n.textContent)||"",content:r.body.innerHTML,textContent:r.body.textContent||"",imgUrl:(i==null?void 0:i.getAttribute("src"))||""}}function xK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function EK(t,e){if(Nc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CK(t){var e=EK(t,"string");return Nc(e)==="symbol"?e:String(e)}function Dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CK(n.key),n)}}function kK(t,e,r){return e&&Dk(t.prototype,e),r&&Dk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var q2=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];r.call(n,a[1],a[0])}},e}()}(),Ey=typeof window<"u"&&typeof document<"u"&&window.document===document,Xp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),TK=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Xp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),OK=2;function _K(t,e){var r=!1,n=!1,i=0;function o(){r&&(r=!1,t()),n&&s()}function a(){TK(o)}function s(){var l=Date.now();if(r){if(l-i<OK)return;n=!0}else r=!0,n=!1,setTimeout(a,e);i=l}return s}var MK=20,AK=["top","right","bottom","left","width","height","size","weight"],DK=typeof MutationObserver<"u",RK=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_K(this.refresh.bind(this),MK)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Ey||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),DK?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Ey||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=AK.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),K2=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ll=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Xp},Y2=pg(0,0,0,0);function Jp(t){return parseFloat(t)||0}function Rk(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var o=t["border-"+i+"-width"];return n+Jp(o)},0)}function PK(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var o=i[n],a=t["padding-"+o];r[o]=Jp(a)}return r}function NK(t){var e=t.getBBox();return pg(0,0,e.width,e.height)}function IK(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return Y2;var n=ll(t).getComputedStyle(t),i=PK(n),o=i.left+i.right,a=i.top+i.bottom,s=Jp(n.width),l=Jp(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=Rk(n,"left","right")+o),Math.round(l+a)!==r&&(l-=Rk(n,"top","bottom")+a)),!BK(t)){var u=Math.round(s+o)-e,c=Math.round(l+a)-r;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return pg(i.left,i.top,s,l)}var LK=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ll(t).SVGGraphicsElement}:function(t){return t instanceof ll(t).SVGElement&&typeof t.getBBox=="function"}}();function BK(t){return t===ll(t).document.documentElement}function zK(t){return Ey?LK(t)?NK(t):IK(t):Y2}function FK(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return K2(a,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),a}function pg(t,e,r,n){return{x:t,y:e,width:r,height:n}}var jK=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=zK(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),HK=function(){function t(e,r){var n=FK(r);K2(this,{target:e,contentRect:n})}return t}(),UK=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new q2,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ll(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new jK(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ll(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new HK(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),X2=typeof WeakMap<"u"?new WeakMap:new q2,J2=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=RK.getInstance(),n=new UK(e,r,this);X2.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){J2.prototype[t]=function(){var e;return(e=X2.get(this))[t].apply(e,arguments)}});var $K=function(){return typeof Xp.ResizeObserver<"u"?Xp.ResizeObserver:J2}();const VK=Object.freeze(Object.defineProperty({__proto__:null,default:$K},Symbol.toStringTag,{value:"Module"}));var WK=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},GK=WK,qK=GK,KK=function(t){var e=/[height|width]$/;return e.test(t)},Pk=function(t){var e="",r=Object.keys(t);return r.forEach(function(n,i){var o=t[n];n=qK(n),KK(n)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=n:o===!1?e+="not "+n:e+="("+n+": "+o+")",i<r.length-1&&(e+=" and ")}),e},YK=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(r,n){e+=Pk(r),n<t.length-1&&(e+=", ")}),e):Pk(t)},XK=YK;var Q2="https://js.stripe.com/v3",JK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Nk="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",QK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Q2,'"]')),r=0;r<e.length;r++){var n=e[r];if(JK.test(n.src))return n}return null},Ik=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Q2).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},ZK=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.3.0",startTime:r})},Zl=null,nd=null,id=null,eY=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},tY=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},rY=function(e){return Zl!==null?Zl:(Zl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(Nk),window.Stripe){r(window.Stripe);return}try{var i=QK();if(i&&e)console.warn(Nk);else if(!i)i=Ik(e);else if(i&&id!==null&&nd!==null){var o;i.removeEventListener("load",id),i.removeEventListener("error",nd),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=Ik(e)}id=tY(r,n),nd=eY(n),i.addEventListener("load",id),i.addEventListener("error",nd)}catch(a){n(a);return}}),Zl.catch(function(r){return Zl=null,Promise.reject(r)}))},nY=function(e,r,n){if(e===null)return null;var i=e.apply(void 0,r);return ZK(i,n),i},eu,Z2=!1,eP=function(){return eu||(eu=rY(null).catch(function(e){return eu=null,Promise.reject(e)}),eu)};Promise.resolve().then(function(){return eP()}).catch(function(t){Z2||console.warn(t)});var iY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Z2=!0;var i=Date.now();return eP().then(function(o){return nY(o,r,i)})},tP={exports:{}},oY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aY=oY,sY=aY;function rP(){}function nP(){}nP.resetWarningCache=rP;var lY=function(){function t(n,i,o,a,s,l){if(l!==sY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nP,resetWarningCache:rP};return r.PropTypes=r,r};tP.exports=lY();var uY=tP.exports;const ht=cl(uY);function Lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(r),!0).forEach(function(n){iP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ad(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ad=function(e){return typeof e}:Ad=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function iP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cY(t,e){return fY(t)||dY(t,e)||pY(t,e)||hY()}function fY(t){if(Array.isArray(t))return t}function dY(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function pY(t,e){if(t){if(typeof t=="string")return zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(t,e)}}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jr=function(e,r,n){var i=!!n,o=re.useRef(n);re.useEffect(function(){o.current=n},[n]),re.useEffect(function(){if(!i||!e)return function(){};var a=function(){o.current&&o.current.apply(o,arguments)};return e.on(r,a),function(){e.off(r,a)}},[i,r,e,o])},gY=function(e){var r=re.useRef(e);return re.useEffect(function(){r.current=e},[e]),r.current},Qp=function(e){return e!==null&&Ad(e)==="object"},Fk="[object Object]",mY=function t(e,r){if(!Qp(e)||!Qp(r))return e===r;var n=Array.isArray(e),i=Array.isArray(r);if(n!==i)return!1;var o=Object.prototype.toString.call(e)===Fk,a=Object.prototype.toString.call(r)===Fk;if(o!==a)return!1;if(!o&&!n)return e===r;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(var u={},c=0;c<s.length;c+=1)u[s[c]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var d=Object.keys(u);if(d.length!==s.length)return!1;var p=e,h=r,g=function(v){return t(p[v],h[v])};return d.every(g)},vY=function(e,r,n){return Qp(e)?Object.keys(e).reduce(function(i,o){var a=!Qp(r)||!mY(e[o],r[o]);return n.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):a?Bk(Bk({},i||{}),{},iP({},o,e[o])):i},null):null},oP=re.createContext(null);oP.displayName="ElementsContext";var yY=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e};ht.any,ht.object;ht.func.isRequired;var aP=re.createContext(null);aP.displayName="CustomCheckoutSdkContext";var bY=function(e,r){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return e},wY=re.createContext(null);wY.displayName="CustomCheckoutContext";ht.any,ht.shape({clientSecret:ht.string.isRequired,elementsOptions:ht.object}).isRequired;var jk=function(e){var r=re.useContext(aP),n=re.useContext(oP);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?bY(r,e):yY(n,e)},SY=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},zt=function(e,r){var n="".concat(SY(e),"Element"),i=function(l){var u=l.id,c=l.className,f=l.options,d=f===void 0?{}:f,p=l.onBlur,h=l.onFocus,g=l.onReady,m=l.onChange,v=l.onEscape,b=l.onClick,w=l.onLoadError,y=l.onLoaderStart,x=l.onNetworksChange,S=l.onConfirm,C=l.onCancel,E=l.onShippingAddressChange,k=l.onShippingRateChange,T=jk("mounts <".concat(n,">")),A="elements"in T?T.elements:null,O="customCheckoutSdk"in T?T.customCheckoutSdk:null,_=re.useState(null),N=cY(_,2),M=N[0],L=N[1],I=re.useRef(null),R=re.useRef(null);jr(M,"blur",p),jr(M,"focus",h),jr(M,"escape",v),jr(M,"click",b),jr(M,"loaderror",w),jr(M,"loaderstart",y),jr(M,"networkschange",x),jr(M,"confirm",S),jr(M,"cancel",C),jr(M,"shippingaddresschange",E),jr(M,"shippingratechange",k),jr(M,"change",m);var z;g&&(e==="expressCheckout"?z=g:z=function(){g(M)}),jr(M,"ready",z),re.useLayoutEffect(function(){if(I.current===null&&R.current!==null&&(A||O)){var D=null;O?D=O.createElement(e,d):A&&(D=A.create(e,d)),I.current=D,L(D),D&&D.mount(R.current)}},[A,O,d]);var j=gY(d);return re.useEffect(function(){if(I.current){var D=vY(d,j,["paymentRequest"]);D&&I.current.update(D)}},[d,j]),re.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),re.createElement("div",{id:u,className:c,ref:R})},o=function(l){jk("mounts <".concat(n,">"));var u=l.id,c=l.className;return re.createElement("div",{id:u,className:c})},a=r?o:i;return a.propTypes={id:ht.string,className:ht.string,onChange:ht.func,onBlur:ht.func,onFocus:ht.func,onReady:ht.func,onEscape:ht.func,onClick:ht.func,onLoadError:ht.func,onLoaderStart:ht.func,onNetworksChange:ht.func,onConfirm:ht.func,onCancel:ht.func,onShippingAddressChange:ht.func,onShippingRateChange:ht.func,options:ht.object},a.displayName=n,a.__elementType=e,a},Ft=typeof window>"u",xY=re.createContext(null);xY.displayName="EmbeddedCheckoutProviderContext";zt("auBankAccount",Ft);zt("card",Ft);zt("cardNumber",Ft);zt("cardExpiry",Ft);zt("cardCvc",Ft);zt("fpxBank",Ft);zt("iban",Ft);zt("idealBank",Ft);zt("p24Bank",Ft);zt("epsBank",Ft);zt("payment",Ft);zt("expressCheckout",Ft);zt("paymentRequestButton",Ft);zt("linkAuthentication",Ft);zt("address",Ft);zt("shippingAddress",Ft);zt("paymentMethodMessaging",Ft);zt("affirmMessage",Ft);zt("afterpayClearpayMessage",Ft);iY(XH);var EY={},sP={},hg={},lP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},r=e;t.default=r})(lP);var CY="Expected a function",Hk=0/0,kY="[object Symbol]",TY=/^\s+|\s+$/g,OY=/^[-+]0x[0-9a-f]+$/i,_Y=/^0b[01]+$/i,MY=/^0o[0-7]+$/i,AY=parseInt,DY=typeof iu=="object"&&iu&&iu.Object===Object&&iu,RY=typeof self=="object"&&self&&self.Object===Object&&self,PY=DY||RY||Function("return this")(),NY=Object.prototype,IY=NY.toString,LY=Math.max,BY=Math.min,Zm=function(){return PY.Date.now()};function zY(t,e,r){var n,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(CY);e=Uk(e)||0,Cy(r)&&(c=!!r.leading,f="maxWait"in r,o=f?LY(Uk(r.maxWait)||0,e):o,d="trailing"in r?!!r.trailing:d);function p(S){var C=n,E=i;return n=i=void 0,u=S,a=t.apply(E,C),a}function h(S){return u=S,s=setTimeout(v,e),c?p(S):a}function g(S){var C=S-l,E=S-u,k=e-C;return f?BY(k,o-E):k}function m(S){var C=S-l,E=S-u;return l===void 0||C>=e||C<0||f&&E>=o}function v(){var S=Zm();if(m(S))return b(S);s=setTimeout(v,g(S))}function b(S){return s=void 0,d&&n?p(S):(n=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function y(){return s===void 0?a:b(Zm())}function x(){var S=Zm(),C=m(S);if(n=arguments,i=this,l=S,C){if(s===void 0)return h(l);if(f)return s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return x.cancel=w,x.flush=y,x}function Cy(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function FY(t){return!!t&&typeof t=="object"}function jY(t){return typeof t=="symbol"||FY(t)&&IY.call(t)==kY}function Uk(t){if(typeof t=="number")return t;if(jY(t))return Hk;if(Cy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(TY,"");var r=_Y.test(t);return r||MY.test(t)?AY(t.slice(2),r?2:8):OY.test(t)?Hk:+t}var HY=zY,pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.checkSpecKeys=pe.checkNavigable=pe.changeSlide=pe.canUseDOM=pe.canGoNext=void 0;pe.clamp=uP;pe.swipeStart=pe.swipeMove=pe.swipeEnd=pe.slidesOnRight=pe.slidesOnLeft=pe.slideHandler=pe.siblingDirection=pe.safePreventDefault=pe.lazyStartIndex=pe.lazySlidesOnRight=pe.lazySlidesOnLeft=pe.lazyEndIndex=pe.keyHandler=pe.initializedState=pe.getWidth=pe.getTrackLeft=pe.getTrackCSS=pe.getTrackAnimateCSS=pe.getTotalSlides=pe.getSwipeDirection=pe.getSlideCount=pe.getRequiredLazySlides=pe.getPreClones=pe.getPostClones=pe.getOnDemandLazySlides=pe.getNavigableIndexes=pe.getHeight=pe.extractObject=void 0;var UY=$Y(U);function $Y(t){return t&&t.__esModule?t:{default:t}}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){VY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uP(t,e,r){return Math.max(e,Math.min(t,r))}var ua=function(e){var r=["onTouchStart","onTouchMove","onWheel"];r.includes(e._reactName)||e.preventDefault()};pe.safePreventDefault=ua;var Aw=function(e){for(var r=[],n=Dw(e),i=Rw(e),o=n;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&r.push(o);return r};pe.getOnDemandLazySlides=Aw;var WY=function(e){for(var r=[],n=Dw(e),i=Rw(e),o=n;o<i;o++)r.push(o);return r};pe.getRequiredLazySlides=WY;var Dw=function(e){return e.currentSlide-cP(e)};pe.lazyStartIndex=Dw;var Rw=function(e){return e.currentSlide+fP(e)};pe.lazyEndIndex=Rw;var cP=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};pe.lazySlidesOnLeft=cP;var fP=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};pe.lazySlidesOnRight=fP;var Zp=function(e){return e&&e.offsetWidth||0};pe.getWidth=Zp;var Pw=function(e){return e&&e.offsetHeight||0};pe.getHeight=Pw;var Nw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,o,a;return n=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,n),a=Math.round(o*180/Math.PI),a<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?"left":a>=135&&a<=225?"right":r===!0?a>=35&&a<=135?"up":"down":"vertical"};pe.getSwipeDirection=Nw;var Iw=function(e){var r=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(r=!1),r};pe.canGoNext=Iw;var GY=function(e,r){var n={};return r.forEach(function(i){return n[i]=e[i]}),n};pe.extractObject=GY;var qY=function(e){var r=UY.default.Children.count(e.children),n=e.listRef,i=Math.ceil(Zp(n)),o=e.trackRef&&e.trackRef.node,a=Math.ceil(Zp(o)),s;if(e.vertical)s=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),s=Math.ceil((i-l)/e.slidesToShow)}var u=n&&Pw(n.querySelector('[data-index="0"]')),c=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=r-1-e.initialSlide);var d=e.lazyLoadedList||[],p=Aw(ut(ut({},e),{},{currentSlide:f,lazyLoadedList:d}));d=d.concat(p);var h={slideCount:r,slideWidth:s,listWidth:i,trackWidth:a,currentSlide:f,slideHeight:u,listHeight:c,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(h.autoplaying="playing"),h};pe.initializedState=qY;var KY=function(e){var r=e.waitForAnimate,n=e.animating,i=e.fade,o=e.infinite,a=e.index,s=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,f=e.slidesToScroll,d=e.slidesToShow,p=e.useCSS,h=e.lazyLoadedList;if(r&&n)return{};var g=a,m,v,b,w={},y={},x=o?a:uP(a,0,s-1);if(i){if(!o&&(a<0||a>=s))return{};a<0?g=a+s:a>=s&&(g=a-s),l&&h.indexOf(g)<0&&(h=h.concat(g)),w={animating:!0,currentSlide:g,lazyLoadedList:h,targetSlide:g},y={animating:!1,targetSlide:g}}else m=g,g<0?(m=g+s,o?s%f!==0&&(m=s-s%f):m=0):!Iw(e)&&g>u?g=m=u:c&&g>=s?(g=o?s:s-1,m=o?0:s-1):g>=s&&(m=g-s,o?s%f!==0&&(m=0):m=s-d),!o&&g+d>=s&&(m=s-d),v=Lc(ut(ut({},e),{},{slideIndex:g})),b=Lc(ut(ut({},e),{},{slideIndex:m})),o||(v===b&&(g=m),v=b),l&&(h=h.concat(Aw(ut(ut({},e),{},{currentSlide:g})))),p?(w={animating:!0,currentSlide:m,trackStyle:Lw(ut(ut({},e),{},{left:v})),lazyLoadedList:h,targetSlide:x},y={animating:!1,currentSlide:m,trackStyle:Ic(ut(ut({},e),{},{left:b})),swipeLeft:null,targetSlide:x}):w={currentSlide:m,trackStyle:Ic(ut(ut({},e),{},{left:b})),lazyLoadedList:h,targetSlide:x};return{state:w,nextState:y}};pe.slideHandler=KY;var YY=function(e,r){var n,i,o,a,s,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,f=e.currentSlide,d=e.targetSlide,p=e.lazyLoad,h=e.infinite;if(a=c%l!==0,n=a?0:(c-f)%l,r.message==="previous")o=n===0?l:u-n,s=f-o,p&&!h&&(i=f-o,s=i===-1?c-1:i),h||(s=d-l);else if(r.message==="next")o=n===0?l:n,s=f+o,p&&!h&&(s=(f+l)%c+n),h||(s=d+l);else if(r.message==="dots")s=r.index*r.slidesToScroll;else if(r.message==="children"){if(s=r.index,h){var g=gP(ut(ut({},e),{},{targetSlide:s}));s>r.currentSlide&&g==="left"?s=s-c:s<r.currentSlide&&g==="right"&&(s=s+c)}}else r.message==="index"&&(s=Number(r.index));return s};pe.changeSlide=YY;var XY=function(e,r,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!r?"":e.keyCode===37?n?"next":"previous":e.keyCode===39?n?"previous":"next":""};pe.keyHandler=XY;var JY=function(e,r,n){return e.target.tagName==="IMG"&&ua(e),!r||!n&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};pe.swipeStart=JY;var QY=function(e,r){var n=r.scrolling,i=r.animating,o=r.vertical,a=r.swipeToSlide,s=r.verticalSwiping,l=r.rtl,u=r.currentSlide,c=r.edgeFriction,f=r.edgeDragged,d=r.onEdge,p=r.swiped,h=r.swiping,g=r.slideCount,m=r.slidesToScroll,v=r.infinite,b=r.touchObject,w=r.swipeEvent,y=r.listHeight,x=r.listWidth;if(!n){if(i)return ua(e);o&&a&&s&&ua(e);var S,C={},E=Lc(r);b.curX=e.touches?e.touches[0].pageX:e.clientX,b.curY=e.touches?e.touches[0].pageY:e.clientY,b.swipeLength=Math.round(Math.sqrt(Math.pow(b.curX-b.startX,2)));var k=Math.round(Math.sqrt(Math.pow(b.curY-b.startY,2)));if(!s&&!h&&k>10)return{scrolling:!0};s&&(b.swipeLength=k);var T=(l?-1:1)*(b.curX>b.startX?1:-1);s&&(T=b.curY>b.startY?1:-1);var A=Math.ceil(g/m),O=Nw(r.touchObject,s),_=b.swipeLength;return v||(u===0&&(O==="right"||O==="down")||u+1>=A&&(O==="left"||O==="up")||!Iw(r)&&(O==="left"||O==="up"))&&(_=b.swipeLength*c,f===!1&&d&&(d(O),C.edgeDragged=!0)),!p&&w&&(w(O),C.swiped=!0),o?S=E+_*(y/x)*T:l?S=E-_*T:S=E+_*T,s&&(S=E+_*T),C=ut(ut({},C),{},{touchObject:b,swipeLeft:S,trackStyle:Ic(ut(ut({},r),{},{left:S}))}),Math.abs(b.curX-b.startX)<Math.abs(b.curY-b.startY)*.8||b.swipeLength>10&&(C.swiping=!0,ua(e)),C}};pe.swipeMove=QY;var ZY=function(e,r){var n=r.dragging,i=r.swipe,o=r.touchObject,a=r.listWidth,s=r.touchThreshold,l=r.verticalSwiping,u=r.listHeight,c=r.swipeToSlide,f=r.scrolling,d=r.onSwipe,p=r.targetSlide,h=r.currentSlide,g=r.infinite;if(!n)return i&&ua(e),{};var m=l?u/s:a/s,v=Nw(o,l),b={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!o.swipeLength)return b;if(o.swipeLength>m){ua(e),d&&d(v);var w,y,x=g?h:p;switch(v){case"left":case"up":y=x+Ty(r),w=c?ky(r,y):y,b.currentDirection=0;break;case"right":case"down":y=x-Ty(r),w=c?ky(r,y):y,b.currentDirection=1;break;default:w=x}b.triggerSlideHandler=w}else{var S=Lc(r);b.trackStyle=Lw(ut(ut({},r),{},{left:S}))}return b};pe.swipeEnd=ZY;var dP=function(e){for(var r=e.infinite?e.slideCount*2:e.slideCount,n=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];n<r;)o.push(n),n=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o};pe.getNavigableIndexes=dP;var ky=function(e,r){var n=dP(e),i=0;if(r>n[n.length-1])r=n[n.length-1];else for(var o in n){if(r<n[o]){r=i;break}i=n[o]}return r};pe.checkNavigable=ky;var Ty=function(e){var r=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+Pw(l)/2>e.swipeLeft*-1)return n=l,!1}else if(l.offsetLeft-r+Zp(l)/2>e.swipeLeft*-1)return n=l,!1;return!0}),!n)return 0;var a=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,s=Math.abs(n.dataset.index-a)||1;return s}else return e.slidesToScroll};pe.getSlideCount=Ty;var gg=function(e,r){return r.reduce(function(n,i){return n&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};pe.checkSpecKeys=gg;var Ic=function(e){gg(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r,n,i=e.slideCount+2*e.slidesToShow;e.vertical?n=i*e.slideHeight:r=hP(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=ut(ut({},o),{},{WebkitTransform:a,transform:s,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),r&&(o.width=r),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o};pe.getTrackCSS=Ic;var Lw=function(e){gg(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var r=Ic(e);return e.useTransform?(r.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,r.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?r.transition="top "+e.speed+"ms "+e.cssEase:r.transition="left "+e.speed+"ms "+e.cssEase,r};pe.getTrackAnimateCSS=Lw;var Lc=function(e){if(e.unslick)return 0;gg(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var r=e.slideIndex,n=e.trackRef,i=e.infinite,o=e.centerMode,a=e.slideCount,s=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,f=e.variableWidth,d=e.slideHeight,p=e.fade,h=e.vertical,g=0,m,v,b=0;if(p||e.slideCount===1)return 0;var w=0;if(i?(w=-Ju(e),a%l!==0&&r+l>a&&(w=-(r>a?s-(r-a):a%l)),o&&(w+=parseInt(s/2))):(a%l!==0&&r+l>a&&(w=s-a%l),o&&(w=parseInt(s/2))),g=w*u,b=w*d,h?m=r*d*-1+b:m=r*u*-1+g,f===!0){var y,x=n&&n.node;if(y=r+Ju(e),v=x&&x.childNodes[y],m=v?v.offsetLeft*-1:0,o===!0){y=i?r+Ju(e):r,v=x&&x.children[y],m=0;for(var S=0;S<y;S++)m-=x&&x.children[S]&&x.children[S].offsetWidth;m-=parseInt(e.centerPadding),m+=v&&(c-v.offsetWidth)/2}}return m};pe.getTrackLeft=Lc;var Ju=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};pe.getPreClones=Ju;var pP=function(e){return e.unslick||!e.infinite?0:e.slideCount};pe.getPostClones=pP;var hP=function(e){return e.slideCount===1?1:Ju(e)+e.slideCount+pP(e)};pe.getTotalSlides=hP;var gP=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+mP(e)?"left":"right":e.targetSlide<e.currentSlide-vP(e)?"right":"left"};pe.siblingDirection=gP;var mP=function(e){var r=e.slidesToShow,n=e.centerMode,i=e.rtl,o=e.centerPadding;if(n){var a=(r-1)/2+1;return parseInt(o)>0&&(a+=1),i&&r%2===0&&(a+=1),a}return i?0:r-1};pe.slidesOnRight=mP;var vP=function(e){var r=e.slidesToShow,n=e.centerMode,i=e.rtl,o=e.centerPadding;if(n){var a=(r-1)/2+1;return parseInt(o)>0&&(a+=1),!i&&r%2===0&&(a+=1),a}return i?r-1:0};pe.slidesOnLeft=vP;var eX=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};pe.canUseDOM=eX;var mg={};function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}Object.defineProperty(mg,"__esModule",{value:!0});mg.Track=void 0;var Ui=yP(U),ev=yP(ff),tv=pe;function yP(t){return t&&t.__esModule?t:{default:t}}function _y(){return _y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_y.apply(this,arguments)}function tX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rX(t,e,r){return e&&Vk(t.prototype,e),r&&Vk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function My(t,e){return My=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},My(t,e)}function iX(t){var e=aX();return function(){var n=eh(t),i;if(e){var o=eh(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return oX(this,i)}}function oX(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ay(t)}function Ay(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(t)}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){Dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rv=function(e){var r,n,i,o,a;e.rtl?a=e.slideCount-1-e.index:a=e.index,i=a<0||a>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-o-1&&a<=e.currentSlide+o&&(r=!0)):r=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow;var s;e.targetSlide<0?s=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?s=e.targetSlide-e.slideCount:s=e.targetSlide;var l=a===s;return{"slick-slide":!0,"slick-active":r,"slick-center":n,"slick-cloned":i,"slick-current":l}},sX=function(e){var r={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(r.width=e.slideWidth),e.fade&&(r.position="relative",e.vertical?r.top=-e.index*parseInt(e.slideHeight):r.left=-e.index*parseInt(e.slideWidth),r.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(r.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),r},nv=function(e,r){return e.key||r},lX=function(e){var r,n=[],i=[],o=[],a=Ui.default.Children.count(e.children),s=(0,tv.lazyStartIndex)(e),l=(0,tv.lazyEndIndex)(e);return Ui.default.Children.forEach(e.children,function(u,c){var f,d={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?f=u:f=Ui.default.createElement("div",null);var p=sX(Mr(Mr({},e),{},{index:c})),h=f.props.className||"",g=rv(Mr(Mr({},e),{},{index:c}));if(n.push(Ui.default.cloneElement(f,{key:"original"+nv(f,c),"data-index":c,className:(0,ev.default)(g,h),tabIndex:"-1","aria-hidden":!g["slick-active"],style:Mr(Mr({outline:"none"},f.props.style||{}),p),onClick:function(b){f.props&&f.props.onClick&&f.props.onClick(b),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var m=a-c;m<=(0,tv.getPreClones)(e)&&a!==e.slidesToShow&&(r=-m,r>=s&&(f=u),g=rv(Mr(Mr({},e),{},{index:r})),i.push(Ui.default.cloneElement(f,{key:"precloned"+nv(f,r),"data-index":r,tabIndex:"-1",className:(0,ev.default)(g,h),"aria-hidden":!g["slick-active"],style:Mr(Mr({},f.props.style||{}),p),onClick:function(b){f.props&&f.props.onClick&&f.props.onClick(b),e.focusOnSelect&&e.focusOnSelect(d)}}))),a!==e.slidesToShow&&(r=a+c,r<l&&(f=u),g=rv(Mr(Mr({},e),{},{index:r})),o.push(Ui.default.cloneElement(f,{key:"postcloned"+nv(f,r),"data-index":r,tabIndex:"-1",className:(0,ev.default)(g,h),"aria-hidden":!g["slick-active"],style:Mr(Mr({},f.props.style||{}),p),onClick:function(b){f.props&&f.props.onClick&&f.props.onClick(b),e.focusOnSelect&&e.focusOnSelect(d)}})))}}),e.rtl?i.concat(n,o).reverse():i.concat(n,o)},uX=function(t){nX(r,t);var e=iX(r);function r(){var n;tX(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Dy(Ay(n),"node",null),Dy(Ay(n),"handleRef",function(s){n.node=s}),n}return rX(r,[{key:"render",value:function(){var i=lX(this.props),o=this.props,a=o.onMouseEnter,s=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:a,onMouseOver:s,onMouseLeave:l};return Ui.default.createElement("div",_y({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),r}(Ui.default.PureComponent);mg.Track=uX;var vg={};function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}Object.defineProperty(vg,"__esModule",{value:!0});vg.Dots=void 0;var od=bP(U),cX=bP(ff),Gk=pe;function bP(t){return t&&t.__esModule?t:{default:t}}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){dX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hX(t,e,r){return e&&Kk(t.prototype,e),r&&Kk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Py(t,e)}function mX(t){var e=bX();return function(){var n=th(t),i;if(e){var o=th(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return vX(this,i)}}function vX(t,e){if(e&&(Ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(t)}function yX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},th(t)}var wX=function(e){var r;return e.infinite?r=Math.ceil(e.slideCount/e.slidesToScroll):r=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,r},SX=function(t){gX(r,t);var e=mX(r);function r(){return pX(this,r),e.apply(this,arguments)}return hX(r,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,a=i.onMouseOver,s=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,f=i.slideCount,d=i.currentSlide,p=wX({slideCount:f,slidesToScroll:u,slidesToShow:c,infinite:l}),h={onMouseEnter:o,onMouseOver:a,onMouseLeave:s},g=[],m=0;m<p;m++){var v=(m+1)*u-1,b=l?v:(0,Gk.clamp)(v,0,f-1),w=b-(u-1),y=l?w:(0,Gk.clamp)(w,0,f-1),x=(0,cX.default)({"slick-active":l?d>=y&&d<=b:d===y}),S={message:"dots",index:m,slidesToScroll:u,currentSlide:d},C=this.clickHandler.bind(this,S);g=g.concat(od.default.createElement("li",{key:m,className:x},od.default.cloneElement(this.props.customPaging(m),{onClick:C})))}return od.default.cloneElement(this.props.appendDots(g),fX({className:this.props.dotsClass},h))}}]),r}(od.default.PureComponent);vg.Dots=SX;var ul={};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}Object.defineProperty(ul,"__esModule",{value:!0});ul.PrevArrow=ul.NextArrow=void 0;var Ns=SP(U),wP=SP(ff),xX=pe;function SP(t){return t&&t.__esModule?t:{default:t}}function rh(){return rh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rh.apply(this,arguments)}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){EX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EP(t,e,r){return e&&Xk(t.prototype,e),r&&Xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Iy(t,e)}function kP(t){var e=TX();return function(){var n=ih(t),i;if(e){var o=ih(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return CX(this,i)}}function CX(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kX(t)}function kX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}var OX=function(t){CP(r,t);var e=kP(r);function r(){return xP(this,r),e.apply(this,arguments)}return EP(r,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var a={key:"0","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:o},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Ns.default.cloneElement(this.props.prevArrow,nh(nh({},a),s)):l=Ns.default.createElement("button",rh({key:"0",type:"button"},a)," ","Previous"),l}}]),r}(Ns.default.PureComponent);ul.PrevArrow=OX;var _X=function(t){CP(r,t);var e=kP(r);function r(){return xP(this,r),e.apply(this,arguments)}return EP(r,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,xX.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var a={key:"1","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:o},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Ns.default.cloneElement(this.props.nextArrow,nh(nh({},a),s)):l=Ns.default.createElement("button",rh({key:"1",type:"button"},a)," ","Next"),l}}]),r}(Ns.default.PureComponent);ul.NextArrow=_X;const MX=zP(VK);Object.defineProperty(hg,"__esModule",{value:!0});hg.InnerSlider=void 0;var gr=hf(U),AX=hf(lP),DX=hf(HY),RX=hf(ff),pt=pe,PX=mg,NX=vg,Jk=ul,IX=hf(MX);function hf(t){return t&&t.__esModule?t:{default:t}}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function ah(){return ah=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ah.apply(this,arguments)}function LX(t,e){if(t==null)return{};var r=BX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function De(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function FX(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ly(t,e)}function HX(t){var e=$X();return function(){var n=sh(t),i;if(e){var o=sh(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return UX(this,i)}}function UX(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(t)}function Ue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var VX=function(t){jX(r,t);var e=HX(r);function r(n){var i;zX(this,r),i=e.call(this,n),Ue(He(i),"listRefHandler",function(a){return i.list=a}),Ue(He(i),"trackRefHandler",function(a){return i.track=a}),Ue(He(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var a=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,pt.getHeight)(a)+"px"}}),Ue(He(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var a=(0,pt.getOnDemandLazySlides)(De(De({},i.props),i.state));a.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}var s=De({listRef:i.list,trackRef:i.track},i.props);i.updateState(s,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new IX.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Ue(He(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(a){return clearTimeout(a)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Ue(He(i),"componentDidUpdate",function(a){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var s=(0,pt.getOnDemandLazySlides)(De(De({},i.props),i.state));s.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}i.adaptHeight();var l=De(De({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(a);u&&i.updateState(l,u,function(){i.state.currentSlide>=gr.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:gr.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Ue(He(i),"onWindowResized",function(a){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,DX.default)(function(){return i.resizeWindow(a)},50),i.debouncedResize()}),Ue(He(i),"resizeWindow",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(i.track&&i.track.node);if(s){var l=De(De({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,a,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Ue(He(i),"updateState",function(a,s,l){var u=(0,pt.initializedState)(a);a=De(De(De({},a),u),{},{slideIndex:u.currentSlide});var c=(0,pt.getTrackLeft)(a);a=De(De({},a),{},{left:c});var f=(0,pt.getTrackCSS)(a);(s||gr.default.Children.count(i.props.children)!==gr.default.Children.count(a.children))&&(u.trackStyle=f),i.setState(u,l)}),Ue(He(i),"ssrInit",function(){if(i.props.variableWidth){var a=0,s=0,l=[],u=(0,pt.getPreClones)(De(De(De({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,pt.getPostClones)(De(De(De({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(C){l.push(C.props.style.width),a+=C.props.style.width});for(var f=0;f<u;f++)s+=l[l.length-1-f],a+=l[l.length-1-f];for(var d=0;d<c;d++)a+=l[d];for(var p=0;p<i.state.currentSlide;p++)s+=l[p];var h={width:a+"px",left:-s+"px"};if(i.props.centerMode){var g="".concat(l[i.state.currentSlide],"px");h.left="calc(".concat(h.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:h}}var m=gr.default.Children.count(i.props.children),v=De(De(De({},i.props),i.state),{},{slideCount:m}),b=(0,pt.getPreClones)(v)+(0,pt.getPostClones)(v)+m,w=100/i.props.slidesToShow*b,y=100/b,x=-y*((0,pt.getPreClones)(v)+i.state.currentSlide)*w/100;i.props.centerMode&&(x+=(100-y*w/100)/2);var S={width:w+"%",left:x+"%"};return{slideWidth:y+"%",trackStyle:S}}),Ue(He(i),"checkImagesLoad",function(){var a=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],s=a.length,l=0;Array.prototype.forEach.call(a,function(u){var c=function(){return++l&&l>=s&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(){f(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Ue(He(i),"progressiveLazyLoad",function(){for(var a=[],s=De(De({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,pt.getPostClones)(s);l++)if(i.state.lazyLoadedList.indexOf(l)<0){a.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,pt.getPreClones)(s);u--)if(i.state.lazyLoadedList.indexOf(u)<0){a.push(u);break}a.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Ue(He(i),"slideHandler",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,f=l.onLazyLoad,d=l.speed,p=l.afterChange,h=i.state.currentSlide,g=(0,pt.slideHandler)(De(De(De({index:a},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!s})),m=g.state,v=g.nextState;if(m){c&&c(h,m.currentSlide);var b=m.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});f&&b.length>0&&f(b),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),p&&p(h),delete i.animationEndCallback),i.setState(m,function(){u&&i.asNavForIndex!==a&&(i.asNavForIndex=a,u.innerSlider.slideHandler(a)),v&&(i.animationEndCallback=setTimeout(function(){var w=v.animating,y=LX(v,["animating"]);i.setState(y,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),p&&p(m.currentSlide),delete i.animationEndCallback})},d))})}}),Ue(He(i),"changeSlide",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=De(De({},i.props),i.state),u=(0,pt.changeSlide)(l,a);if(!(u!==0&&!u)&&(s===!0?i.slideHandler(u,s):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),Ue(He(i),"clickHandler",function(a){i.clickable===!1&&(a.stopPropagation(),a.preventDefault()),i.clickable=!0}),Ue(He(i),"keyHandler",function(a){var s=(0,pt.keyHandler)(a,i.props.accessibility,i.props.rtl);s!==""&&i.changeSlide({message:s})}),Ue(He(i),"selectHandler",function(a){i.changeSlide(a)}),Ue(He(i),"disableBodyScroll",function(){var a=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=a}),Ue(He(i),"enableBodyScroll",function(){window.ontouchmove=null}),Ue(He(i),"swipeStart",function(a){i.props.verticalSwiping&&i.disableBodyScroll();var s=(0,pt.swipeStart)(a,i.props.swipe,i.props.draggable);s!==""&&i.setState(s)}),Ue(He(i),"swipeMove",function(a){var s=(0,pt.swipeMove)(a,De(De(De({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));s&&(s.swiping&&(i.clickable=!1),i.setState(s))}),Ue(He(i),"swipeEnd",function(a){var s=(0,pt.swipeEnd)(a,De(De(De({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(s){var l=s.triggerSlideHandler;delete s.triggerSlideHandler,i.setState(s),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Ue(He(i),"touchEnd",function(a){i.swipeEnd(a),i.clickable=!0}),Ue(He(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Ue(He(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Ue(He(i),"slickGoTo",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a=Number(a),isNaN(a))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:a,currentSlide:i.state.currentSlide},s)},0))}),Ue(He(i),"play",function(){var a;if(i.props.rtl)a=i.state.currentSlide-i.props.slidesToScroll;else if((0,pt.canGoNext)(De(De({},i.props),i.state)))a=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(a)}),Ue(He(i),"autoPlay",function(a){i.autoplayTimer&&clearInterval(i.autoplayTimer);var s=i.state.autoplaying;if(a==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(a==="leave"){if(s==="paused"||s==="focused")return}else if(a==="blur"&&(s==="paused"||s==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Ue(He(i),"pause",function(a){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var s=i.state.autoplaying;a==="paused"?i.setState({autoplaying:"paused"}):a==="focused"?(s==="hovered"||s==="playing")&&i.setState({autoplaying:"focused"}):s==="playing"&&i.setState({autoplaying:"hovered"})}),Ue(He(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ue(He(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ue(He(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ue(He(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ue(He(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Ue(He(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Ue(He(i),"render",function(){var a=(0,RX.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),s=De(De({},i.props),i.state),l=(0,pt.extractObject)(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=De(De({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,pt.extractObject)(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;f=De(De({},f),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),c=gr.default.createElement(NX.Dots,f)}var p,h,g=(0,pt.extractObject)(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=i.changeSlide,i.props.arrows&&(p=gr.default.createElement(Jk.PrevArrow,g),h=gr.default.createElement(Jk.NextArrow,g));var m=null;i.props.vertical&&(m={height:i.state.listHeight});var v=null;i.props.vertical===!1?i.props.centerMode===!0&&(v={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(v={padding:i.props.centerPadding+" 0px"});var b=De(De({},m),v),w=i.props.touchMove,y={className:"slick-list",style:b,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},x={className:a,dir:"ltr",style:i.props.style};return i.props.unslick&&(y={className:"slick-list"},x={className:a}),gr.default.createElement("div",x,i.props.unslick?"":p,gr.default.createElement("div",ah({ref:i.listRefHandler},y),gr.default.createElement(PX.Track,ah({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":h,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=De(De({},AX.default),{},{currentSlide:i.props.initialSlide,slideCount:gr.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=De(De({},i.state),o),i}return FX(r,[{key:"didPropsChange",value:function(i){for(var o=!1,a=0,s=Object.keys(this.props);a<s.length;a++){var l=s[a];if(!i.hasOwnProperty(l)){o=!0;break}if(!(oh(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){o=!0;break}}return o||gr.default.Children.count(this.props.children)!==gr.default.Children.count(i.children)}}]),r}(gr.default.Component);hg.InnerSlider=VX;var TP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(U);function r(o){return o&&o.__esModule?o:{default:o}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=n;t.default=i})(TP);var iv,eT;function WX(){if(eT)return iv;eT=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},iv=t,iv}var ov,tT;function OP(){if(tT)return ov;tT=1;function t(n,i){var o=0,a=n.length,s;for(o;o<a&&(s=i(n[o],o),s!==!1);o++);}function e(n){return Object.prototype.toString.apply(n)==="[object Array]"}function r(n){return typeof n=="function"}return ov={isFunction:r,isArray:e,each:t},ov}var av,rT;function GX(){if(rT)return av;rT=1;var t=WX(),e=OP().each;function r(n,i){this.query=n,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(n);var o=this;this.listener=function(a){o.mql=a.currentTarget||a,o.assess()},this.mql.addListener(this.listener)}return r.prototype={constuctor:r,addHandler:function(n){var i=new t(n);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(n){var i=this.handlers;e(i,function(o,a){if(o.equals(n))return o.destroy(),!i.splice(a,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(n){n.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var n=this.matches()?"on":"off";e(this.handlers,function(i){i[n]()})}},av=r,av}var sv,nT;function qX(){if(nT)return sv;nT=1;var t=GX(),e=OP(),r=e.each,n=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(a,s,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[a]||(u[a]=new t(a,c)),n(s)&&(s={match:s}),i(s)||(s=[s]),r(s,function(f){n(f)&&(f={match:f}),u[a].addHandler(f)}),this},unregister:function(a,s){var l=this.queries[a];return l&&(s?l.removeHandler(s):(l.clear(),delete this.queries[a])),this}},sv=o,sv}var lv,iT;function KX(){if(iT)return lv;iT=1;var t=qX();return lv=new t,lv}(function(t){function e(E){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},e(E)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(U),n=hg,i=s(XK),o=s(TP),a=pe;function s(E){return E&&E.__esModule?E:{default:E}}function l(){return l=Object.assign||function(E){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(E[A]=T[A])}return E},l.apply(this,arguments)}function u(E,k){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);k&&(A=A.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),T.push.apply(T,A)}return T}function c(E){for(var k=1;k<arguments.length;k++){var T=arguments[k]!=null?arguments[k]:{};k%2?u(Object(T),!0).forEach(function(A){x(E,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(T,A))})}return E}function f(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function d(E,k){for(var T=0;T<k.length;T++){var A=k[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}function p(E,k,T){return k&&d(E.prototype,k),T&&d(E,T),Object.defineProperty(E,"prototype",{writable:!1}),E}function h(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),k&&g(E,k)}function g(E,k){return g=Object.setPrototypeOf||function(A,O){return A.__proto__=O,A},g(E,k)}function m(E){var k=w();return function(){var A=y(E),O;if(k){var _=y(this).constructor;O=Reflect.construct(A,arguments,_)}else O=A.apply(this,arguments);return v(this,O)}}function v(E,k){if(k&&(e(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(E)}function b(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(E){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},y(E)}function x(E,k,T){return k in E?Object.defineProperty(E,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[k]=T,E}var S=(0,a.canUseDOM)()&&KX(),C=function(E){h(T,E);var k=m(T);function T(A){var O;return f(this,T),O=k.call(this,A),x(b(O),"innerSliderRefHandler",function(_){return O.innerSlider=_}),x(b(O),"slickPrev",function(){return O.innerSlider.slickPrev()}),x(b(O),"slickNext",function(){return O.innerSlider.slickNext()}),x(b(O),"slickGoTo",function(_){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O.innerSlider.slickGoTo(_,N)}),x(b(O),"slickPause",function(){return O.innerSlider.pause("paused")}),x(b(O),"slickPlay",function(){return O.innerSlider.autoPlay("play")}),O.state={breakpoint:null},O._responsiveMediaHandlers=[],O}return p(T,[{key:"media",value:function(O,_){S.register(O,_),this._responsiveMediaHandlers.push({query:O,handler:_})}},{key:"componentDidMount",value:function(){var O=this;if(this.props.responsive){var _=this.props.responsive.map(function(M){return M.breakpoint});_.sort(function(M,L){return M-L}),_.forEach(function(M,L){var I;L===0?I=(0,i.default)({minWidth:0,maxWidth:M}):I=(0,i.default)({minWidth:_[L-1]+1,maxWidth:M}),(0,a.canUseDOM)()&&O.media(I,function(){O.setState({breakpoint:M})})});var N=(0,i.default)({minWidth:_.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(N,function(){O.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(O){S.unregister(O.query,O.handler)})}},{key:"render",value:function(){var O=this,_,N;this.state.breakpoint?(N=this.props.responsive.filter(function(W){return W.breakpoint===O.state.breakpoint}),_=N[0].settings==="unslick"?"unslick":c(c(c({},o.default),this.props),N[0].settings)):_=c(c({},o.default),this.props),_.centerMode&&(_.slidesToScroll>1,_.slidesToScroll=1),_.fade&&(_.slidesToShow>1,_.slidesToScroll>1,_.slidesToShow=1,_.slidesToScroll=1);var M=r.default.Children.toArray(this.props.children);M=M.filter(function(W){return typeof W=="string"?!!W.trim():!!W}),_.variableWidth&&(_.rows>1||_.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),_.variableWidth=!1);for(var L=[],I=null,R=0;R<M.length;R+=_.rows*_.slidesPerRow){for(var z=[],j=R;j<R+_.rows*_.slidesPerRow;j+=_.slidesPerRow){for(var D=[],$=j;$<j+_.slidesPerRow&&(_.variableWidth&&M[$].props.style&&(I=M[$].props.style.width),!($>=M.length));$+=1)D.push(r.default.cloneElement(M[$],{key:100*R+10*j+$,tabIndex:-1,style:{width:"".concat(100/_.slidesPerRow,"%"),display:"inline-block"}}));z.push(r.default.createElement("div",{key:10*R+j},D))}_.variableWidth?L.push(r.default.createElement("div",{key:R,style:{width:I}},z)):L.push(r.default.createElement("div",{key:R},z))}if(_==="unslick"){var V="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:V},M)}else L.length<=_.slidesToShow&&(_.unslick=!0);return r.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},_),L)}}]),T}(r.default.Component);t.default=C})(sP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(sP);function r(i){return i&&i.__esModule?i:{default:i}}var n=e.default;t.default=n})(EY);const _P=t$,YX=()=>{const[t,e]=U.useState(),[r,n]=U.useState(!0),i=U.useRef(),o=U.useRef(),[a,s]=U.useState();let{path:l}=qc();const u=U.useCallback(async c=>{try{if(a)return;const f=await Xs.getPage(c);s(f.data);const d=`<h1 data-type="page-title">${f.data.title}</h1>${f.data.content}`;e(d)}catch(f){if(f instanceof ti&&f.status===401)return rf();f.message&&Dt.error(f.message)}finally{n(!1)}},[n,e,s,a]);return U.useEffect(()=>{if(l){u(l);return}document.addEventListener(qH+"ResDraft",c=>{let f=c.detail;try{typeof c.detail=="string"&&(f=JSON.parse(c.detail))}catch(x){console.error(x)}let d=f.title;const p=f.url,h=f.content;let g=mK(p,h);const m=g==null?void 0:g.config,{enTitle:v,zhTitle:b}=_b(d,g);i.current=f,o.current=g;let w="";(m==null?void 0:m.showOriginalTitle)!==!1&&(w=`<blockquote><p><a href="${p}" target="_blank">点击查看原文</a></p></blockquote>`,v&&v!=b&&(w=`<blockquote><p>原文标题：<a href="${p}" target="_blank">${v}</a></p></blockquote>`));const y=`<h1 data-type="page-title">${b}</h1>${w}${g==null?void 0:g.content}`;e(y)}),(async()=>(await _P.waitPluginInjected(),document.dispatchEvent(new CustomEvent("immersiveTranslateReqDraft")),n(!1)))()},[l]),{postInfo:a,shareDataRef:i,articleRef:o,content:t,loading:r,setPostInfo:s}};function XX({shareDataRef:t,articleRef:e,postInfo:r,editorRef:n,setPostInfo:i}){const[o,a]=U.useState(!1),[s,l]=U.useState(!1),[u,c]=U.useState(""),f=U.useRef(!1);f.current=o;const{t:d}=yl();let{path:p}=qc();const h=z1(),g=U.useCallback(async()=>{var A;c("");const b=t.current,w=e.current,y=(A=n.current)==null?void 0:A.getHTML();if(!b||!w||!y)return Dt.error(d("publish.error.shareDataNotFound"));const{title:x,content:S,imgUrl:C,textContent:E}=Ak(y);if((x==null?void 0:x.length)>=256)return Dt.error(d("publish.error.titleLength"));if(!x)return Dt.error(d("publish.error.titleNotEmpty"));const k=(w==null?void 0:w.byline)||(w==null?void 0:w.siteName),T=new URL(b.url);a(!0);try{w.excerpt&&(b!=null&&b.target_lang)&&(w.excerpt=await I0.translate(w.excerpt,b.target_lang))}catch(O){console.error(O)}try{const O=await Xs.createPage({title:x,author:k,description:w.excerpt,sourceLocale:b.source_lang,targetLocale:b.target_lang,siteDomain:T.host,siteName:w.siteName,sourceUrl:b.url,cover:C,textContent:E,content:S});i(O.data),h(`/drafts/${O.data.path}`),c(dC(O.data.path,N0.DRAFTS)),l(!0)}catch(O){if(O instanceof ti&&O.status===401)return;Dt.error(O.message)}finally{a(!1)}},[e,t,i]),m=U.useCallback(async()=>{var C;if(!p||!n.current)return;const b=(C=n.current)==null?void 0:C.getHTML(),{title:w,content:y,imgUrl:x,textContent:S}=Ak(b);if((w==null?void 0:w.length)>=256)return Dt.error(d("publish.error.titleLength"));if(!w)return Dt.error(d("publish.error.titleNotEmpty"));a(!0);try{const E=await Xs.editPage(p,{title:w,cover:x,content:y,textContent:S});i(E.data),c(dC(E.data.path,N0.DRAFTS)),l(!0)}catch(E){if(E instanceof ti&&E.status===401)return;Dt.error(E.message)}finally{a(!1)}},[p]),v=U.useCallback(async()=>{if(!kD()){rf(!0);return}f.current||(p?await m():await g())},[m,g,f,p]);return{publishLoading:o,modalVisible:s,url:u,handlePublish:v,handleEdit:m,setModalVisible:l}}let oT=!1,aT=0;function JX(t,e,r){U.useEffect(()=>{if(!e||r)return;function n(){var s,l;if(aT++,oT||aT>20*3)return;const i=(s=t.current)==null?void 0:s.getJSON(),o=(i==null?void 0:i.content)||[];if(o.length<2){setTimeout(()=>{n()},50);return}const a=[];o.forEach((u,c)=>{var d,p;const f=(p=(d=o[c-1])==null?void 0:d.attrs)==null?void 0:p["data-type"];!u.content&&u.type=="paragraph"&&f=="translation"||a.push(u)}),i.content=a,(l=t.current)==null||l.commands.setContent(i),oT=!0}n()},[t,e,r])}const QX="_loading_a7m3f_1",ZX="_load8_a7m3f_1",eJ="_small_a7m3f_28",sT={loading:QX,load8:ZX,small:eJ,"load8-center":"_load8-center_a7m3f_1"};function Ea({hidden:t,className:e,size:r}){return X.jsx("div",{hidden:t,className:qp(sT.loading,e,{[sT.small]:r==="small"})})}function lT(){var p;const{t}=yl(),e=U.useRef(),{content:r,loading:n,articleRef:i,shareDataRef:o,postInfo:a,setPostInfo:s}=YX(),{handlePublish:l,url:u,modalVisible:c,setModalVisible:f,publishLoading:d}=XX({articleRef:i,shareDataRef:o,postInfo:a,setPostInfo:s,editorRef:e});return JX(e,r,a),X.jsx("div",{className:Qm["page-container"],children:X.jsxs("div",{className:Qm.content,children:[X.jsx(Y7,{defaultValue:r,className:"w-full",disableLocalStorage:!0,onEditorInit:h=>{e.current=h}},!!r+"-content"),X.jsxs("div",{title:t("publishDescription"),className:Qm["publish-btn"],onClick:l,children:[t("publish"),X.jsx(Ea,{hidden:!d,size:"small"})]}),X.jsx(Ea,{hidden:!n}),X.jsx($2,{isOpen:c,url:u,originalUrl:((p=o.current)==null?void 0:p.url)||(a==null?void 0:a.sourceUrl),title:(a==null?void 0:a.title)||"",onClose:()=>{f(!1)}})]})})}const tJ="_page_uguul_1",rJ="_options_uguul_10",By={page:tJ,"drop-view":"_drop-view_uguul_5",options:rJ,"loading-container":"_loading-container_uguul_14"};function uT(){const[t,e]=U.useState("select-file"),[r,n]=U.useState(),i=qc(),o=z1();U.useEffect(()=>{r||!i.pdfId||(n(i.pdfId),e("in-progress"))},[i.path]);const a=U.useCallback(async l=>{try{e("in-progress");const u=await Ab.processPDF(l,{conversion_formats:{html:!0}});n(u.data.pdf_id),o(`/pdfpro/${u.data.pdf_id}`)}catch(u){Dt.error(u.message),e("select-file")}},[]),s=U.useCallback(()=>{e("pdf-view")},[]);return t==="select-file"||!r?X.jsxs(X.Fragment,{children:[X.jsx(nJ,{onOpenFile:a}),X.jsx(Ea,{hidden:t==="select-file"})]}):t==="in-progress"?X.jsx(iJ,{pdfId:r,onDone:s}):X.jsx(oJ,{pdfId:r})}function nJ(t){const e=U.useRef(null),r=U.useRef(null);U.useEffect(()=>{var i,o;(i=r.current)==null||i.addEventListener("drop",a=>{var l;if(a.preventDefault(),!((l=a.dataTransfer)!=null&&l.items))return;const s=Array.from(a.dataTransfer.items).find(u=>u.kind==="file");if(s){const u=s.getAsFile();if(!(u!=null&&u.name.endsWith(".pdf"))){Dt.error("Please drop a PDF file! (请拖入一个 PDF 文件！)");return}t.onOpenFile(u)}}),(o=r.current)==null||o.addEventListener("dragover",a=>{a.preventDefault()})},[t.onOpenFile]);const n=U.useCallback(()=>{var i;(i=e.current)==null||i.click()},[]);return X.jsxs("div",{className:By.page,children:[X.jsx("input",{ref:e,accept:".pdf",hidden:!0,type:"file",onChange:i=>{var o;i.target.files,!(!i.target.files||((o=i.target.files)==null?void 0:o.length)===0)&&t.onOpenFile(i.target.files[0])}}),X.jsxs("div",{className:By["drop-view"],ref:r,children:[X.jsx("svg",{width:"72",height:"72","aria-hidden":"true",children:X.jsx("path",{d:"M36 18s-6-6-12-6-15 6-15 6v42s9-6 15-6 12 6 12 6c4-4 8-6 12-6s12 2 15 6V18c-6-4-12-6-15-6-4 0-8 2-12 6m0 0v42"})}),X.jsx("h1",{children:"Drop a PDF file here! (把本地 PDF 文件拖到这里！)"}),X.jsxs("h2",{children:["Or"," ",X.jsx("button",{onClick:n,children:"choose a file （选择一个文件）"})," ","to open it."]})]})]})}function iJ({pdfId:t,onDone:e}){const[r,n]=U.useState(0),i=U.useCallback(()=>{Ab.getProcessingStatus(t).then(o=>{n(o.data.percent_done),o.data.percent_done===100?e():(n(o.data.percent_done),setTimeout(()=>{i()},2e3))})},[t,e,n]);return U.useEffect(()=>{i()},[i]),X.jsxs("div",{className:By["loading-container"],children:[X.jsx(Ea,{hidden:!1}),X.jsxs("div",{className:" mt-20",children:["PDF 解析中 ",r,"%"]})]})}function oJ({pdfId:t}){const[e,r]=U.useState("");return U.useEffect(()=>{Ab.getConversionResults(`${t}.html`).then(n=>{r(n.data),n.data})},[t]),X.jsxs("div",{children:[X.jsx("div",{dangerouslySetInnerHTML:{__html:e}}),X.jsx(Ea,{hidden:!!e})]})}const aJ="_archiveTitle_a1ti3_12",sJ="_archiveHeader_a1ti3_15",lJ="_archiveNav_a1ti3_28",uJ="_archiveContent_a1ti3_38",Fa={"publish-btn":"_publish-btn_a1ti3_1","publish-btn-disabled":"_publish-btn-disabled_a1ti3_8",archiveTitle:aJ,archiveHeader:sJ,archiveNav:lJ,archiveContent:uJ},cJ=()=>{const[t,e]=U.useState(!0),r=U.useRef(),n=U.useRef(),[i,o]=U.useState();let{path:a}=qc();const s=U.useCallback(async l=>{try{if(i)return;const u=await Xs.getPage(l);let c=await kk(u.data.sourceUrl,u.data.content);n.current=c,c&&Tk(c.content,e),o(u.data)}catch(u){if(e(!1),u instanceof ti&&u.status===401)return rf();u.message&&Dt.error(u.message)}finally{}},[e,o,i]);return U.useEffect(()=>{if(a){s(a);return}document.addEventListener("immersiveTranslateResDraft",async l=>{let u=l.detail;try{typeof l.detail=="string"&&(u=JSON.parse(l.detail))}catch(p){console.error(p)}const c=u.url,f=u.content;let d=await kk(c,f,u);r.current=u,n.current=d,d&&Tk(d.content,e)}),(async()=>{const l=await _P.waitPluginInjected();i$(l$(l)),document.dispatchEvent(new CustomEvent("immersiveTranslateReqDraft"))})()},[a]),{postInfo:i,shareDataRef:r,articleRef:n,loading:t,setPostInfo:o}};function fJ({shareDataRef:t,articleRef:e,postInfo:r,setPostInfo:n}){const[i,o]=U.useState(!1),[a,s]=U.useState(!1),[l,u]=U.useState(""),c=U.useRef(!1);c.current=i;const{t:f}=yl(),d=z1();let{path:p}=qc();const h=U.useCallback(async()=>{u("");const v=t.current,b=e.current;if(!v||!b)return Dt.error(f("publish.error.shareDataNotFound"));const{zhTitle:w}=_b(v.title,b),y=(b==null?void 0:b.byline)||(b==null?void 0:b.siteName),x=new URL(v.url);try{o(!0);const S=await Xs.createPage({title:w,author:s$(y,30),description:b.textContent.slice(0,300),sourceLocale:v.source_lang,targetLocale:v.target_lang,siteDomain:x.host,siteName:b.siteName||x.host,sourceUrl:v.url,content:b.content,textContent:b.innerText,cover:b.cover,extData:JSON.stringify({singleHtml:!0})});n(S.data),d(`/preview/${S.data.path}`),u(S.data.url),s(!0)}catch(S){if(S instanceof ti&&S.status===401)return;Dt.error(S.message)}finally{o(!1)}},[e,t,n]),g=U.useCallback(async()=>{if(!p||!r||!e.current)return;const v=e.current;o(!0);try{const b=await Xs.editPage(p,{title:r.title,description:r.description,cover:r.cover,content:v.content});n(b.data),u(b.data.url),s(!0)}catch(b){if(b instanceof ti&&b.status===401)return;Dt.error(b.message)}finally{o(!1)}},[e,p,r]),m=U.useCallback(async()=>{if(!kD()){rf(!0);return}c.current||(p?await g():await h())},[g,h,c,p]);return{publishLoading:i,modalVisible:a,url:l,handlePublish:m,handleEdit:g,setModalVisible:s}}function dJ(){return X.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",className:"mr-2",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[X.jsx("title",{children:"world-globe-outline"}),X.jsx("path",{fill:"#fff",d:"M256,0Q362.11,0,436.9,75.1,512,149.89,512,256T436.9,436.9Q362.11,512,256,512T75.1,436.9Q0,362.11,0,256T75.1,75.1Q149.89,0,256,0ZM55.34,190.63a211.82,211.82,0,0,0,0,130.73h66a416,416,0,0,1,0-130.73Zm14.9,165.7q34.36,63.55,100.64,92.73a232.64,232.64,0,0,1-20.07-31.92,302.59,302.59,0,0,1-22.2-60.81ZM170.87,63.24Q104.59,92.43,70.54,155.37h58.07a304.36,304.36,0,0,1,22.2-60.51A198.45,198.45,0,0,1,170.87,63.24ZM151.72,190.63A390.59,390.59,0,0,0,145.94,256a390.48,390.48,0,0,0,5.78,65.37H241.1V190.63Zm82.7-143.51q-32.83,13.38-57.16,61.11-9.43,19.16-17.63,47.13H241.1V45.61a3.4,3.4,0,0,1-1.52.3h-1.82Zm3.34,419h1.82a5.12,5.12,0,0,0,1.52.3V356.33H159.62q8.21,28.28,17.63,47.43,24.32,47.74,57.16,61.11ZM274.24,45.91h-1.83a3.38,3.38,0,0,1-1.52-.3V155.37h81.48q-8.21-28-17.63-47.13-24.33-47.73-57.16-61.11Zm86,275.46A391.23,391.23,0,0,0,366.06,256a395,395,0,0,0-5.78-65.37H270.9V321.37Zm-82.7,143.51q32.84-13.39,57.16-61.11,9.73-19.16,17.63-47.43H270.9V466.39a5.1,5.1,0,0,0,1.52-.3h1.83ZM441.46,155.37q-34.06-62.94-100-92.12A212.61,212.61,0,0,1,361.2,94.86a295.22,295.22,0,0,1,22.2,60.51Zm-100,293.7q66-29.49,100-92.73H383.39q-8.52,33.74-22.2,60.81A226,226,0,0,1,341.43,449.06Zm49.25-258.43A412,412,0,0,1,395.86,256a415.71,415.71,0,0,1-5.17,65.37h66a211.89,211.89,0,0,0,0-130.73Z"})]})}function cT(){var f;const{t}=yl(),{loading:e,articleRef:r,postInfo:n,shareDataRef:i,setPostInfo:o}=cJ(),{handlePublish:a,publishLoading:s,modalVisible:l,url:u,setModalVisible:c}=fJ({articleRef:r,shareDataRef:i,postInfo:n,setPostInfo:o});return X.jsxs(X.Fragment,{children:[X.jsx(Ea,{hidden:!e,className:"fixed top-1/2 left-1/2 !w-8 !h-8 translate-x-1/2"}),X.jsx("header",{id:"archiveHeader",className:Fa.archiveHeader,children:X.jsxs("nav",{className:Fa.archiveNav,children:[X.jsx("div",{}),X.jsx("div",{className:Fa.archiveTitle,children:t("previewTitlte")}),X.jsxs("div",{title:t("publishDescription"),className:qp(Fa["publish-btn"],{[Fa["publish-btn-disabled"]]:s}),onClick:a,children:[X.jsx(dJ,{}),t("publish"),X.jsx(Ea,{hidden:!s,size:"small"})]})]})}),X.jsx("div",{className:Fa.archiveContent,id:"archiveContent"}),X.jsx($2,{isOpen:l,url:u,originalUrl:((f=i.current)==null?void 0:f.url)||(n==null?void 0:n.sourceUrl),title:(n==null?void 0:n.title)||"",onClose:()=>{c(!1)}})]})}const pJ=e3([{path:"/drafts",element:X.jsx(lT,{})},{path:"/drafts/:path",element:X.jsx(lT,{})},{path:"/preview",element:X.jsx(cT,{})},{path:"/preview/:path",element:X.jsx(cT,{})},{path:"/pdfpro",element:X.jsx(uT,{})},{path:"/pdfpro/:pdfId",element:X.jsx(uT,{})}]),hJ={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class lh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||hJ,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new lh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new lh(this.logger,e)}}var qn=new lh;class yg{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]=this.observers[n]||[],this.observers[n].push(r)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(n=>n!==r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(a=>{a(...n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...n])})}}function tu(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function fT(t){return t==null?"":""+t}function gJ(t,e,r){t.forEach(n=>{e[n]&&(r[n]=e[n])})}function Bw(t,e,r){function n(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}const o=typeof e!="string"?[].concat(e):e.split(".");for(;o.length>1;){if(i())return{};const a=n(o.shift());!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:n(o.shift())}}function dT(t,e,r){const{obj:n,k:i}=Bw(t,e,Object);n[i]=r}function mJ(t,e,r,n){const{obj:i,k:o}=Bw(t,e,Object);i[o]=i[o]||[],n&&(i[o]=i[o].concat(r)),n||i[o].push(r)}function uh(t,e){const{obj:r,k:n}=Bw(t,e);if(r)return r[n]}function vJ(t,e,r){const n=uh(t,r);return n!==void 0?n:uh(e,r)}function MP(t,e,r){for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):MP(t[n],e[n],r):t[n]=e[n]);return t}function ja(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function bJ(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>yJ[e]):t}const wJ=[" ",",","?","!",";"];function SJ(t,e,r){e=e||"",r=r||"";const n=wJ.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=new RegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(t);if(!o){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o}function ch(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let o=0;o<n.length;++o){if(!i||typeof i[n[o]]=="string"&&o+1<n.length)return;if(i[n[o]]===void 0){let a=2,s=n.slice(o,o+a).join(r),l=i[s];for(;l===void 0&&n.length>o+a;)a++,s=n.slice(o,o+a).join(r),l=i[s];if(l===void 0)return;if(l===null)return null;if(e.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}const u=n.slice(o+a).join(r);return u?ch(l,u,r):void 0}i=i[n[o]]}return i}function fh(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class pT extends yg{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s=[e,r];n&&typeof n!="string"&&(s=s.concat(n)),n&&typeof n=="string"&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."));const l=uh(this.data,s);return l||!a||typeof n!="string"?l:ch(this.data&&this.data[e]&&this.data[e][r],n,o)}addResource(e,r,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),dT(this.data,s,i),o.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(typeof n[o]=="string"||Object.prototype.toString.apply(n[o])==="[object Array]")&&this.addResource(e,r,o,n[o],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=uh(this.data,s)||{};i?MP(l,n,o):l={...l,...n},dT(this.data,s,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var AP={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,r,n,i))}),e}};const hT={};class dh extends yg{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!SJ(e,n,i);if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:o};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(i)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const y=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${y}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l}:`${l}${y}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l}:a}const f=this.resolve(e,r);let d=f&&f.res;const p=f&&f.usedKey||a,h=f&&f.exactUsedKey||a,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(g)<0&&!(typeof v=="string"&&g==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...r,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=y,f):y}if(o){const y=g==="[object Array]",x=y?[]:{},S=y?h:p;for(const C in d)if(Object.prototype.hasOwnProperty.call(d,C)){const E=`${S}${o}${C}`;x[C]=this.translate(E,{...r,joinArrays:!1,ns:s}),x[C]===E&&(x[C]=d[C])}d=x}}else if(b&&typeof v=="string"&&g==="[object Array]")d=d.join(v),d&&(d=this.extendTranslation(d,e,r,n));else{let y=!1,x=!1;const S=r.count!==void 0&&typeof r.count!="string",C=dh.hasDefaultValue(r),E=S?this.pluralResolver.getSuffix(u,r.count,r):"",k=r.ordinal&&S?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",T=r[`defaultValue${E}`]||r[`defaultValue${k}`]||r.defaultValue;!this.isValidLookup(d)&&C&&(y=!0,d=T),this.isValidLookup(d)||(x=!0,d=a);const O=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:d,_=C&&T!==d&&this.options.updateMissing;if(x||y||_){if(this.logger.log(_?"updateKey":"missingKey",u,l,a,_?T:d),o){const I=this.resolve(a,{...r,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let I=0;I<M.length;I++)N.push(M[I]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(r.lng||this.language):N.push(r.lng||this.language);const L=(I,R,z)=>{const j=C&&z!==d?z:O;this.options.missingKeyHandler?this.options.missingKeyHandler(I,l,R,j,_,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(I,l,R,j,_,r),this.emit("missingKey",I,l,R,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?N.forEach(I=>{this.pluralResolver.getSuffixes(I,r).forEach(R=>{L([I],a+R,r[`defaultValue${R}`]||T)})}):L(N,a,T))}d=this.extendTranslation(d,e,r,f,n),x&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(x||y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,y?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f):d}extendTranslation(e,r,n,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language,n),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];return o&&o[0]===p[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):a.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=AP.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,o,a,s;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&typeof r.count!="string",p=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),h=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(m=>{this.isValidLookup(n)||(s=m,!hT[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(hT[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(n))return;a=v;const b=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,c,v,m,r);else{let y;d&&(y=this.pluralResolver.getSuffix(v,r.count,r));const x=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(b.push(c+y),r.ordinal&&y.indexOf(S)===0&&b.push(c+y.replace(S,this.options.pluralSeparator)),p&&b.push(c+x)),h){const C=`${c}${this.options.contextSeparator}${r.context}`;b.push(C),d&&(b.push(C+y),r.ordinal&&y.indexOf(S)===0&&b.push(C+y.replace(S,this.options.pluralSeparator)),p&&b.push(C+x))}}let w;for(;w=b.pop();)this.isValidLookup(n)||(o=w,n=this.getResource(v,m,w,r))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}function uv(t){return t.charAt(0).toUpperCase()+t.slice(1)}class gT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qn.create("languageUtils")}getScriptPartFromCode(e){if(e=fh(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=fh(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=uv(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=uv(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=uv(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&o.indexOf(i)===0)return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let xJ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],EJ={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const CJ=["v1","v2","v3"],kJ=["v4"],mT={zero:0,one:1,two:2,few:3,many:4,other:5};function TJ(){const t={};return xJ.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:EJ[e.fc]}})}),t}class OJ{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=qn.create("pluralResolver"),(!this.options.compatibilityJSON||kJ.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=TJ()}addRule(e,r){this.rules[e]=r}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(fh(e),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,o)=>mT[i]-mT[o]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!CJ.includes(this.options.compatibilityJSON)}}function vT(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=vJ(t,e,r);return!o&&i&&typeof r=="string"&&(o=ch(t,r,n),o===void 0&&(o=ch(e,r,n))),o}class _J{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const r=e.interpolation;this.escape=r.escape!==void 0?r.escape:bJ,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?ja(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?ja(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?ja(r.nestingPrefix):r.nestingPrefixEscaped||ja("$t("),this.nestingSuffix=r.nestingSuffix?ja(r.nestingSuffix):r.nestingSuffixEscaped||ja(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const r=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(r,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,r,n,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(h){return h.replace(/\$/g,"$$$$")}const c=h=>{if(h.indexOf(this.formatSeparator)<0){const b=vT(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...i,...r,interpolationkey:h}):b}const g=h.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(vT(r,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...i,...r,interpolationkey:m})};this.resetRegExp();const f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>u(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?u(this.escape(h)):u(h)}].forEach(h=>{for(s=0;o=h.regex.exec(e);){const g=o[1].trim();if(a=c(g),a===void 0)if(typeof f=="function"){const v=f(e,o,i);a=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(d){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=fT(a));const m=h.safeValue(a);if(e=e.replace(o[0],m),d?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=o[0].length):h.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;function s(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,a);const p=d.match(/'/g),h=d.match(/"/g);(p&&p.length%2===0&&!h||h.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${d}`}return delete a.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(o=r(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=fT(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}function MJ(t){let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(!a)return;const[s,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");r[s.trim()]||(r[s.trim()]=u),u==="false"&&(r[s.trim()]=!1),u==="true"&&(r[s.trim()]=!0),isNaN(u)||(r[s.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:r}}function Ha(t){const e={};return function(n,i,o){const a=i+JSON.stringify(o);let s=e[a];return s||(s=t(fh(i),o),e[a]=s),s(n)}}class AJ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qn.create("formatter"),this.options=e,this.formats={number:Ha((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return o=>i.format(o)}),currency:Ha((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>i.format(o)}),datetime:Ha((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return o=>i.format(o)}),relativetime:Ha((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return o=>i.format(o,n.range||"day")}),list:Ha((r,n)=>{const i=new Intl.ListFormat(r,{...n});return o=>i.format(o)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ha(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((s,l)=>{const{formatName:u,formatOptions:c}=MJ(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](s,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return s},e)}}function DJ(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class RJ extends yg{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=qn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const o={},a={},s={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),o[d]===void 0&&(o[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),o=i[0],a=i[1];r&&this.emit("failedLoading",o,a,r),n&&this.store.addResourceBundle(o,a,n),this.state[e]=r?-1:2;const s={};this.queue.forEach(l=>{mJ(l.loaded,[o],a),DJ(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,o*2,a)},o);return}a(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof r=="string"&&(r=[r]);const o=this.queueLoad(e,r,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${r}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,r,n,i,s,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}function yT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let r={};if(typeof e[1]=="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:(t,e,r,n)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function bT(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ad(){}function PJ(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}class Bc extends yg{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=bT(e),this.services={},this.logger=qn,this.modules={external:[]},PJ(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=yT();this.options={...i,...this.options,...bT(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function o(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?qn.init(o(this.modules.logger),this.options):qn.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=AJ);const f=new gT(this.options);this.store=new pT(this.options.resources,this.options);const d=this.services;d.logger=qn,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new OJ(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new _J(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new RJ(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];e.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new dh(this.services,this.options),this.translator.on("*",function(p){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];e.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ad),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=tu(),u=()=>{const c=(f,d)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ad;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return n();const o=[],a=s=>{if(!s)return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=tu();return e||(e=this.languages),r||(r=this.options.ns),n||(n=ad),this.services.backendConnector.reload(e,r,o=>{i.resolve(),n(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&AP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=tu();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([a,s].concat(c))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||n||o.keyPrefix;const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(h=>`${l.keyPrefix}${d}${h}`):p=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,i.t(p,l)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};if(r.precheck){const s=r.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}loadNamespaces(e,r){const n=tu();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=tu();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new gT(yT());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Bc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ad;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Bc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new pT(this.store.data,i),o.services.resourceStore=o.store),o.translator=new dh(o.services,i),o.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(s,...u)}),o.init(i,r),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const hr=Bc.createInstance();hr.createInstance=Bc.createInstance;hr.createInstance;hr.dir;hr.init;hr.loadResources;hr.reloadResources;hr.use;hr.changeLanguage;hr.getFixedT;hr.t;hr.exists;hr.setDefaultNamespace;hr.hasLoadedNamespace;hr.loadNamespaces;hr.loadLanguages;var DP=[],NJ=DP.forEach,IJ=DP.slice;function LJ(t){return NJ.call(IJ.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}var wT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,BJ=function(e,r,n){var i=n||{};i.path=i.path||"/";var o=encodeURIComponent(r),a="".concat(e,"=").concat(o);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!wT.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!wT.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},ST={create:function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=BJ(e,encodeURIComponent(r),o)},read:function(e){for(var r="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},zJ={name:"cookie",lookup:function(e){var r;if(e.lookupCookie&&typeof document<"u"){var n=ST.read(e.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupCookie&&typeof document<"u"&&ST.create(r.lookupCookie,e,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},FJ={name:"querystring",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),o=i.split("&"),a=0;a<o.length;a++){var s=o[a].indexOf("=");if(s>0){var l=o[a].substring(0,s);l===e.lookupQuerystring&&(r=o[a].substring(s+1))}}}return r}},ru=null,xT=function(){if(ru!==null)return ru;try{ru=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ru=!1}return ru},jJ={name:"localStorage",lookup:function(e){var r;if(e.lookupLocalStorage&&xT()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupLocalStorage&&xT()&&window.localStorage.setItem(r.lookupLocalStorage,e)}},nu=null,ET=function(){if(nu!==null)return nu;try{nu=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{nu=!1}return nu},HJ={name:"sessionStorage",lookup:function(e){var r;if(e.lookupSessionStorage&&ET()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupSessionStorage&&ET()&&window.sessionStorage.setItem(r.lookupSessionStorage,e)}},UJ={name:"navigator",lookup:function(e){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},$J={name:"htmlTag",lookup:function(e){var r,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},VJ={name:"path",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;r=n[e.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},WJ={name:"subdomain",lookup:function(e){var r=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};function GJ(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var RP=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xK(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return kK(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=LJ(n,this.options||{},GJ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(zJ),this.addDetector(FJ),this.addDetector(jJ),this.addDetector(HJ),this.addDetector(UJ),this.addDetector($J),this.addDetector(VJ),this.addDetector(WJ)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(o){if(n.detectors[o]){var a=n.detectors[o].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(o){return n.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(r,i.options)}))}}]),t}();RP.type="languageDetector";const qJ="Immersive Translate",KJ="Share",YJ="Copy successful",XJ="After clicking share, a link to a publicly accessible snapshot page will be generated",JJ="Your login has expired, please log in again.",QJ="Log In",ZJ="Preview Bilingual Snapshot Page",eQ="(Scan the QR code to read)",tQ={title:qJ,publish:KJ,"publish.success":"Snapshot saved","publish.shareTo":"Share to:","publish.error.titleLength":"Title length cannot exceed 256 characters","publish.error.titleEmpty":"Title cannot be empty","publish.error.shareDataNotFound":"Failed to retrieve article information",copySuccess:YJ,publishDescription:XJ,tokenInvalid:JJ,login:QJ,previewTitlte:ZJ,scanToRead:eQ},rQ="沉浸式翻译",nQ="分享",iQ="复制成功",oQ="点击分享后，将会生成一个可公开访问的快照页面链接",aQ="您的登录已过期，请重新登录。",sQ="登录",lQ="预览双语快照页面",uQ="（手机扫码可阅读或分享）",cQ={title:rQ,publish:nQ,"publish.success":"已保存快照页面","publish.shareTo":"分享到：","publish.error.titleLength":"标题长度不能超过256个字符","publish.error.titleEmpty":"标题不能为空","publish.error.shareDataNotFound":"未能获取到文章信息",copySuccess:iQ,publishDescription:oQ,tokenInvalid:aQ,login:sQ,previewTitlte:lQ,scanToRead:uQ},fQ="沉浸式翻譯",dQ="分享",pQ="複製成功",hQ="點擊分享後，將會生成一個可公開訪問的快照頁面連結",gQ="您的登錄已過期，請重新登錄。",mQ="登錄",vQ="預覽雙語快照頁面",yQ="（手機掃碼可閱讀或分享）",bQ={title:fQ,publish:dQ,"publish.success":"已儲存快照頁面","publish.shareTo":"分享到：","publish.error.titleLength":"標題長度不能超過256個字符","publish.error.titleEmpty":"標題不能為空","publish.error.shareDataNotFound":"未能獲取到文章信息",copySuccess:pQ,publishDescription:hQ,tokenInvalid:gQ,login:mQ,previewTitlte:vQ,scanToRead:yQ},wQ={en:{translation:tQ},"zh-CN":{translation:cQ},"zh-TW":{translation:bQ}};let PP;const CT=window.location.search;if(CT){const e=new URLSearchParams(CT).get("lang");e&&(PP=e)}hr.use(RP).use(h3).init({lng:PP,fallbackLng:"zh-CN",resources:wQ,interpolation:{escapeValue:!1}});N1.render(X.jsxs(X.Fragment,{children:[X.jsx(XL,{router:pJ}),X.jsx(y6,{position:"top-center"}),X.jsx(g$,{}),X.jsx("div",{style:{width:0,height:0,opacity:0,overflow:"hidden"},children:Array(100).fill(0).map(t=>"hello").join("")})]}),document.getElementById("root"));
